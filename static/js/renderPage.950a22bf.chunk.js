(this.webpackJsonpreact_client=this.webpackJsonpreact_client||[]).push([[16],{1208:function(e,t,n){},1209:function(e,t,n){},1210:function(e,t,n){},1211:function(e,t,n){e.exports=function(){"use strict";var e={314:function(e,t,n){n.r(t),n.d(t,{default:function(){return s},wordsCount:function(){return c},wordsSplit:function(){return i},wordsDetect:function(){return a}});var r=[",","\uff0c",".","\u3002",":","\uff1a",";","\uff1b","[","]","\u3010","]","\u3011","{","\uff5b","}","\uff5d","(","\uff08",")","\uff09","<","\u300a",">","\u300b","$","\uffe5","!","\uff01","?","\uff1f","~","\uff5e","'","\u2019",'"',"\u201c","\u201d","*","/","\\","&","%","@","#","^","\u3001","\u3001","\u3001","\u3001"],o={words:[],count:0},a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return o;var n=String(e);if(""===n.trim())return o;var a=t.punctuationAsBreaker?" ":"",c=t.disableDefaultPunctuation?[]:r,i=t.punctuation||[];c.concat(i).forEach((function(e){var t=new RegExp("\\"+e,"g");n=n.replace(t,a)})),n=(n=(n=(n=n.replace(/[\uFF00-\uFFEF\u2000-\u206F]/g,"")).replace(/\s+/," ")).split(" ")).filter((function(e){return e.trim()}));var s=new RegExp("(\\d+)|[a-zA-Z\xc0-\xff\u0100-\u017f\u0180-\u024f\u0250-\u02af\u1e00-\u1eff\u0400-\u04ff\u0500-\u052f\u0d00-\u0d7f]+|[\u2e80-\u2eff\u2f00-\u2fdf\u3000-\u303f\u31c0-\u31ef\u3200-\u32ff\u3300-\u33ff\u3400-\u3fff\u4000-\u4dbf\u4e00-\u4fff\u5000-\u5fff\u6000-\u6fff\u7000-\u7fff\u8000-\u8fff\u9000-\u9fff\uf900-\ufaff\u3040-\u309f\u30a0-\u30ff\u31f0-\u31ff\u3190-\u319f\u1100-\u11ff\u3130-\u318f\ua960-\ua97f\uac00-\uafff\ub000-\ubfff\uc000-\ucfff\ud000-\ud7af\ud7b0-\ud7ff]","g"),u=[];return n.forEach((function(e){var t,n=[];do{(t=s.exec(e))&&n.push(t[0])}while(t);0===n.length?u.push(e):u=u.concat(n)})),{words:u,count:u.length}},c=function(e){return a(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).count},i=function(e){return a(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).words},s=c}},t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}return n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(314)}()},1613:function(e,t,n){"use strict";n.r(t),n.d(t,"RenderPage",(function(){return V}));var r=n(0),o=n(390),a=n(9),c=n(33),i=n(106),s=n(336),u=n(616),l=n(213),d=n(61),f=n(34),b=n(44),h=n(72),O=n(17),j=n(16),v=n(1),g=function(){Object(d.a)();var e=Object(j.a)((function(e){return e.noteDetails.frontmatter.deprecatedTagsSyntax}));return Object(v.jsx)(O.a,{condition:e,children:Object(v.jsxs)(l.a,{"data-cy":"yamlArrayDeprecationAlert",className:"text-wrap",variant:"warning",dir:"auto",children:[Object(v.jsx)("span",{className:"text-wrap",children:Object(v.jsx)("span",{className:"text-wrap",children:Object(v.jsx)(f.a,{i18nKey:"editor.deprecatedTags"})})}),Object(v.jsx)("br",{}),Object(v.jsx)(h.a,{i18nKey:"common.readForMoreInfo",href:b.faq,className:"text-primary"})]})})},C=function(e,t,n,o,c){var i=Object(r.useState)(),s=Object(a.a)(i,2),u=s[0],l=s[1],d=Object(r.useCallback)((function(n){var r,o;if(e.current&&t.current){var a=null!==(r=e.current.offsetTop)&&void 0!==r?r:0,c=(null!==(o=t.current.offsetTop)&&void 0!==o?o:0)-a,i=n.map((function(e){return{line:e.line,position:e.position+c}}));l(i)}}),[e,t]),f=function(e,t,n){return Object(r.useCallback)((function(){if(t.current&&e&&0!==e.length&&n){var r=t.current.scrollTop,o=e.filter((function(e){return e.position<=r}));if(0!==o.length){var a=e.filter((function(e){return e.position>r}));if(0!==a.length){var c=o.reduce((function(e,t){return e.line>=t.line?e:t})),i=a.reduce((function(e,t){return e.line<t.line?e:t})),s=i.position-c.position,u=r-c.position,l=u/s,d=i.line-c.line,f=Math.floor(d*l+c.line),b=s/d,h=Math.floor(u%b/b*100);n({firstLineInView:f,scrolledPercentage:h})}}}}),[e,n,t])}(u,e,c);return function(e,t,n,o){var a=Object(r.useRef)(),c=Object(r.useCallback)((function(e){o.current&&e!==a.current&&(a.current=e,o.current.scrollTo({top:e}))}),[o]);Object(r.useEffect)((function(){if(o.current&&t&&0!==t.length&&e)if(e.firstLineInView<t[0].line)c(0);else if(e.firstLineInView>t[t.length-1].line)c(o.current.offsetHeight);else{var r=function(e,t){for(var n,r,o=0;o<e.length;o++){var a=e[o];if(a&&(a.line<=t&&(n=a),a.line>t&&(r=a),r&&n))break}return{lastMarkBefore:n,firstMarkAfter:r}}(t,e.firstLineInView),a=r.lastMarkBefore,i=r.firstMarkAfter,s=a?a.position:t[0].position,u=i?i.position:o.current.offsetHeight,l=a?a.line:1,d=(u-s)/((i?i.line:n)-l),f=s+(e.firstLineInView-l)*d+e.scrolledPercentage/100*d,b=Math.floor(f);c(b)}}),[n,t,o,e,c])}(o,u,n,e),[d,f]},S=n(1586),p=(n(1208),n(615)),k=n(638),m=function e(t,n,o,a,c){var i;if(n<0)return null;var s=t.n.trim(),u=(null!==(i=o.get(s))&&void 0!==i?i:-1)+1,l="#".concat(Object(k.a)(s)).concat(u>0?"-".concat(u):""),d=new URL(l,c).toString();o.set(s,u);var f=Object(v.jsxs)(r.Fragment,{children:[Object(v.jsx)(O.a,{condition:t.l>0,children:Object(v.jsx)("a",{href:d,title:s,onClick:Object(p.b)(l.substr(1)),children:s})}),Object(v.jsx)(O.a,{condition:t.c.length>0,children:Object(v.jsx)("ul",{children:t.c.map((function(t){return e(t,n-1,o,!0,c)}))})})]});return a?Object(v.jsx)("li",{children:f},d):f},T=(n(1209),function(e){var t=e.ast,n=e.maxDepth,o=void 0===n?3:n,a=e.className,c=e.baseUrl;Object(d.a)();var i=Object(r.useMemo)((function(){return m(t,o,new Map,!1,c)}),[t,o,c]);return Object(v.jsxs)("div",{className:"markdown-toc ".concat(null!==a&&void 0!==a?a:""),children:[Object(v.jsx)(O.a,{condition:0===t.c.length,children:Object(v.jsx)(f.a,{i18nKey:"editor.infoToc"})}),i]})}),E=n(101),w=n(15),y=(n(1210),function(e){var t=e.tocAst,n=e.baseUrl;return Object(v.jsx)("div",{className:"markdown-toc-sidebar-button",children:Object(v.jsxs)(E.a,{drop:"up",children:[Object(v.jsx)(E.a.Toggle,{id:"toc-overlay-button",variant:"secondary",className:"no-arrow",children:Object(v.jsx)(w.a,{icon:"list-ol"})}),Object(v.jsx)(E.a.Menu,{children:Object(v.jsx)("div",{className:"p-2",children:Object(v.jsx)(T,{ast:t,baseUrl:n})})})]})})}),x=function(e){var t=e.tocAst,n=e.width,r=e.baseUrl;return n>=1100?Object(v.jsx)(T,{ast:t,className:"sticky",baseUrl:r}):Object(v.jsx)(y,{tocAst:t,baseUrl:r})},N=function(e){var t,n=e.additionalOuterContainerClasses,o=e.additionalRendererClasses,c=e.onFirstHeadingChange,i=e.onFrontmatterChange,s=e.onMakeScrollSource,l=e.onTaskCheckedChange,d=e.baseUrl,f=e.markdownContent,b=e.onImageClick,h=e.onScroll,p=e.scrollState,k=e.onHeightChange,m=e.disableToc,T=Object(r.useRef)(null),E=Object(u.a)({ref:T.current}),w=Object(r.useRef)(null),y=null!==(t=Object(u.a)({ref:w.current}).width)&&void 0!==t?t:0,N=Object(r.useState)(),M=Object(a.a)(N,2),_=M[0],R=M[1],H=Object(j.a)((function(e){return e.noteDetails.frontmatter.breaks}));Object(r.useEffect)((function(){k&&k(E.height?E.height+1:0)}),[E.height,k]);var A=Object(r.useMemo)((function(){return f.split("\n").length}),[f]),D=C(w,T,A,p,h),I=Object(a.a)(D,2),F=I[0],L=I[1];return Object(v.jsxs)("div",{className:"markdown-document ".concat(null!==n&&void 0!==n?n:""),ref:w,onScroll:L,onMouseEnter:s,children:[Object(v.jsx)("div",{className:"markdown-document-side"}),Object(v.jsxs)("div",{className:"markdown-document-content",children:[Object(v.jsx)(g,{}),Object(v.jsx)(S.BasicMarkdownRenderer,{outerContainerRef:T,className:"mb-3 ".concat(null!==o&&void 0!==o?o:""),content:f,onFirstHeadingChange:c,onLineMarkerPositionChanged:F,onFrontmatterChange:i,onTaskCheckedChange:l,onTocChange:R,baseUrl:d,onImageClick:b,useAlternativeBreaks:H})]}),Object(v.jsx)("div",{className:"markdown-document-side pt-4",children:Object(v.jsx)(O.a,{condition:!!_&&!m,children:Object(v.jsx)(x,{tocAst:_,baseUrl:d,width:y})})})]})},M=n(68),_=n(82),R=n(83),H=n(84),A=function(e){Object(R.a)(n,e);var t=Object(H.a)(n);function n(){var e;Object(M.a)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).onSetMarkdownContentHandler=void 0,e.onSetDarkModeHandler=void 0,e.onSetScrollStateHandler=void 0,e.onSetBaseConfigurationHandler=void 0,e.onGetWordCountHandler=void 0,e}return Object(_.a)(n,[{key:"onSetBaseConfiguration",value:function(e){this.onSetBaseConfigurationHandler=e}},{key:"onSetMarkdownContent",value:function(e){this.onSetMarkdownContentHandler=e}},{key:"onSetDarkMode",value:function(e){this.onSetDarkModeHandler=e}},{key:"onSetScrollState",value:function(e){this.onSetScrollStateHandler=e}},{key:"onGetWordCount",value:function(e){this.onGetWordCountHandler=e}},{key:"sendRendererReady",value:function(){this.enableCommunication(),this.sendMessageToOtherSide({type:c.a.RENDERER_READY})}},{key:"sendTaskCheckBoxChange",value:function(e,t){this.sendMessageToOtherSide({type:c.a.ON_TASK_CHECKBOX_CHANGE,checked:t,lineInMarkdown:e})}},{key:"sendFirstHeadingChanged",value:function(e){this.sendMessageToOtherSide({type:c.a.ON_FIRST_HEADING_CHANGE,firstHeading:e})}},{key:"sendSetScrollSourceToRenderer",value:function(){this.sendMessageToOtherSide({type:c.a.SET_SCROLL_SOURCE_TO_RENDERER})}},{key:"sendSetFrontmatter",value:function(e){this.sendMessageToOtherSide({type:c.a.ON_SET_FRONTMATTER,frontmatter:e})}},{key:"sendSetScrollState",value:function(e){this.sendMessageToOtherSide({type:c.a.SET_SCROLL_STATE,scrollState:e})}},{key:"sendClickedImageUrl",value:function(e){this.sendMessageToOtherSide({type:c.a.IMAGE_CLICKED,details:e})}},{key:"sendHeightChange",value:function(e){this.sendMessageToOtherSide({type:c.a.ON_HEIGHT_CHANGE,height:e})}},{key:"sendWordCountCalculated",value:function(e){this.sendMessageToOtherSide({type:c.a.ON_WORD_COUNT_CALCULATED,words:e})}},{key:"handleEvent",value:function(e){var t,n,r,o,a,i=e.data;switch(i.type){case c.a.SET_MARKDOWN_CONTENT:return null===(t=this.onSetMarkdownContentHandler)||void 0===t||t.call(this,i.content),!1;case c.a.SET_DARKMODE:return null===(n=this.onSetDarkModeHandler)||void 0===n||n.call(this,i.activated),!1;case c.a.SET_SCROLL_STATE:return null===(r=this.onSetScrollStateHandler)||void 0===r||r.call(this,i.scrollState),!1;case c.a.SET_BASE_CONFIGURATION:return null===(o=this.onSetBaseConfigurationHandler)||void 0===o||o.call(this,i.baseConfiguration),!1;case c.a.GET_WORD_COUNT:return null===(a=this.onGetWordCountHandler)||void 0===a||a.call(this),!1}}}]),n}(n(195).a),D=n(123),I=Object(r.createContext)(void 0),F=function(e){var t=e.children,n=Object(D.b)((function(e){return e.config.iframeCommunication.editorOrigin})),o=Object(r.useMemo)((function(){var e=new A;return e.setMessageTarget(window.parent,n),e}),[n]);return Object(r.useEffect)((function(){var e=o;return null===e||void 0===e||e.sendRendererReady(),function(){return null===e||void 0===e?void 0:e.unregisterEventListener()}}),[o]),Object(v.jsx)(I.Provider,{value:o,children:t})},L=n(85),U=n(1211),B=n.n(U),G=["img","pre","nav"],P=["katex-mathml"],W=function e(t){return!t.textContent||function(e){return G.includes(e.nodeName.toLowerCase())}(t)||function(e){return P.some((function(t){var n;return null===(n=e.classList)||void 0===n?void 0:n.contains(t)}))}(t)?0:t.hasChildNodes()?Object(L.a)(t.childNodes).reduce((function(t,n){return t+e(n)}),0):B()(t.textContent)},K=function(){var e=Object(r.useState)(""),t=Object(a.a)(e,2),n=t[0],o=t[1],u=Object(r.useState)({firstLineInView:1,scrolledPercentage:0}),l=Object(a.a)(u,2),d=l[0],f=l[1],b=Object(r.useState)(void 0),h=Object(a.a)(b,2),O=h[0],j=h[1],g=function(){var e=Object(r.useContext)(I);if(!e)throw new Error("No renderer-to-editor-iframe-communicator received. Did you forget to use the provider component?");return e}(),C=Object(r.useCallback)((function(){var e=document.querySelector(".markdown-body");if(e){var t=W(e);g.sendWordCountCalculated(t)}else g.sendWordCountCalculated(0)}),[g]);Object(r.useEffect)((function(){return g.onSetBaseConfiguration(j)}),[g]),Object(r.useEffect)((function(){return g.onSetMarkdownContent(o)}),[g]),Object(r.useEffect)((function(){return g.onSetDarkMode(i.d)}),[g]),Object(r.useEffect)((function(){return g.onSetScrollState(f)}),[g,d]),Object(r.useEffect)((function(){return g.onGetWordCount(C)}),[g,C]);var S=Object(r.useCallback)((function(e,t){g.sendTaskCheckBoxChange(e,t)}),[g]),p=Object(r.useCallback)((function(e){g.sendFirstHeadingChanged(e)}),[g]),k=Object(r.useCallback)((function(){g.sendSetScrollSourceToRenderer()}),[g]),m=Object(r.useCallback)((function(e){Object(s.c)(e),g.sendSetFrontmatter(e)}),[g]),T=Object(r.useCallback)((function(e){g.sendSetScrollState(e)}),[g]),E=function(e){return Object(r.useCallback)((function(t){var n=t.target;""!==n.src&&e.sendClickedImageUrl({src:n.src,alt:n.alt,title:n.title})}),[e])}(g),w=Object(r.useCallback)((function(e){g.sendHeightChange(e)}),[g]);if(!O)return null;switch(O.rendererType){case c.b.DOCUMENT:return Object(v.jsx)(N,{additionalOuterContainerClasses:"vh-100 bg-light",markdownContent:n,onTaskCheckedChange:S,onFirstHeadingChange:p,onMakeScrollSource:k,onFrontmatterChange:m,scrollState:d,onScroll:T,baseUrl:O.baseUrl,onImageClick:E});case c.b.INTRO:return Object(v.jsx)(N,{additionalOuterContainerClasses:"vh-100 bg-light overflow-y-hidden",markdownContent:n,baseUrl:O.baseUrl,onImageClick:E,disableToc:!0,onHeightChange:w});default:return null}},V=function(){return Object(o.a)(),Object(v.jsx)(F,{children:Object(v.jsx)(K,{})})};t.default=V},336:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return l}));var r=n(21),o=n(176),a=n(89),c=function(e){r.a.dispatch({type:a.a.SET_DOCUMENT_CONTENT,content:e})},i=function(e){r.a.dispatch({type:a.a.SET_NOTE_DATA_FROM_SERVER,note:e})},s=function(e){r.a.dispatch({type:a.a.UPDATE_NOTE_TITLE_BY_FIRST_HEADING,firstHeading:e})},u=function(e){e||(e=o.b.frontmatter),r.a.dispatch({type:a.a.SET_NOTE_FRONTMATTER,frontmatter:e})},l=function(e,t){r.a.dispatch({type:a.a.SET_CHECKBOX_IN_MARKDOWN_CONTENT,checked:t,lineInMarkdown:e})}},390:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),o=n(165),a=function(){var e=Object(o.a)();Object(r.useEffect)((function(){return e?window.document.body.classList.add("dark"):window.document.body.classList.remove("dark"),function(){window.document.body.classList.remove("dark")}}),[e])}}}]);
//# sourceMappingURL=renderPage.950a22bf.chunk.js.map