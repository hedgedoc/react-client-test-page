(this.webpackJsonpreact_client=this.webpackJsonpreact_client||[]).push([[13],{1035:function(e,t,n){},1626:function(e,t,n){"use strict";n.r(t),n.d(t,"RenderPage",(function(){return I}));var r=n(8),a=n(0),c=n(17),i=n(387),o=n(96),s=n(334),l=n(66),u=n(78),d=n(106),f=n(107),b=n(186),h=n(37),O=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).onSetMarkdownContentHandler=void 0,e.onSetDarkModeHandler=void 0,e.onSetScrollStateHandler=void 0,e.onSetBaseConfigurationHandler=void 0,e}return Object(u.a)(n,[{key:"onSetBaseConfiguration",value:function(e){this.onSetBaseConfigurationHandler=e}},{key:"onSetMarkdownContent",value:function(e){this.onSetMarkdownContentHandler=e}},{key:"onSetDarkMode",value:function(e){this.onSetDarkModeHandler=e}},{key:"onSetScrollState",value:function(e){this.onSetScrollStateHandler=e}},{key:"sendRendererReady",value:function(){this.sendMessageToOtherSide({type:h.a.RENDERER_READY})}},{key:"sendTaskCheckBoxChange",value:function(e,t){this.sendMessageToOtherSide({type:h.a.ON_TASK_CHECKBOX_CHANGE,checked:t,lineInMarkdown:e})}},{key:"sendFirstHeadingChanged",value:function(e){this.sendMessageToOtherSide({type:h.a.ON_FIRST_HEADING_CHANGE,firstHeading:e})}},{key:"sendSetScrollSourceToRenderer",value:function(){this.sendMessageToOtherSide({type:h.a.SET_SCROLL_SOURCE_TO_RENDERER})}},{key:"sendSetFrontmatter",value:function(e){this.sendMessageToOtherSide({type:h.a.ON_SET_FRONTMATTER,frontmatter:e})}},{key:"sendSetScrollState",value:function(e){this.sendMessageToOtherSide({type:h.a.SET_SCROLL_STATE,scrollState:e})}},{key:"sendClickedImageUrl",value:function(e){this.sendMessageToOtherSide({type:h.a.IMAGE_CLICKED,details:e})}},{key:"sendHeightChange",value:function(e){this.sendMessageToOtherSide({type:h.a.ON_HEIGHT_CHANGE,height:e})}},{key:"handleEvent",value:function(e){var t,n,r,a,c=e.data;switch(c.type){case h.a.SET_MARKDOWN_CONTENT:return null===(t=this.onSetMarkdownContentHandler)||void 0===t||t.call(this,c.content),!1;case h.a.SET_DARKMODE:return null===(n=this.onSetDarkModeHandler)||void 0===n||n.call(this,c.activated),!1;case h.a.SET_SCROLL_STATE:return null===(r=this.onSetScrollStateHandler)||void 0===r||r.call(this,c.scrollState),!1;case h.a.SET_BASE_CONFIGURATION:return null===(a=this.onSetBaseConfigurationHandler)||void 0===a||a.call(this,c.baseConfiguration),!1}}}]),n}(b.a),j=n(93),S=n(614),g=n(15),C=n(16),k=n(204),v=n(55),T=n(32),m=n(56),p=n(68),E=n(1),y=function(){Object(v.a)();var e=Object(c.b)((function(e){return e.noteDetails.frontmatter.deprecatedTagsSyntax}));return Object(E.jsx)(C.a,{condition:e,children:Object(E.jsxs)(k.a,{"data-cy":"yamlArrayDeprecationAlert",className:"text-wrap",variant:"warning",dir:"auto",children:[Object(E.jsx)("span",{className:"text-wrap",children:Object(E.jsx)("span",{className:"text-wrap",children:Object(E.jsx)(T.a,{i18nKey:"editor.deprecatedTags"})})}),Object(E.jsx)("br",{}),Object(E.jsx)(p.a,{i18nKey:"common.readForMoreInfo",href:m.faq,className:"text-primary"})]})})},M=function(e,t,n,c,i){var o=Object(a.useState)(),s=Object(r.a)(o,2),l=s[0],u=s[1],d=Object(a.useCallback)((function(n){var r,a;if(e.current&&t.current){var c=null!==(r=e.current.offsetTop)&&void 0!==r?r:0,i=(null!==(a=t.current.offsetTop)&&void 0!==a?a:0)-c,o=n.map((function(e){return{line:e.line,position:e.position+i}}));u(o)}}),[e,t]),f=function(e,t,n){return Object(a.useCallback)((function(){if(t.current&&e&&0!==e.length&&n){var r=t.current.scrollTop,a=e.filter((function(e){return e.position<=r}));if(0!==a.length){var c=e.filter((function(e){return e.position>r}));if(0!==c.length){var i=a.reduce((function(e,t){return e.line>=t.line?e:t})),o=c.reduce((function(e,t){return e.line<t.line?e:t})),s=o.position-i.position,l=r-i.position,u=l/s,d=o.line-i.line,f=Math.floor(d*u+i.line),b=s/d,h=Math.floor(l%b/b*100);n({firstLineInView:f,scrolledPercentage:h})}}}}),[e,n,t])}(l,e,i);return function(e,t,n,r){var c=Object(a.useRef)(),i=Object(a.useCallback)((function(e){r.current&&e!==c.current&&(c.current=e,r.current.scrollTo({top:e}))}),[r]);Object(a.useEffect)((function(){if(r.current&&t&&0!==t.length&&e)if(e.firstLineInView<t[0].line)i(0);else if(e.firstLineInView>t[t.length-1].line)i(r.current.offsetHeight);else{var a=function(e,t){for(var n,r,a=0;a<e.length;a++){var c=e[a];if(c&&(c.line<=t&&(n=c),c.line>t&&(r=c),r&&n))break}return{lastMarkBefore:n,firstMarkAfter:r}}(t,e.firstLineInView),c=a.lastMarkBefore,o=a.firstMarkAfter,s=c?c.position:t[0].position,l=o?o.position:r.current.offsetHeight,u=c?c.line:1,d=(l-s)/((o?o.line:n)-u),f=s+(e.firstLineInView-u)*d+e.scrolledPercentage/100*d,b=Math.floor(f);i(b)}}),[n,t,r,e,i])}(c,l,n,e),[d,f]},w=n(598),N=n(599),_=function e(t,n,r,c,i){var o;if(n<0)return null;var s=t.n.trim(),l=(null!==(o=r.get(s))&&void 0!==o?o:-1)+1,u="#".concat(Object(N.a)(s)).concat(l>0?"-".concat(l):""),d=new URL(u,i).toString();r.set(s,l);var f=Object(E.jsxs)(a.Fragment,{children:[Object(E.jsx)(C.a,{condition:t.l>0,children:Object(E.jsx)("a",{href:d,title:s,onClick:Object(w.b)(u.substr(1)),children:s})}),Object(E.jsx)(C.a,{condition:t.c.length>0,children:Object(E.jsx)("ul",{children:t.c.map((function(t){return e(t,n-1,r,!0,i)}))})})]});return c?Object(E.jsx)("li",{children:f},d):f},x=(n(906),function(e){var t=e.ast,n=e.maxDepth,r=void 0===n?3:n,c=e.className,i=e.baseUrl;Object(v.a)();var o=Object(a.useMemo)((function(){return _(t,r,new Map,!1,i)}),[t,r,i]);return Object(E.jsxs)("div",{className:"markdown-toc ".concat(null!==c&&void 0!==c?c:""),children:[Object(E.jsx)(C.a,{condition:0===t.c.length,children:Object(E.jsx)(T.a,{i18nKey:"editor.infoToc"})}),o]})}),R=n(1585),H=(n(1035),function(e){var t,n=e.additionalOuterContainerClasses,i=e.additionalRendererClasses,o=e.onFirstHeadingChange,s=e.onFrontmatterChange,l=e.onMakeScrollSource,u=e.onTaskCheckedChange,d=e.baseUrl,f=e.markdownContent,b=e.onImageClick,h=e.onScroll,O=e.scrollState,k=e.onHeightChange,v=e.disableToc,T=Object(a.useRef)(null),m=Object(S.a)({ref:T.current}),p=Object(a.useRef)(null),w=null!==(t=Object(S.a)({ref:p.current}).width)&&void 0!==t?t:0,N=Object(a.useState)(),_=Object(r.a)(N,2),H=_[0],I=_[1],A=Object(c.b)((function(e){return e.noteDetails.frontmatter.breaks}));Object(a.useEffect)((function(){k&&k(m.height?m.height+1:0)}),[m.height,k]);var D=Object(a.useMemo)((function(){return f.split("\n").length}),[f]),L=M(p,T,D,O,h),F=Object(r.a)(L,2),U=F[0],B=F[1];return Object(E.jsxs)("div",{className:"markdown-document ".concat(null!==n&&void 0!==n?n:""),ref:p,onScroll:B,onMouseEnter:l,children:[Object(E.jsx)("div",{className:"markdown-document-side"}),Object(E.jsxs)("div",{className:"markdown-document-content",children:[Object(E.jsx)(y,{}),Object(E.jsx)(R.BasicMarkdownRenderer,{outerContainerRef:T,className:"mb-3 ".concat(null!==i&&void 0!==i?i:""),content:f,onFirstHeadingChange:o,onLineMarkerPositionChanged:U,onFrontmatterChange:s,onTaskCheckedChange:u,onTocChange:I,baseUrl:d,onImageClick:b,useAlternativeBreaks:A})]}),Object(E.jsx)("div",{className:"markdown-document-side pt-4",children:Object(E.jsxs)(C.a,{condition:!!H&&!v,children:[Object(E.jsx)(C.a,{condition:w>=1100,children:Object(E.jsx)(x,{ast:H,className:"sticky",baseUrl:d})}),Object(E.jsx)(C.a,{condition:w<1100,children:Object(E.jsx)("div",{className:"markdown-toc-sidebar-button",children:Object(E.jsxs)(j.a,{drop:"up",children:[Object(E.jsx)(j.a.Toggle,{id:"toc-overlay-button",variant:"secondary",className:"no-arrow",children:Object(E.jsx)(g.a,{icon:"list-ol"})}),Object(E.jsx)(j.a.Menu,{children:Object(E.jsx)("div",{className:"p-2",children:Object(E.jsx)(x,{ast:H,baseUrl:d})})})]})})})]})})]})}),I=function(){Object(i.a)();var e=Object(a.useState)(""),t=Object(r.a)(e,2),n=t[0],l=t[1],u=Object(a.useState)({firstLineInView:1,scrolledPercentage:0}),d=Object(r.a)(u,2),f=d[0],b=d[1],j=Object(a.useState)(void 0),S=Object(r.a)(j,2),g=S[0],C=S[1],k=Object(c.b)((function(e){return e.config.iframeCommunication.editorOrigin})),v=Object(a.useMemo)((function(){var e=new O;return e.setOtherSide(window.parent,k),e}),[k]);Object(a.useEffect)((function(){return v.sendRendererReady(),function(){return v.unregisterEventListener()}}),[v]),Object(a.useEffect)((function(){return v.onSetBaseConfiguration(C)}),[v]),Object(a.useEffect)((function(){return v.onSetMarkdownContent(l)}),[v]),Object(a.useEffect)((function(){return v.onSetDarkMode(o.d)}),[v]),Object(a.useEffect)((function(){return v.onSetScrollState(b)}),[v,f]);var T=Object(a.useCallback)((function(e,t){v.sendTaskCheckBoxChange(e,t)}),[v]),m=Object(a.useCallback)((function(e){v.sendFirstHeadingChanged(e)}),[v]),p=Object(a.useCallback)((function(){v.sendSetScrollSourceToRenderer()}),[v]),y=Object(a.useCallback)((function(e){Object(s.c)(e),v.sendSetFrontmatter(e)}),[v]),M=Object(a.useCallback)((function(e){v.sendSetScrollState(e)}),[v]),w=function(e){return Object(a.useCallback)((function(t){var n=t.target;""!==n.src&&e.sendClickedImageUrl({src:n.src,alt:n.alt,title:n.title})}),[e])}(v),N=Object(a.useCallback)((function(e){v.sendHeightChange(e)}),[v]);if(!g)return null;switch(g.rendererType){case h.b.DOCUMENT:return Object(E.jsx)(H,{additionalOuterContainerClasses:"vh-100 bg-light",markdownContent:n,onTaskCheckedChange:T,onFirstHeadingChange:m,onMakeScrollSource:p,onFrontmatterChange:y,scrollState:f,onScroll:M,baseUrl:g.baseUrl,onImageClick:w});case h.b.INTRO:return Object(E.jsx)(H,{additionalOuterContainerClasses:"vh-100 bg-light overflow-y-hidden",markdownContent:n,baseUrl:g.baseUrl,onImageClick:w,disableToc:!0,onHeightChange:N});default:return null}};t.default=I},334:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return u}));var r=n(26),a=n(159),c=n(83),i=function(e){r.a.dispatch({type:c.a.SET_DOCUMENT_CONTENT,content:e})},o=function(e){r.a.dispatch({type:c.a.SET_NOTE_DATA_FROM_SERVER,note:e})},s=function(e){r.a.dispatch({type:c.a.UPDATE_NOTE_TITLE_BY_FIRST_HEADING,firstHeading:e})},l=function(e){e||(e=a.b.frontmatter),r.a.dispatch({type:c.a.SET_NOTE_FRONTMATTER,frontmatter:e})},u=function(e,t){r.a.dispatch({type:c.a.SET_CHECKBOX_IN_MARKDOWN_CONTENT,checked:t,lineInMarkdown:e})}},387:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(0),a=n(154),c=function(){var e=Object(a.a)();Object(r.useEffect)((function(){return e?window.document.body.classList.add("dark"):window.document.body.classList.remove("dark"),function(){window.document.body.classList.remove("dark")}}),[e])}},906:function(e,t,n){}}]);
//# sourceMappingURL=renderPage.d0d748ba.chunk.js.map