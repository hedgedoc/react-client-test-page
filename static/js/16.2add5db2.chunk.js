(this.webpackJsonpreact_client=this.webpackJsonpreact_client||[]).push([[16],{1003:function(e,t,n){},1004:function(e,t,n){},1005:function(e,t,n){},1007:function(e,t,n){},1008:function(e,t,n){},1009:function(e,t,n){},1010:function(e,t,n){},1012:function(e,t,n){},1591:function(e,t,n){"use strict";n.r(t),n.d(t,"RenderPage",(function(){return Mt}));var r=n(0),a=n(7),c=n(31),i=n.n(c),o=n(1),l=n.n(o),s=n(16),u=n(172),d=n(73),f=n(145),h=n(97),b=n(736),v=n(12),g=n(14),p=n(420),j=n(61),m=n(76),O=n(118),k=n(227),w=n(54),x=function e(t){var n,r,a,c,i,o,l,s,u,d,f;if(Object(w.a)(this,e),this.title=void 0,this.description=void 0,this.tags=void 0,this.deprecatedTagsSyntax=void 0,this.robots=void 0,this.lang=void 0,this.dir=void 0,this.breaks=void 0,this.GA=void 0,this.disqus=void 0,this.type=void 0,this.opengraph=void 0,this.title=null!==(n=null===t||void 0===t?void 0:t.title)&&void 0!==n?n:"",this.description=null!==(r=null===t||void 0===t?void 0:t.description)&&void 0!==r?r:"",this.robots=null!==(a=null===t||void 0===t?void 0:t.robots)&&void 0!==a?a:"",this.breaks=null===(c=null===t||void 0===t?void 0:t.breaks)||void 0===c||c,this.GA=null!==(i=null===t||void 0===t?void 0:t.GA)&&void 0!==i?i:"",this.disqus=null!==(o=null===t||void 0===t?void 0:t.disqus)&&void 0!==o?o:"",this.type=null!==(l=null===t||void 0===t?void 0:t.type)&&void 0!==l?l:"",this.lang=null!==(s=null===t||void 0===t?void 0:t.lang)&&void 0!==s?s:"en",this.dir=null!==(u=null===t||void 0===t?void 0:t.dir)&&void 0!==u?u:"ltr","string"===typeof(null===t||void 0===t?void 0:t.tags))this.tags=null!==(d=null===t||void 0===t||null===(f=t.tags)||void 0===f?void 0:f.split(",").map((function(e){return e.trim()})))&&void 0!==d?d:[],this.deprecatedTagsSyntax=!0;else if("object"===typeof(null===t||void 0===t?void 0:t.tags)){var h,b;this.tags=null!==(h=null===t||void 0===t||null===(b=t.tags)||void 0===b?void 0:b.filter((function(e){return null!==e})))&&void 0!==h?h:[],this.deprecatedTagsSyntax=!1}else this.tags=[],this.deprecatedTagsSyntax=!1;this.opengraph=(null===t||void 0===t?void 0:t.opengraph)?new Map(Object.entries(t.opengraph)):new Map},y=n(55),C=(n(1003),function(e){var t=e.code,a=Object(o.useRef)(null);return Object(o.useEffect)((function(){if(a.current){var e=a.current;n.e(12).then(n.t.bind(null,1568,7)).then((function(n){n.renderAbc(e,t)})).catch((function(){console.error("error while loading abcjs")}))}}),[t]),Object(r.jsx)("div",{ref:a,className:"abcjs-score bg-white text-center overflow-x-auto"})}),S=function(){function e(){Object(w.a)(this,e)}return Object(y.a)(e,[{key:"getReplacement",value:function(e){if("code"===e.name&&e.attribs&&e.attribs["data-highlight-language"]&&"abc"===e.attribs["data-highlight-language"]&&e.children&&e.children[0]){var t=e.children[0].data;return Object(r.jsx)(C,{code:t})}}}]),e}(),M=n(80),R=n(81),E=n(473),N=n.n(E),T=function e(){Object(w.a)(this,e)},I=function(e,t){if(e.name==="app-".concat(t)&&e.attribs)return e.attribs},L=(n(1004),function(e){var t=e.previewContainerClassName,n=e.containerClassName,c=e.onImageFetch,i=e.loadingImageUrl,l=e.children,s=e.tooltip,u=e.hoverIcon,d=e.hoverTextI18nKey,f=e.onActivate,h=Object(o.useState)(!1),b=Object(a.a)(h,2),v=b[0],p=b[1],j=Object(o.useState)(i),O=Object(a.a)(j,2),k=O[0],w=O[1];return Object(o.useEffect)((function(){c&&c().then((function(e){w(e)})).catch((function(e){console.error(e)}))}),[c]),Object(r.jsxs)("span",{className:n,children:[Object(r.jsx)(g.a,{condition:v,children:l}),Object(r.jsx)(g.a,{condition:!v,children:Object(r.jsxs)("span",{className:"one-click-embedding ".concat(t||""),onClick:function(){p(!0),f&&f()},children:[Object(r.jsx)(g.a,{condition:!!k,children:Object(r.jsx)("img",{className:"one-click-embedding-preview",src:k,alt:s||"",title:s||""})}),Object(r.jsx)(g.a,{condition:!!u,children:Object(r.jsxs)("span",{className:"one-click-embedding-icon text-center",children:[Object(r.jsx)("i",{className:"fa fa-".concat(u," fa-5x mb-2")}),Object(r.jsxs)(g.a,{condition:!!d,children:[Object(r.jsx)("br",{}),Object(r.jsx)(m.a,{i18nKey:d})]})]})})]})})]})}),A=function(e){var t=e.id;return Object(r.jsx)(L,{containerClassName:"embed-responsive embed-responsive-16by9",previewContainerClassName:"embed-responsive-item",hoverIcon:"play",loadingImageUrl:"https://asciinema.org/a/".concat(t,".png"),children:Object(r.jsx)("iframe",{className:"embed-responsive-item",title:"asciinema cast ".concat(t),src:"https://asciinema.org/a/".concat(t,"/embed?autoplay=1")})})},_=new RegExp("(?:".concat(/(?:http(?:s)?:\/\/)?/.source).concat(/(?:asciinema\.org\/a\/)/.source).concat(/(\d+)/.source).concat(/(?:[./?#].*)?/.source,")")),H={name:"asciinema-link",regex:new RegExp("^".concat(_.source,"$"),"i"),replace:function(e){return'<app-asciinema id="'.concat(e,'"></app-asciinema>')}},P=function(e){Object(M.a)(n,e);var t=Object(R.a)(n);function n(){var e;Object(w.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).counterMap=new Map,e}return Object(y.a)(n,[{key:"getReplacement",value:function(e){var t=I(e,"asciinema");if(t&&t.id){var n=t.id,a=(this.counterMap.get(n)||0)+1;return this.counterMap.set(n,a),Object(r.jsx)(A,{id:n})}}}]),n}(T);P.markdownItPlugin=function(e){N()(e,H)};var q=function(e){var t,n=e.code,a=e.delimiter,c=e.showHeader,i=e.tableRowClassName,l=e.tableColumnClassName,s=Object(o.useMemo)((function(){var e=function(e,t){var n=e.split("\n");if(!n||0===n.length)return[];var r=new RegExp("".concat(t,'(?=(?:[^"]*"[^"]*")*[^"]*$)'));return n.filter((function(e){return""!==e})).map((function(e){return e.split(r)}))}(n.trim(),a),t=[];return c&&(t=e.splice(0,1)[0]),{rowsWithColumns:e,headerRow:t}}),[n,a,c]),u=s.rowsWithColumns,d=s.headerRow;return Object(r.jsxs)("table",{className:"csv-html-table table-striped",children:[function(e){if(e!==[])return Object(r.jsx)("thead",{children:Object(r.jsx)("tr",{children:e.map((function(e,t){return Object(r.jsx)("th",{children:e},"header-".concat(t))}))})})}(d),(t=u,Object(r.jsx)("tbody",{children:t.map((function(e,t){return Object(r.jsx)("tr",{className:i,children:e.map((function(e,n){return Object(r.jsx)("td",{className:l,children:e.replace(/^"|"$/g,"")},"cell-".concat(t,"-").concat(n))}))},"row-".concat(t))}))}))]})},U=function(e){Object(M.a)(n,e);var t=Object(R.a)(n);function n(){return Object(w.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n,[{key:"getReplacement",value:function(e){if("code"===e.name&&e.attribs&&e.attribs["data-highlight-language"]&&"csv"===e.attribs["data-highlight-language"]&&e.children&&e.children[0]){var t=e.children[0].data,n=e.attribs["data-extra"],a=/\s*(delimiter=([^\s]*))?\s*(header)?/.exec(n),c=",",i=!1;return a&&(c=a[2]||c,i=void 0!==a[3]),Object(r.jsx)(q,{code:t,delimiter:c,showHeader:i})}}}]),n}(T),D=n(69),F=function(e){var t=e.code,c=Object(o.useRef)(null),i=Object(o.useState)(!1),l=Object(a.a)(i,2),s=l[0],u=l[1],d=Object(D.a)();return Object(j.a)(),Object(o.useEffect)((function(){if(null!==c.current){var e=c.current;return n.e(17).then(n.t.bind(null,1569,7)).then((function(n){var r=n.parse(t);try{r.drawSVG(e,{"line-width":2,fill:"none","font-size":16,"line-color":d?"#ffffff":"#000000","element-color":d?"#ffffff":"#000000","font-color":d?"#ffffff":"#000000","font-family":'Source Sans Pro, "Twemoji Mozilla", monospace'}),u(!1)}catch(s){u(!0)}})).catch((function(){console.error("error while loading flowchart.js")})),function(){Array.from(e.children).forEach((function(e){return e.remove()}))}}}),[t,d]),s?Object(r.jsx)(p.a,{variant:"danger",children:Object(r.jsx)(m.a,{i18nKey:"renderer.flowchart.invalidSyntax"})}):Object(r.jsx)("div",{ref:c,className:"text-center"})},z=function(e){Object(M.a)(n,e);var t=Object(R.a)(n);function n(){return Object(w.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n,[{key:"getReplacement",value:function(e){if("code"===e.name&&e.attribs&&e.attribs["data-highlight-language"]&&"flow"===e.attribs["data-highlight-language"]&&e.children&&e.children[0]){var t=e.children[0].data;return Object(r.jsx)(F,{code:t})}}}]),n}(T),B=(n(1005),function(e){var t=e.id,n=Object(o.useMemo)((function(){return'\n      <html lang="en">\n        <head>\n          <base target="_parent">\n          <title>gist</title>\n          <style>\n            * { font-size:12px; }\n            body{ overflow:hidden; margin: 0;}\n          </style>\n          <script type="text/javascript">\n            function doLoad() {\n                window.parent.postMessage({eventType: \'gistResize\', size: document.body.scrollHeight, id: \''.concat(t,'\'}, \'*\')\n                tweakLinks();\n            }\n            function tweakLinks() {\n                document.querySelectorAll(".gist-meta > a").forEach((link) => {\n                    link.rel="noopener noreferer"\n                    link.target="_blank"\n                })\n            }\n          <\/script>\n        </head>\n        <body onload="doLoad()">\n          <script type="text/javascript" src="https://gist.github.com/').concat(t,'.js"><\/script>\n        </body>\n      </html>')}),[t]),c=Object(o.useState)(0),i=Object(a.a)(c,2),l=i[0],s=i[1],u=Object(o.useCallback)((function(e){var n=e.data;n.id===t&&s(n.size)}),[t]);return Object(o.useEffect)((function(){return window.addEventListener("message",u),function(){window.removeEventListener("message",u)}}),[u]),Object(r.jsx)("iframe",{sandbox:"allow-scripts allow-top-navigation-by-user-activation allow-popups",width:"100%",height:"".concat(l,"px"),frameBorder:"0",title:"gist ".concat(t),src:"data:text/html;base64,".concat(btoa(n))})}),K=n.p+"static/media/gist-preview.d7b810ad.png",G=new RegExp("(?:".concat(/(?:http(?:s)?:\/\/)?/.source).concat(/(?:gist\.github\.com\/)/.source).concat(/(\w+\/\w+)/.source).concat(/(?:[./?#].*)?/.source,")")),$={name:"gist-link",regex:new RegExp("^".concat(G.source,"$"),"i"),replace:function(e){return'<app-gist id="'.concat(e,'"></app-gist>')}},W={name:"legacy-gist-short-code",regex:/^{%gist (\w+\/\w+) ?%}$/,replace:function(e){return'<app-gist id="'.concat(e,'"></app-gist>')}},V=function(e){Object(M.a)(n,e);var t=Object(R.a)(n);function n(){var e;Object(w.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).counterMap=new Map,e}return Object(y.a)(n,[{key:"getReplacement",value:function(e){var t=I(e,"gist");if(t&&t.id){var n=t.id,a=(this.counterMap.get(n)||0)+1;return this.counterMap.set(n,a),Object(r.jsx)(L,{previewContainerClassName:"gist-frame",loadingImageUrl:K,hoverIcon:"github",tooltip:"click to load gist",children:Object(r.jsx)(B,{id:n})})}}}]),n}(T);V.markdownItPlugin=function(e){N()(e,$),N()(e,W)};var Y=function(e){var t=e.code,c=Object(o.useRef)(null),i=Object(o.useState)(),l=Object(a.a)(i,2),s=l[0],u=l[1],d=Object(o.useCallback)((function(e){c.current&&(u(e),console.error(e),c.current.querySelectorAll("svg").forEach((function(e){return e.remove()})))}),[]);return Object(o.useEffect)((function(){if(c.current){var e=c.current;n.e(3).then(n.bind(null,1298)).then((function(e){e.wasmFolder("/static/js")})).then((function(){return Promise.all([n.e(3),n.e(0),n.e(19)]).then(n.t.bind(null,1570,7))})).then((function(n){try{u(void 0),n.graphviz(e,{useWorker:!1,zoom:!1}).onerror(d).renderDot(t)}catch(s){d(s)}})).catch((function(){console.error("error while loading graphviz")}))}}),[t,s,d]),Object(r.jsxs)(o.Fragment,{children:[Object(r.jsx)(g.a,{condition:!!s,children:Object(r.jsx)(p.a,{variant:"warning",children:s})}),Object(r.jsx)("div",{className:"text-center overflow-x-auto",ref:c})]})},J=function(){function e(){Object(w.a)(this,e)}return Object(y.a)(e,[{key:"getReplacement",value:function(e){if("code"===e.name&&e.attribs&&e.attribs["data-highlight-language"]&&"graphviz"===e.attribs["data-highlight-language"]&&e.children&&e.children[0]){var t=e.children[0].data;return Object(r.jsx)(Y,{code:t})}}}]),e}(),X=n(229),Q=function(e){Object(M.a)(n,e);var t=Object(R.a)(n);function n(){var e;Object(w.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).lastLineNumber=0,e}return Object(y.a)(n,[{key:"getReplacement",value:function(e){if("code"===e.name&&e.attribs&&e.attribs["data-highlight-language"]&&e.children&&e.children[0]){var t,n=e.attribs["data-highlight-language"],a=e.attribs["data-extra"],c=/(=(\d+|\+)?)?(!?)/.exec(a),i=!1,o="",l=!1;if(c)i=(null===(t=c[1])||void 0===t?void 0:t.startsWith("="))||!1,o=c[2],l="!"===c[3];var s="+"===o?this.lastLineNumber:parseInt(o)||1,u=e.children[0].data;return i&&(this.lastLineNumber=s+u.split("\n").filter((function(e){return!!e})).length),Object(r.jsx)(X.a,{language:n,startLineNumber:i?s:void 0,wrapLines:l,code:u})}}}]),n}(T),Z=n(222),ee=function(e){Object(M.a)(n,e);var t=Object(R.a)(n);function n(e){var r;return Object(w.a)(this,n),(r=t.call(this)).clickHandler=void 0,r.clickHandler=e,r}return Object(y.a)(n,[{key:"getReplacement",value:function(e){if("img"===e.name&&e.attribs)return Object(r.jsx)(Z.a,{id:e.attribs.id,className:"".concat(e.attribs.class," cursor-zoom-in"),src:e.attribs.src,alt:e.attribs.alt,title:e.attribs.title,width:e.attribs.width,height:e.attribs.height,onClick:this.clickHandler})}}]),n}(T),te=n(1006),ne=n.n(te),re=(n(1007),l.a.lazy((function(){return Promise.all([n.e(4),n.e(6)]).then(n.bind(null,1571))}))),ae=function(e){Object(M.a)(n,e);var t=Object(R.a)(n);function n(){return Object(w.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n,[{key:"getReplacement",value:function(e){var t=function(e){if("p"===e.name&&e.children&&0!==e.children.length)return e.children.find((function(e){var t;return"app-katex"===e.name&&void 0===(null===(t=e.attribs)||void 0===t?void 0:t.inline)}))}(e)||function(e){var t;return"app-katex"===e.name&&void 0!==(null===(t=e.attribs)||void 0===t?void 0:t.inline)?e:void 0}(e);if((null===t||void 0===t?void 0:t.children)&&t.children[0]){var n,a,c=null===(n=t.children[0])||void 0===n?void 0:n.data,i=void 0!==(null===(a=t.attribs)||void 0===a?void 0:a.inline);return Object(r.jsx)(re,{block:!i,math:c,errorColor:"#cc0000"})}}}]),n}(T);ae.markdownItPlugin=ne()({beforeMath:"<app-katex>",afterMath:"</app-katex>",beforeInlineMath:"<app-katex inline>",afterInlineMath:"</app-katex>",beforeDisplayMath:"<app-katex>",afterDisplayMath:"</app-katex>"});var ce=function(e){Object(M.a)(n,e);var t=Object(R.a)(n);function n(){return Object(w.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n,[{key:"getReplacement",value:function(e){return"app-linemarker"===e.name?null:void 0}}]),n}(T),ie=function(e){return function(t){var n;null===(n=document.getElementById(e))||void 0===n||n.scrollIntoView(),t.preventDefault()}},oe=function(e){Object(M.a)(n,e);var t=Object(R.a)(n);function n(e){var r;return Object(w.a)(this,n),(r=t.call(this)).baseUrl=e,r}return Object(y.a)(n,[{key:"getReplacement",value:function(e,t,n){if("a"===e.name&&e.attribs&&e.attribs.href){var a=e.attribs.href,c="#"===a.substr(0,1),i=a.substr(1);try{e.attribs.href=new URL(a,this.baseUrl).toString()}catch(o){e.attribs.href=a}return c?Object(r.jsx)("span",{onClick:ie(i),children:n()}):(e.attribs.rel="noreferer noopener",e.attribs.target="_blank",n())}}}]),n}(T),le=n(67),se=function(e){var t=e.locked,n=e.onLockedChanged,a=e.title;return Object(r.jsx)(le.a,{variant:"dark",size:"sm",onClick:function(){return n(!t)},title:a,children:t?Object(r.jsx)(v.a,{icon:"lock"}):Object(r.jsx)(v.a,{icon:"unlock"})})},ue=(n(259),function(e){e.stopPropagation()}),de=function(e){var t=e.code,c=Object(j.a)().t,i=Object(o.useRef)(null),l=Object(o.useState)(!0),s=Object(a.a)(l,2),u=s[0],d=s[1];return Object(o.useEffect)((function(){i.current&&(u?(i.current.addEventListener("wheel",ue,!0),i.current.addEventListener("mousedown",ue,!0),i.current.addEventListener("click",ue,!0),i.current.addEventListener("dblclick",ue,!0),i.current.addEventListener("touchstart",ue,!0)):(i.current.removeEventListener("wheel",ue,!0),i.current.removeEventListener("mousedown",ue,!0),i.current.removeEventListener("click",ue,!0),i.current.removeEventListener("dblclick",ue,!0),i.current.removeEventListener("touchstart",ue,!0)))}),[i,u]),Object(o.useEffect)((function(){if(i.current){var e=i.current;Promise.all([n.e(4),n.e(14),n.e(20)]).then(n.bind(null,1572)).then((function(n){var r=n.markmapLoader;try{var a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.setAttribute("width","100%"),e.querySelectorAll("svg").forEach((function(e){return e.remove()})),e.appendChild(a),r(a,t)}catch(c){console.error(c)}})).catch((function(){console.error("error while loading markmap")}))}}),[t]),Object(r.jsxs)(o.Fragment,{children:[Object(r.jsx)("div",{className:"text-center",ref:i}),Object(r.jsx)("div",{className:"text-right button-inside",children:Object(r.jsx)(se,{locked:u,onLockedChanged:function(e){return d(e)},title:c(u?"renderer.markmap.locked":"renderer.markmap.unlocked")})})]})},fe=function(){function e(){Object(w.a)(this,e)}return Object(y.a)(e,[{key:"getReplacement",value:function(e){if("code"===e.name&&e.attribs&&e.attribs["data-highlight-language"]&&"markmap"===e.attribs["data-highlight-language"]&&e.children&&e.children[0]){var t=e.children[0].data;return Object(r.jsx)(de,{code:t})}}}]),e}(),he=(n(1008),!1),be=function(e){var t=e.code,c=Object(o.useRef)(null),i=Object(o.useState)(),l=Object(a.a)(i,2),s=l[0],u=l[1],d=Object(j.a)().t;Object(o.useEffect)((function(){he||Promise.all([n.e(0),n.e(1),n.e(2)]).then(n.t.bind(null,1573,7)).then((function(e){e.default.initialize({startOnLoad:!1}),he=!0})).catch((function(){console.error("error while loading mermaid")}))}),[]);var f=Object(o.useCallback)((function(e){u(e),console.error(e),c.current&&c.current.querySelectorAll("svg").forEach((function(e){return e.remove()}))}),[u]);return Object(o.useEffect)((function(){c.current&&Promise.all([n.e(0),n.e(1),n.e(2)]).then(n.t.bind(null,1573,7)).then((function(e){try{if(!c.current)return;e.default.parse(t),delete c.current.dataset.processed,c.current.textContent=t,e.default.init(c.current),u(void 0)}catch(s){var n=s.str;f(n||d("renderer.mermaid.unknownError"))}})).catch((function(){return f("Error while loading mermaid")}))}),[t,f,d]),Object(r.jsxs)(o.Fragment,{children:[Object(r.jsx)(g.a,{condition:!!s,children:Object(r.jsx)(p.a,{variant:"warning",children:s})}),Object(r.jsx)("div",{className:"text-center mermaid text-black",ref:c})]})},ve=function(){function e(){Object(w.a)(this,e)}return Object(y.a)(e,[{key:"getReplacement",value:function(e){if("code"===e.name&&e.attribs&&e.attribs["data-highlight-language"]&&"mermaid"===e.attribs["data-highlight-language"]&&e.children&&e.children[0]){var t=e.children[0].data;return Object(r.jsx)(be,{code:t})}}}]),e}(),ge=n(40),pe=(n(1009),function(e){var t=e.url,n=Object(o.useState)(!1),c=Object(a.a)(n,2),i=c[0],l=c[1];return Object(r.jsx)(L,{containerClassName:"embed-responsive embed-responsive-".concat(i?"4by3":"16by9"),previewContainerClassName:"embed-responsive-item bg-danger",hoverIcon:"file-pdf-o",hoverTextI18nKey:"editor.embeddings.clickToLoad",onActivate:function(){return l(!0)},children:Object(r.jsx)("object",{type:"application/pdf",data:t,className:"pdf-frame",children:Object(r.jsx)(ge.a,{text:t,href:t})})})}),je={name:"pdf-short-code",regex:/^{%pdf (.*) ?%}$/,replace:function(e){return'<app-pdf url="'.concat(e,'"></app-pdf>')}},me=function(e){Object(M.a)(n,e);var t=Object(R.a)(n);function n(){var e;Object(w.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).counterMap=new Map,e}return Object(y.a)(n,[{key:"getReplacement",value:function(e){var t=I(e,"pdf");if(t&&t.url){var n=t.url,a=(this.counterMap.get(n)||0)+1;return this.counterMap.set(n,a),Object(r.jsx)(pe,{url:n})}}}]),n}(T);me.markdownItPlugin=function(e){N()(e,je)};n(1010);var Oe=["img","app-youtube","app-vimeo","app-asciinema","app-pdf"],ke=function(e){Object(M.a)(n,e);var t=Object(R.a)(n);function n(){return Object(w.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n,[{key:"getReplacement",value:function(e){var t;"p"===e.name&&(e.children&&0!==e.children.length&&e.children.find((function(e){return e.name&&Oe.includes(e.name)}))&&(e.attribs||(e.attribs={}),e.attribs.class="".concat(null!==(t=e.attribs.class)&&void 0!==t?t:""," wider-possible")))}}]),n}(T),we=function(e){return!!(e&&e.attribs&&e.attribs.class&&e.attribs["data-color"])&&("span"===e.name&&"quote-extra"===e.attribs.class)},xe=function(e){Object(M.a)(n,e);var t=Object(R.a)(n);function n(){return Object(w.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n,[{key:"getReplacement",value:function(e){if("blockquote"===e.name&&e.children&&!(e.children.length<1)){var t=e.children.find((function(e){return!("p"!==e.name||!e.children||e.children.length<1)&&void 0!==e.children.find(we)}));if(t){var n=t.children||[],r=n.find(we);if(r){t.children=n.filter((function(e){return!we(e)}));var a=r.attribs;a&&a["data-color"]&&(e.attribs=Object.assign(e.attribs||{},{style:"border-left-color: ".concat(a["data-color"],";")}))}}}}}]),n}(T),ye=n(35),Ce=n(39),Se=function(){return Object(j.a)(),Object(r.jsxs)(p.a,{"data-cy":"yaml",className:"mt-2",variant:"warning",children:[Object(r.jsx)("span",{className:"text-wrap",children:Object(r.jsx)(m.a,{i18nKey:"renderer.sequence.deprecationWarning"})}),Object(r.jsx)("br",{}),Object(r.jsx)(Ce.a,{i18nKey:"common.readForMoreInfo",className:"text-primary",href:ye.faq})]})},Me=function(){function e(){Object(w.a)(this,e)}return Object(y.a)(e,[{key:"getReplacement",value:function(e){if("code"===e.name&&e.attribs&&e.attribs["data-highlight-language"]&&"sequence"===e.attribs["data-highlight-language"]&&e.children&&e.children[0]){var t=e.children[0].data;return Object(r.jsxs)(o.Fragment,{children:[Object(r.jsx)(Se,{}),Object(r.jsx)(be,{code:"sequenceDiagram\n"+t})]})}}}]),e}(),Re=function(e){Object(M.a)(n,e);var t=Object(R.a)(n);function n(e){var r;return Object(w.a)(this,n),(r=t.call(this)).onTaskCheckedChange=void 0,r.handleCheckboxChange=function(e){var t=Number(e.currentTarget.dataset.line);r.onTaskCheckedChange&&r.onTaskCheckedChange(t,e.currentTarget.checked)},r.onTaskCheckedChange=e,r}return Object(y.a)(n,[{key:"getReplacement",value:function(e){var t;if("task-list-item-checkbox"===(null===(t=e.attribs)||void 0===t?void 0:t.class))return Object(r.jsx)("input",{disabled:void 0===this.onTaskCheckedChange,className:"task-list-item-checkbox",type:"checkbox",checked:void 0!==e.attribs.checked,onChange:this.handleCheckboxChange,id:e.attribs.id,"data-line":e.attribs["data-line"]})}}]),n}(T),Ee=function(e){var t=e.code,c=Object(o.useRef)(null),i=Object(o.useState)(),l=Object(a.a)(i,2),s=l[0],u=l[1],d=Object(j.a)().t,f=Object(o.useCallback)((function(e){c.current&&(console.error(e),u(e))}),[]);return Object(o.useEffect)((function(){c.current&&n.e(11).then(n.bind(null,1590)).then((function(e){try{if(!c.current)return;var n=JSON.parse(t);e.default(c.current,n,{actions:{export:!0,source:!1,compiled:!1,editor:!1},i18n:{PNG_ACTION:d("renderer.vega-lite.png"),SVG_ACTION:d("renderer.vega-lite.svg")}}).then((function(){return u(void 0)})).catch((function(e){return f(e)}))}catch(r){f(d("renderer.vega-lite.errorJson"))}})).catch((function(){console.error("error while loading vega-light")}))}),[t,f,d]),Object(r.jsxs)(o.Fragment,{children:[Object(r.jsx)(g.a,{condition:!!s,children:Object(r.jsx)(p.a,{variant:"danger",children:s})}),Object(r.jsx)("div",{className:"text-center",children:Object(r.jsx)("div",{ref:c})})]})},Ne=function(){function e(){Object(w.a)(this,e)}return Object(y.a)(e,[{key:"getReplacement",value:function(e){if("code"===e.name&&e.attribs&&e.attribs["data-highlight-language"]&&"vega-lite"===e.attribs["data-highlight-language"]&&e.children&&e.children[0]){var t=e.children[0].data;return Object(r.jsx)(Ee,{code:t})}}}]),e}(),Te={name:"legacy-vimeo-short-code",regex:/^{%vimeo ([\d]{6,11}) ?%}$/,replace:function(e){return'<app-vimeo id="'.concat(e,'"></app-vimeo>')}},Ie=new RegExp("(?:".concat(/(?:http(?:s)?:\/\/)?/.source).concat(/(?:player\.)?(?:vimeo\.com\/)(?:(?:channels|album|ondemand|groups)\/\w+\/)?(?:video\/)?/.source).concat(/([\d]{6,11})/.source).concat(/(?:[?#].*)?/.source,")")),Le={name:"vimeo-link",regex:new RegExp("^".concat(Ie.source,"$"),"i"),replace:function(e){return'<app-vimeo id="'.concat(e,'"></app-vimeo>')}},Ae=n(10),_e=n.n(Ae),He=n(20),Pe=function(e){var t=e.id,n=Object(o.useCallback)(Object(He.a)(_e.a.mark((function e(){var n,r;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://vimeo.com/api/v2/video/".concat(t,".json"),{credentials:"omit",referrerPolicy:"no-referrer"});case 2:if(200===(n=e.sent).status){e.next=5;break}throw new Error("Error while loading data from vimeo api");case 5:return e.next=7,n.json();case 7:if(!(r=e.sent)[0]||!r[0].thumbnail_large){e.next=12;break}return e.abrupt("return",r[0].thumbnail_large);case 12:throw new Error("Invalid vimeo response");case 13:case"end":return e.stop()}}),e)}))),[t]);return Object(r.jsx)(L,{containerClassName:"embed-responsive embed-responsive-16by9",previewContainerClassName:"embed-responsive-item",loadingImageUrl:"https://i.vimeocdn.com/video/",hoverIcon:"vimeo-square",onImageFetch:n,children:Object(r.jsx)("iframe",{className:"embed-responsive-item",title:"vimeo video of ".concat(t),src:"https://player.vimeo.com/video/".concat(t,"?autoplay=1"),allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"})})},qe=function(e){Object(M.a)(n,e);var t=Object(R.a)(n);function n(){var e;Object(w.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).counterMap=new Map,e}return Object(y.a)(n,[{key:"getReplacement",value:function(e){var t=I(e,"vimeo");if(t&&t.id){var n=t.id,a=(this.counterMap.get(n)||0)+1;return this.counterMap.set(n,a),Object(r.jsx)(Pe,{id:n})}}}]),n}(T);qe.markdownItPlugin=function(e){N()(e,Le),N()(e,Te)};var Ue={name:"legacy-youtube-short-code",regex:/^{%youtube ([^"&?\\/\s]{11}) ?%}$/,replace:function(e){return'<app-youtube id="'.concat(e,'"></app-youtube>')}},De=new RegExp("(?:".concat(/(?:http(?:s)?:\/\/)?/.source).concat(/(?:www.)?/.source).concat(/(?:youtube(?:-nocookie)?\.com\/(?:[^\\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)/.source).concat(/([^"&?\\/\s]{11})/.source).concat(/(?:[?&#].*)?/.source,")")),Fe={name:"youtube-link",regex:new RegExp("^".concat(De.source,"$"),"i"),replace:function(e){return'<app-youtube id="'.concat(e,'"></app-youtube>')}},ze=function(e){var t=e.id;return Object(r.jsx)(L,{containerClassName:"embed-responsive embed-responsive-16by9",previewContainerClassName:"embed-responsive-item",hoverIcon:"youtube-play",loadingImageUrl:"//i.ytimg.com/vi/".concat(t,"/maxresdefault.jpg"),children:Object(r.jsx)("iframe",{className:"embed-responsive-item",title:"youtube video of ".concat(t),src:"//www.youtube-nocookie.com/embed/".concat(t,"?autoplay=1"),allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"})})},Be=function(e){Object(M.a)(n,e);var t=Object(R.a)(n);function n(){var e;Object(w.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).counterMap=new Map,e}return Object(y.a)(n,[{key:"getReplacement",value:function(e){var t=I(e,"youtube");if(t&&t.id){var n=t.id,a=(this.counterMap.get(n)||0)+1;return this.counterMap.set(n,a),Object(r.jsx)(ze,{id:n})}}}]),n}(T);Be.markdownItPlugin=function(e){N()(e,Fe),N()(e,Ue)};var Ke=n(493),Ge=n(144),$e=n(1011),We=(n(1012),function(e){return encodeURIComponent(e.trim().toLowerCase().replace(/\s+/g,"-"))}),Ve=function e(t,n,a,c,i){var l;if(n<0)return null;var s=t.n.trim(),u=(null!==(l=a.get(s))&&void 0!==l?l:-1)+1,d="#".concat(We(s)).concat(u>0?"-".concat(u):""),f=new URL(d,i).toString();a.set(s,u);var h=Object(r.jsxs)(o.Fragment,{children:[Object(r.jsx)(g.a,{condition:t.l>0,children:Object(r.jsx)("a",{href:f,title:s,onClick:ie(d.substr(1)),children:s})}),Object(r.jsx)(g.a,{condition:t.c.length>0,children:Object(r.jsx)("ul",{children:t.c.map((function(t){return e(t,n-1,a,!0,i)}))})})]});return c?Object(r.jsx)("li",{children:h},f):h},Ye=function(e){var t=e.ast,n=e.maxDepth,a=void 0===n?3:n,c=e.className,i=e.baseUrl;Object(j.a)();var l=Object(o.useMemo)((function(){return Ve(t,a,new Map,!1,i)}),[t,a,i]);return Object(r.jsxs)("div",{className:"markdown-toc ".concat(null!==c&&void 0!==c?c:""),children:[Object(r.jsx)(g.a,{condition:0===t.c.length,children:Object(r.jsx)(m.a,{i18nKey:"editor.infoToc"})}),l]})},Je=n(1013),Xe=n(1014),Qe=n.n(Xe),Ze=n(1015),et=function(e){Object(Ze.a)(e,{permalink:!0,permalinkBefore:!0,permalinkClass:"heading-anchor text-dark",permalinkSymbol:'<i class="fa fa-link"></i>',permalinkHref:function(e){return"#".concat(e)}})},tt=/^ *([\w-]*)(.*)$/,nt=function(e){e.core.ruler.push("highlighted-code",(function(e){return e.tokens.forEach((function(e){if("fence"===e.type){var t=tt.exec(e.info);if(!t)return;t[1]&&e.attrJoin("data-highlight-language",t[1]),t[2]&&e.attrJoin("data-extra",t[2])}})),!0}))},rt=n(1016),at=n.n(rt),ct=n(27),it=function(e){var t=ct.a.getState().config.plantumlServer;t?at()(e,{openMarker:"```plantuml",closeMarker:"```",server:t}):ot(e)},ot=function(e){var t=e.renderer.rules.fence||function(){return""};e.renderer.rules.fence=function(e,n,r,a,c){return"plantuml"===e[n].info?'\n        <p class="alert alert-danger">\n          PlantUML plugin is enabled but not properly configured.\n        </p>\n      ':t(e,n,r,a,c)}},lt=function(e){N()(e,dt),N()(e,ut),N()(e,st)},st={name:"quote-extra-time",regex:/\[time=([^\]]+)]/,replace:function(e){return'<span class="quote-extra"><i class="fa fa-clock-o mx-1"></i> '.concat(e,"</span>")}},ut={name:"quote-extra-color",regex:/\[color=(#(?:[0-9a-f]{2}){2,4}|(?:#[0-9a-f]{3})|black|silver|gray|whitesmoke|maroon|red|purple|fuchsia|green|lime|olivedrab|yellow|navy|blue|teal|aquamarine|orange|aliceblue|antiquewhite|aqua|azure|beige|bisque|blanchedalmond|blueviolet|brown|burlywood|cadetblue|chartreuse|chocolate|coral|cornflowerblue|cornsilk|crimson|currentcolor|darkblue|darkcyan|darkgoldenrod|darkgray|darkgreen|darkgrey|darkkhaki|darkmagenta|darkolivegreen|darkorange|darkorchid|darkred|darksalmon|darkseagreen|darkslateblue|darkslategray|darkslategrey|darkturquoise|darkviolet|deeppink|deepskyblue|dimgray|dimgrey|dodgerblue|firebrick|floralwhite|forestgreen|gainsboro|ghostwhite|goldenrod|gold|greenyellow|grey|honeydew|hotpink|indianred|indigo|ivory|khaki|lavenderblush|lavender|lawngreen|lemonchiffon|lightblue|lightcoral|lightcyan|lightgoldenrodyellow|lightgray|lightgreen|lightgrey|lightpink|lightsalmon|lightseagreen|lightskyblue|lightslategray|lightslategrey|lightsteelblue|lightyellow|limegreen|linen|mediumaquamarine|mediumblue|mediumorchid|mediumpurple|mediumseagreen|mediumslateblue|mediumspringgreen|mediumturquoise|mediumvioletred|midnightblue|mintcream|mistyrose|moccasin|navajowhite|oldlace|olive|orangered|orchid|palegoldenrod|palegreen|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|powderblue|rebeccapurple|rosybrown|royalblue|saddlebrown|salmon|sandybrown|seagreen|seashell|sienna|skyblue|slateblue|slategray|slategrey|snow|springgreen|steelblue|tan|thistle|tomato|transparent|turquoise|violet|wheat|white|yellowgreen)]/i,replace:function(e){return'<span class="quote-extra" data-color=\''.concat(e,"' style='color: ").concat(e,'\'><i class="fa fa-tag"></i></span>')}},dt={name:"quote-extra-name",regex:/\[name=([^\]]+)]/,replace:function(e){return'<span class="quote-extra"><i class="fa fa-user mx-1"></i> '.concat(e,"</span>")}},ft=function(e){N()(e,ht)},ht={name:"legacy-slideshare-short-code",regex:/^{%slideshare (\w+\/[\w-]+) ?%}$/,replace:function(e){return'<a target="_blank" rel="noopener noreferrer" href="https://www.slideshare.net/'.concat(e,'">https://www.slideshare.net/').concat(e,"</a>")}},bt=function(e){N()(e,vt)},vt={name:"legacy-speakerdeck-short-code",regex:/^{%speakerdeck (\w+\/[\w-]+) ?%}$/,replace:function(e){return'<a target="_blank" rel="noopener noreferrer" href="https://speakerdeck.com//'.concat(e,'">https://speakerdeck.com/').concat(e,"</a>")}},gt=n(77),pt=n.n(gt),jt=function(e){Object(M.a)(n,e);var t=Object(R.a)(n);function n(e,r,a,c,i){var o;return Object(w.a)(this,n),(o=t.call(this)).useFrontmatter=e,o.passYamlErrorState=r,o.onRawMeta=a,o.onToc=c,o.onLineMarkers=i,o}return Object(y.a)(n,[{key:"configure",value:function(e){var t=this;Object(Ke.a)(Object(Ge.a)(n.prototype),"configure",this).call(this,e),this.configurations.push(it,(function(e){!function(e,t){t&&Qe()(e,(function(e){try{var n=Je.a.load(e);t.onYamlError(!1),t.onRawMeta(n)}catch(r){console.error(r),t.onYamlError(!0),t.onRawMeta({})}}))}(e,t.useFrontmatter?{onYamlError:function(e){return t.passYamlErrorState(e)},onRawMeta:function(e){return t.onRawMeta(e)}}:void 0)}),et,ae.markdownItPlugin,Be.markdownItPlugin,qe.markdownItPlugin,V.markdownItPlugin,ft,bt,me.markdownItPlugin,P.markdownItPlugin,nt,lt,(function(e){return function(e,t){t&&Object($e.a)(e,{placeholder:"(\\[TOC\\]|\\[toc\\])",listType:"ul",level:[1,2,3],callback:function(e,n){t(n)},slugify:We})}(e,t.onToc)}),(function(e){return function(e,t){e.core.ruler.push("line_number_marker",(function(e){var n=[];return r(e.tokens,n),t&&t(n),!0})),e.renderer.rules.app_linemarker=function(e,t){var n=e[t].attrGet("data-start-line"),r=e[t].attrGet("data-end-line");return n&&r?"<app-linemarker data-start-line='".concat(n,"' data-end-line='").concat(r,"'></app-linemarker>"):""};var n=function(e,t,n,r,a){var c=new pt.a("app_linemarker","app-linemarker",0);c.level=r,c.attrPush(["data-start-line","".concat(e)]),c.attrPush(["data-end-line","".concat(t)]),a.splice(n,0,c)},r=function e(t,r){for(var a=0;a<t.length;a++){var c=t[a];if(!c.hidden&&c.map){var i=c.map[0]+1,o=c.map[1]+1;0===c.level&&r.push({startLine:i,endLine:o}),n(i,o,a,c.level,t),a+=1,c.children&&e(c.children,r)}}}}(e,(function(e){return t.onLineMarkers(e)}))}))}}]),n}(n(226).a),mt=function(e,t,n,r){var a=Object(o.useRef)(),c=Object(o.useCallback)((function(){if(e.current&&n&&t){var c=function(e,t,n){var r=t,a=e.children,c=[];return Array.from(a).forEach((function(e,t){var a=e;if(void 0!==a.offsetTop){var i=r[t];if(void 0!==i){var o=c[c.length-1];o&&o.line===i.startLine||c.push({line:i.startLine,position:a.offsetTop+(null!==n&&void 0!==n?n:0)}),c.push({line:i.endLine,position:a.offsetTop+a.offsetHeight+(null!==n&&void 0!==n?n:0)})}}})),c}(e.current,t,r);i()(c,a)||(a.current=c,n(c))}}),[e,t,r,n]);Object(o.useEffect)((function(){c()}),[c]),Object(b.a)({ref:e,onResize:function(){return c()}})},Ot=function(e){var t,n,c=e.onFirstHeadingChange,l=e.onLineMarkerPositionChanged,s=e.onMetaDataChange,u=e.onTaskCheckedChange,d=e.onTocChange,f=e.content,h=e.className,b=e.wide,v=e.rendererRef,w=e.baseUrl,y=function(e,t,n){return Object(o.useMemo)((function(){return function(){return[new oe(n),new ce,new ke,new V,new Be,new qe,new P,new S,new me,new ee(t),new Me,new U,new z,new ve,new J,new fe,new Ne,new Q,new xe,new ae,new Re(e)]}}),[t,e,n])}(u,e.onImageClick,w);Object(j.a)();var C=Object(o.useState)(!1),M=Object(a.a)(C,2),R=M[0],E=M[1],N=Object(o.useRef)(!1),T=Object(o.useRef)(),I=Object(o.useRef)(),L=Object(o.useRef)(null),A=Object(o.useRef)();!function(e,t,n,r){var a=Object(o.useRef)(),c=Object(o.useRef)();Object(o.useEffect)((function(){if(n&&!i()(a.current,e)){if(e){var o=new x(e);n(o)}else n(void 0);a.current=e}r&&!i()(t,c.current)&&(r(t||void 0),c.current=t)}))}(T.current,I.current,s,c),mt(L,A.current,l,null!==(t=null===(n=L.current)||void 0===n?void 0:n.offsetTop)&&void 0!==t?t:0),function(e,t,n){var r=Object(o.useCallback)((function(e){var t,n="";return(null===(t=e.classList)||void 0===t?void 0:t.contains("katex-mathml"))?"":(e.childNodes&&e.childNodes.length>0?e.childNodes.forEach((function(e){n+=r(e)})):"IMG"===e.nodeName?n+=e.getAttribute("alt"):n+=e.textContent,n)}),[]);Object(o.useEffect)((function(){if(n&&e.current){var t=e.current.getElementsByTagName("h1").item(0);n(t?r(t):void 0)}}),[e,r,n,t])}(L,f,c);var _=Object(o.useRef)();!function(e,t){var n=Object(o.useRef)();Object(o.useEffect)((function(){t&&e.current&&!i()(e,n.current)&&(n.current=e.current,t(e.current))}))}(_,d);var H=Object(o.useMemo)((function(){return new jt(!!s,(function(e){return N.current=e}),(function(e){T.current=e}),(function(e){_.current=e}),(function(e){A.current=e})).buildConfiguredMarkdownIt()}),[s]),q=Object(o.useCallback)((function(){N.current=!1,T.current=void 0}),[]),D=Object(o.useCallback)((function(){N.current!==R&&E(N.current)}),[E,R]);return Object(r.jsxs)("div",{ref:v,className:"position-relative",children:[Object(r.jsx)(g.a,{condition:R,children:Object(r.jsx)(p.a,{variant:"warning",dir:"auto",children:Object(r.jsx)(m.a,{i18nKey:"editor.invalidYaml",children:Object(r.jsx)(O.a,{text:"yaml-metadata",href:"/n/yaml-metadata",className:"text-primary"})})})}),Object(r.jsx)(k.a,{className:h,wide:b,content:f,componentReplacers:y,markdownIt:H,documentReference:L,onBeforeRendering:q,onAfterRendering:D})]})},kt=function(){Object(j.a)();var e=Object(s.b)((function(e){return e.documentContent.metadata.deprecatedTagsSyntax}));return Object(r.jsx)(g.a,{condition:e,children:Object(r.jsxs)(p.a,{"data-cy":"yamlArrayDeprecationAlert",className:"text-wrap",variant:"warning",dir:"auto",children:[Object(r.jsx)("span",{className:"text-wrap",children:Object(r.jsx)("span",{className:"text-wrap",children:Object(r.jsx)(m.a,{i18nKey:"editor.deprecatedTags"})})}),Object(r.jsx)("br",{}),Object(r.jsx)(Ce.a,{i18nKey:"common.readForMoreInfo",href:ye.faq,className:"text-primary"})]})})},wt=function(e){var t=e.extraClasses,n=e.onFirstHeadingChange,c=e.onLineMarkerPositionChanged,i=e.onMetadataChange,l=e.onMouseEnterRenderer,s=e.onScrollRenderer,u=e.onTaskCheckedChange,d=e.documentRenderPaneRef,f=e.wide,p=e.baseUrl,j=e.markdownContent,m=e.onImageClick,O=Object(o.useState)(),k=Object(a.a)(O,2),w=k[0],x=k[1],y=Object(o.useRef)(),C=Object(b.a)({ref:y.current}).width,S=null!==C&&void 0!==C?C:0,M=Object(o.useRef)(null),R=function(e,t,n){return Object(o.useCallback)((function(r){var a,c;if(n&&e&&e.current&&t.current){var i=null!==(a=e.current.offsetTop)&&void 0!==a?a:0,o=(null!==(c=t.current.offsetTop)&&void 0!==c?c:0)-i;n(r.map((function(e){return{line:e.line,position:e.position+o}})))}}),[e,n,t])}(d,M,c),E=Object(o.useCallback)((function(e){d&&(d.current=e||null),y.current=e||void 0}),[d]);return Object(r.jsxs)("div",{className:"bg-light m-0 pb-5 row ".concat(null!==t&&void 0!==t?t:""),ref:E,onScroll:s,onMouseEnter:l,children:[Object(r.jsx)("div",{className:"col-md d-none d-md-block"}),Object(r.jsxs)("div",{className:"bg-light col",children:[Object(r.jsx)(kt,{}),Object(r.jsx)("div",{children:Object(r.jsx)(Ot,{rendererRef:M,className:"flex-fill pt-4 mb-3",content:j,onFirstHeadingChange:n,onLineMarkerPositionChanged:R,onMetaDataChange:i,onTaskCheckedChange:u,onTocChange:function(e){return x(e)},wide:f,baseUrl:p,onImageClick:m})})]}),Object(r.jsx)("div",{className:"col-md pt-4",children:Object(r.jsxs)(g.a,{condition:!!w,children:[Object(r.jsx)(g.a,{condition:S>=1280,children:Object(r.jsx)(Ye,{ast:w,className:"sticky",baseUrl:p})}),Object(r.jsx)(g.a,{condition:S<1280,children:Object(r.jsx)("div",{className:"markdown-toc-sidebar-button",children:Object(r.jsxs)(h.a,{drop:"up",children:[Object(r.jsx)(h.a.Toggle,{id:"toc-overlay-button",variant:"secondary",className:"no-arrow",children:Object(r.jsx)(v.a,{icon:"list-ol"})}),Object(r.jsx)(h.a.Menu,{children:Object(r.jsx)("div",{className:"p-2",children:Object(r.jsx)(Ye,{ast:w,baseUrl:p})})})]})})})]})})]})},xt=function(e){var t=e.scrollState,n=e.wide,c=e.onFirstHeadingChange,i=e.onMakeScrollSource,l=e.onMetadataChange,s=e.onScroll,u=e.onTaskCheckedChange,d=e.markdownContent,f=e.extraClasses,h=e.baseUrl,b=e.onImageClick,v=Object(o.useRef)(null),g=Object(o.useState)(),p=Object(a.a)(g,2),j=p[0],m=p[1];!function(e,t,n,r){var a=Object(o.useRef)(),c=Object(o.useCallback)((function(e){r.current&&e!==a.current&&(a.current=e,r.current.scrollTo({top:e}))}),[r]);Object(o.useEffect)((function(){if(r.current&&t&&0!==t.length&&e)if(e.firstLineInView<t[0].line)c(0);else if(e.firstLineInView>t[t.length-1].line)c(r.current.offsetHeight);else{var a=function(e,t){for(var n,r,a=0;a<e.length;a++){var c=e[a];if(c&&(c.line<=t&&(n=c),c.line>t&&(r=c),r&&n))break}return{lastMarkBefore:n,firstMarkAfter:r}}(t,e.firstLineInView),i=a.lastMarkBefore,o=a.firstMarkAfter,l=i?i.position:t[0].position,s=o?o.position:r.current.offsetHeight,u=i?i.line:1,d=(s-l)/((o?o.line:n)-u),f=l+(e.firstLineInView-u)*d+e.scrolledPercentage/100*d,h=Math.floor(f);c(h)}}),[n,t,r,e,c])}(t,j,Object(o.useMemo)((function(){return d.split("\n").length}),[d]),v);var O=function(e,t,n){return Object(o.useCallback)((function(){if(t.current&&e&&0!==e.length&&n){var r=t.current.scrollTop,a=e.filter((function(e){return e.position<=r}));if(0!==a.length){var c=e.filter((function(e){return e.position>r}));if(0!==c.length){var i=a.reduce((function(e,t){return e.line>=t.line?e:t})),o=c.reduce((function(e,t){return e.line<t.line?e:t})),l=o.position-i.position,s=r-i.position,u=s/l,d=o.line-i.line,f=Math.floor(d*u+i.line),h=l/d,b=Math.floor(s%h/h*100);n({firstLineInView:f,scrolledPercentage:b})}}}}),[e,n,t])}(j,v,s);return Object(r.jsx)(wt,{extraClasses:"overflow-y-scroll h-100 ".concat(f||""),documentRenderPaneRef:v,wide:n,onFirstHeadingChange:c,onLineMarkerPositionChanged:m,onMetadataChange:l,onMouseEnterRenderer:i,onScrollRenderer:O,onTaskCheckedChange:u,markdownContent:d,baseUrl:h,onImageClick:b})},yt=n(224),Ct=n(42),St=function(e){Object(M.a)(n,e);var t=Object(R.a)(n);function n(){var e;Object(w.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).onSetMarkdownContentHandler=void 0,e.onSetDarkModeHandler=void 0,e.onSetWideHandler=void 0,e.onSetScrollStateHandler=void 0,e.onSetBaseUrlHandler=void 0,e}return Object(y.a)(n,[{key:"onSetBaseUrl",value:function(e){this.onSetBaseUrlHandler=e}},{key:"onSetMarkdownContent",value:function(e){this.onSetMarkdownContentHandler=e}},{key:"onSetDarkMode",value:function(e){this.onSetDarkModeHandler=e}},{key:"onSetWide",value:function(e){this.onSetWideHandler=e}},{key:"onSetScrollState",value:function(e){this.onSetScrollStateHandler=e}},{key:"sendRendererReady",value:function(){this.sendMessageToOtherSide({type:Ct.a.RENDERER_READY})}},{key:"sendTaskCheckBoxChange",value:function(e,t){this.sendMessageToOtherSide({type:Ct.a.ON_TASK_CHECKBOX_CHANGE,checked:t,lineInMarkdown:e})}},{key:"sendFirstHeadingChanged",value:function(e){this.sendMessageToOtherSide({type:Ct.a.ON_FIRST_HEADING_CHANGE,firstHeading:e})}},{key:"sendSetScrollSourceToRenderer",value:function(){this.sendMessageToOtherSide({type:Ct.a.SET_SCROLL_SOURCE_TO_RENDERER})}},{key:"sendSetMetaData",value:function(e){this.sendMessageToOtherSide({type:Ct.a.ON_SET_META_DATA,metaData:e})}},{key:"sendSetScrollState",value:function(e){this.sendMessageToOtherSide({type:Ct.a.SET_SCROLL_STATE,scrollState:e})}},{key:"handleEvent",value:function(e){var t,n,r,a,c,i=e.data;switch(i.type){case Ct.a.SET_MARKDOWN_CONTENT:return null===(t=this.onSetMarkdownContentHandler)||void 0===t||t.call(this,i.content),!1;case Ct.a.SET_DARKMODE:return null===(n=this.onSetDarkModeHandler)||void 0===n||n.call(this,i.activated),!1;case Ct.a.SET_WIDE:return null===(r=this.onSetWideHandler)||void 0===r||r.call(this,i.activated),!1;case Ct.a.SET_SCROLL_STATE:return null===(a=this.onSetScrollStateHandler)||void 0===a||a.call(this,i.scrollState),!1;case Ct.a.SET_BASE_URL:return null===(c=this.onSetBaseUrlHandler)||void 0===c||c.call(this,i.baseUrl),!1}}},{key:"sendClickedImageUrl",value:function(e){this.sendMessageToOtherSide({type:Ct.a.IMAGE_CLICKED,details:e})}}]),n}(yt.a),Mt=function(){Object(u.a)();var e=Object(o.useState)(""),t=Object(a.a)(e,2),n=t[0],c=t[1],l=Object(o.useState)(!1),h=Object(a.a)(l,2),b=h[0],v=h[1],g=Object(o.useState)({firstLineInView:1,scrolledPercentage:0}),p=Object(a.a)(g,2),j=p[0],m=p[1],O=Object(o.useState)(),k=Object(a.a)(O,2),w=k[0],x=k[1],y=Object(s.b)((function(e){return e.config.iframeCommunication.editorOrigin})),C=Object(o.useMemo)((function(){var e=new St;return e.setOtherSide(window.parent,y),e}),[y]);Object(o.useEffect)((function(){return C.sendRendererReady(),function(){return C.unregisterEventListener()}}),[C]),Object(o.useEffect)((function(){return C.onSetBaseUrl(x)}),[C]),Object(o.useEffect)((function(){return C.onSetMarkdownContent(c)}),[C]),Object(o.useEffect)((function(){return C.onSetDarkMode(d.d)}),[C]),Object(o.useEffect)((function(){return C.onSetWide(v)}),[C]),Object(o.useEffect)((function(){return C.onSetScrollState((function(e){i()(j,e)||m(e)}))}),[C,j]);var S=Object(o.useCallback)((function(e,t){C.sendTaskCheckBoxChange(e,t)}),[C]),M=Object(o.useCallback)((function(e){C.sendFirstHeadingChanged(e)}),[C]),R=Object(o.useCallback)((function(){C.sendSetScrollSourceToRenderer()}),[C]),E=Object(o.useCallback)((function(e){Object(f.b)(e),C.sendSetMetaData(e)}),[C]),N=Object(o.useCallback)((function(e){C.sendSetScrollState(e)}),[C]),T=Object(o.useCallback)((function(e){var t=e.target;""!==t.src&&C.sendClickedImageUrl({src:t.src,alt:t.alt,title:t.title})}),[C]);return w?Object(r.jsx)("div",{className:"vh-100 w-100",children:Object(r.jsx)(xt,{extraClasses:"w-100",markdownContent:n,wide:b,onTaskCheckedChange:S,onFirstHeadingChange:M,onMakeScrollSource:R,onMetadataChange:E,scrollState:j,onScroll:N,baseUrl:w,onImageClick:T})}):null};t.default=Mt}}]);
//# sourceMappingURL=16.2add5db2.chunk.js.map