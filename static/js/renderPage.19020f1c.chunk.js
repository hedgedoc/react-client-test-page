(this.webpackJsonpreact_client=this.webpackJsonpreact_client||[]).push([[16],{1206:function(e,t,n){},1207:function(e,t,n){},1208:function(e,t,n){},1209:function(e,t){e.exports=function(e){if(!e)return 0;var t=String(e);if(""===t.trim())return 0;var n=t.replace(/\s+/," ");[",","\uff0c",".","\u3002",":","\uff1a",";","\uff1b","[","]","\u3010","]","\u3011","{","\uff5b","}","\uff5d","(","\uff08",")","\uff09","<","\u300a",">","\u300b","$","\uffe5","!","\uff01","?","\uff1f","~","\uff5e","'","\u2019",'"',"\u201c","\u201d","'","'","*","/","\\","&","%","@","#","^","\u3001","\u3001","\u3001","\u3001"].forEach((function(e){n=n.replace(e,"")})),n=(n=n.replace(/[\uFF00-\uFFEF\u2000-\u206F]/g,"").trim()).split(" ");var r=new RegExp("(\\d+)|[a-zA-Z\xc0-\xff\u0100-\u017f\u0180-\u024f\u0250-\u02af\u1e00-\u1eff\u0400-\u04ff\u0500-\u052f\u0d00-\u0d7f]+|[\u2e80-\u2eff\u2f00-\u2fdf\u3000-\u303f\u31c0-\u31ef\u3200-\u32ff\u3300-\u33ff\u3400-\u3fff\u4000-\u4dbf\u4e00-\u4fff\u5000-\u5fff\u6000-\u6fff\u7000-\u7fff\u8000-\u8fff\u9000-\u9fff\uf900-\ufaff\u3040-\u309f\u30a0-\u30ff\u31f0-\u31ff\u3190-\u319f\u1100-\u11ff\u3130-\u318f\ua960-\ua97f\uac00-\uafff\ub000-\ubfff\uc000-\ucfff\ud000-\ud7af\ud7b0-\ud7ff]","g"),a=0;return n.forEach((function(e){for(var t=0;m=r.exec(e);)t++;a=0===t?a+1:a+t})),a}},1612:function(e,t,n){"use strict";n.r(t),n.d(t,"RenderPage",(function(){return V}));var r=n(0),a=n(387),o=n(9),c=n(33),i=n(102),s=n(333),l=n(614),u=n(210),d=n(61),f=n(34),b=n(44),h=n(72),O=n(16),j=n(17),v=n(1),C=function(){Object(d.a)();var e=Object(j.a)((function(e){return e.noteDetails.frontmatter.deprecatedTagsSyntax}));return Object(v.jsx)(O.a,{condition:e,children:Object(v.jsxs)(u.a,{"data-cy":"yamlArrayDeprecationAlert",className:"text-wrap",variant:"warning",dir:"auto",children:[Object(v.jsx)("span",{className:"text-wrap",children:Object(v.jsx)("span",{className:"text-wrap",children:Object(v.jsx)(f.a,{i18nKey:"editor.deprecatedTags"})})}),Object(v.jsx)("br",{}),Object(v.jsx)(h.a,{i18nKey:"common.readForMoreInfo",href:b.faq,className:"text-primary"})]})})},S=function(e,t,n,a,c){var i=Object(r.useState)(),s=Object(o.a)(i,2),l=s[0],u=s[1],d=Object(r.useCallback)((function(n){var r,a;if(e.current&&t.current){var o=null!==(r=e.current.offsetTop)&&void 0!==r?r:0,c=(null!==(a=t.current.offsetTop)&&void 0!==a?a:0)-o,i=n.map((function(e){return{line:e.line,position:e.position+c}}));u(i)}}),[e,t]),f=function(e,t,n){return Object(r.useCallback)((function(){if(t.current&&e&&0!==e.length&&n){var r=t.current.scrollTop,a=e.filter((function(e){return e.position<=r}));if(0!==a.length){var o=e.filter((function(e){return e.position>r}));if(0!==o.length){var c=a.reduce((function(e,t){return e.line>=t.line?e:t})),i=o.reduce((function(e,t){return e.line<t.line?e:t})),s=i.position-c.position,l=r-c.position,u=l/s,d=i.line-c.line,f=Math.floor(d*u+c.line),b=s/d,h=Math.floor(l%b/b*100);n({firstLineInView:f,scrolledPercentage:h})}}}}),[e,n,t])}(l,e,c);return function(e,t,n,a){var o=Object(r.useRef)(),c=Object(r.useCallback)((function(e){a.current&&e!==o.current&&(o.current=e,a.current.scrollTo({top:e}))}),[a]);Object(r.useEffect)((function(){if(a.current&&t&&0!==t.length&&e)if(e.firstLineInView<t[0].line)c(0);else if(e.firstLineInView>t[t.length-1].line)c(a.current.offsetHeight);else{var r=function(e,t){for(var n,r,a=0;a<e.length;a++){var o=e[a];if(o&&(o.line<=t&&(n=o),o.line>t&&(r=o),r&&n))break}return{lastMarkBefore:n,firstMarkAfter:r}}(t,e.firstLineInView),o=r.lastMarkBefore,i=r.firstMarkAfter,s=o?o.position:t[0].position,l=i?i.position:a.current.offsetHeight,u=o?o.line:1,d=(l-s)/((i?i.line:n)-u),f=s+(e.firstLineInView-u)*d+e.scrolledPercentage/100*d,b=Math.floor(f);c(b)}}),[n,t,a,e,c])}(a,l,n,e),[d,f]},g=n(1584),k=(n(1206),n(613)),m=n(636),T=function e(t,n,a,o,c){var i;if(n<0)return null;var s=t.n.trim(),l=(null!==(i=a.get(s))&&void 0!==i?i:-1)+1,u="#".concat(Object(m.a)(s)).concat(l>0?"-".concat(l):""),d=new URL(u,c).toString();a.set(s,l);var f=Object(v.jsxs)(r.Fragment,{children:[Object(v.jsx)(O.a,{condition:t.l>0,children:Object(v.jsx)("a",{href:d,title:s,onClick:Object(k.b)(u.substr(1)),children:s})}),Object(v.jsx)(O.a,{condition:t.c.length>0,children:Object(v.jsx)("ul",{children:t.c.map((function(t){return e(t,n-1,a,!0,c)}))})})]});return o?Object(v.jsx)("li",{children:f},d):f},p=(n(1207),function(e){var t=e.ast,n=e.maxDepth,a=void 0===n?3:n,o=e.className,c=e.baseUrl;Object(d.a)();var i=Object(r.useMemo)((function(){return T(t,a,new Map,!1,c)}),[t,a,c]);return Object(v.jsxs)("div",{className:"markdown-toc ".concat(null!==o&&void 0!==o?o:""),children:[Object(v.jsx)(O.a,{condition:0===t.c.length,children:Object(v.jsx)(f.a,{i18nKey:"editor.infoToc"})}),i]})}),E=n(98),w=n(15),x=(n(1208),function(e){var t=e.tocAst,n=e.baseUrl;return Object(v.jsx)("div",{className:"markdown-toc-sidebar-button",children:Object(v.jsxs)(E.a,{drop:"up",children:[Object(v.jsx)(E.a.Toggle,{id:"toc-overlay-button",variant:"secondary",className:"no-arrow",children:Object(v.jsx)(w.a,{icon:"list-ol"})}),Object(v.jsx)(E.a.Menu,{children:Object(v.jsx)("div",{className:"p-2",children:Object(v.jsx)(p,{ast:t,baseUrl:n})})})]})})}),y=function(e){var t=e.tocAst,n=e.width,r=e.baseUrl;return n>=1100?Object(v.jsx)(p,{ast:t,className:"sticky",baseUrl:r}):Object(v.jsx)(x,{tocAst:t,baseUrl:r})},N=function(e){var t,n=e.additionalOuterContainerClasses,a=e.additionalRendererClasses,c=e.onFirstHeadingChange,i=e.onFrontmatterChange,s=e.onMakeScrollSource,u=e.onTaskCheckedChange,d=e.baseUrl,f=e.markdownContent,b=e.onImageClick,h=e.onScroll,k=e.scrollState,m=e.onHeightChange,T=e.disableToc,p=Object(r.useRef)(null),E=Object(l.a)({ref:p.current}),w=Object(r.useRef)(null),x=null!==(t=Object(l.a)({ref:w.current}).width)&&void 0!==t?t:0,N=Object(r.useState)(),_=Object(o.a)(N,2),M=_[0],R=_[1],H=Object(j.a)((function(e){return e.noteDetails.frontmatter.breaks}));Object(r.useEffect)((function(){m&&m(E.height?E.height+1:0)}),[E.height,m]);var A=Object(r.useMemo)((function(){return f.split("\n").length}),[f]),D=S(w,p,A,k,h),I=Object(o.a)(D,2),F=I[0],L=I[1];return Object(v.jsxs)("div",{className:"markdown-document ".concat(null!==n&&void 0!==n?n:""),ref:w,onScroll:L,onMouseEnter:s,children:[Object(v.jsx)("div",{className:"markdown-document-side"}),Object(v.jsxs)("div",{className:"markdown-document-content",children:[Object(v.jsx)(C,{}),Object(v.jsx)(g.BasicMarkdownRenderer,{outerContainerRef:p,className:"mb-3 ".concat(null!==a&&void 0!==a?a:""),content:f,onFirstHeadingChange:c,onLineMarkerPositionChanged:F,onFrontmatterChange:i,onTaskCheckedChange:u,onTocChange:R,baseUrl:d,onImageClick:b,useAlternativeBreaks:H})]}),Object(v.jsx)("div",{className:"markdown-document-side pt-4",children:Object(v.jsx)(O.a,{condition:!!M&&!T,children:Object(v.jsx)(y,{tocAst:M,baseUrl:d,width:x})})})]})},_=n(70),M=n(82),R=n(112),H=n(113),A=function(e){Object(R.a)(n,e);var t=Object(H.a)(n);function n(){var e;Object(_.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).onSetMarkdownContentHandler=void 0,e.onSetDarkModeHandler=void 0,e.onSetScrollStateHandler=void 0,e.onSetBaseConfigurationHandler=void 0,e.onGetWordCountHandler=void 0,e}return Object(M.a)(n,[{key:"onSetBaseConfiguration",value:function(e){this.onSetBaseConfigurationHandler=e}},{key:"onSetMarkdownContent",value:function(e){this.onSetMarkdownContentHandler=e}},{key:"onSetDarkMode",value:function(e){this.onSetDarkModeHandler=e}},{key:"onSetScrollState",value:function(e){this.onSetScrollStateHandler=e}},{key:"onGetWordCount",value:function(e){this.onGetWordCountHandler=e}},{key:"sendRendererReady",value:function(){this.sendMessageToOtherSide({type:c.a.RENDERER_READY})}},{key:"sendTaskCheckBoxChange",value:function(e,t){this.sendMessageToOtherSide({type:c.a.ON_TASK_CHECKBOX_CHANGE,checked:t,lineInMarkdown:e})}},{key:"sendFirstHeadingChanged",value:function(e){this.sendMessageToOtherSide({type:c.a.ON_FIRST_HEADING_CHANGE,firstHeading:e})}},{key:"sendSetScrollSourceToRenderer",value:function(){this.sendMessageToOtherSide({type:c.a.SET_SCROLL_SOURCE_TO_RENDERER})}},{key:"sendSetFrontmatter",value:function(e){this.sendMessageToOtherSide({type:c.a.ON_SET_FRONTMATTER,frontmatter:e})}},{key:"sendSetScrollState",value:function(e){this.sendMessageToOtherSide({type:c.a.SET_SCROLL_STATE,scrollState:e})}},{key:"sendClickedImageUrl",value:function(e){this.sendMessageToOtherSide({type:c.a.IMAGE_CLICKED,details:e})}},{key:"sendHeightChange",value:function(e){this.sendMessageToOtherSide({type:c.a.ON_HEIGHT_CHANGE,height:e})}},{key:"sendWordCountCalculated",value:function(e){this.sendMessageToOtherSide({type:c.a.ON_WORD_COUNT_CALCULATED,words:e})}},{key:"handleEvent",value:function(e){var t,n,r,a,o,i=e.data;switch(i.type){case c.a.SET_MARKDOWN_CONTENT:return null===(t=this.onSetMarkdownContentHandler)||void 0===t||t.call(this,i.content),!1;case c.a.SET_DARKMODE:return null===(n=this.onSetDarkModeHandler)||void 0===n||n.call(this,i.activated),!1;case c.a.SET_SCROLL_STATE:return null===(r=this.onSetScrollStateHandler)||void 0===r||r.call(this,i.scrollState),!1;case c.a.SET_BASE_CONFIGURATION:return null===(a=this.onSetBaseConfigurationHandler)||void 0===a||a.call(this,i.baseConfiguration),!1;case c.a.GET_WORD_COUNT:return null===(o=this.onGetWordCountHandler)||void 0===o||o.call(this),!1}}}]),n}(n(194).a),D=n(121),I=Object(r.createContext)(void 0),F=function(e){var t=e.children,n=Object(D.b)((function(e){return e.config.iframeCommunication.editorOrigin})),a=Object(r.useMemo)((function(){var e=new A;return e.setOtherSide(window.parent,n),e}),[n]);return Object(r.useEffect)((function(){var e=a;return null===e||void 0===e||e.sendRendererReady(),function(){return null===e||void 0===e?void 0:e.unregisterEventListener()}}),[a]),Object(v.jsx)(I.Provider,{value:a,children:t})},L=n(83),U=n(1209),B=n.n(U),G=["img","pre","nav"],W=["katex-mathml"],K=function e(t){return!t.textContent||function(e){return G.includes(e.nodeName.toLowerCase())}(t)||function(e){return W.some((function(t){var n;return null===(n=e.classList)||void 0===n?void 0:n.contains(t)}))}(t)?0:t.hasChildNodes()?Object(L.a)(t.childNodes).reduce((function(t,n){return t+e(n)}),0):B()(t.textContent)},P=function(){var e=Object(r.useState)(""),t=Object(o.a)(e,2),n=t[0],a=t[1],l=Object(r.useState)({firstLineInView:1,scrolledPercentage:0}),u=Object(o.a)(l,2),d=u[0],f=u[1],b=Object(r.useState)(void 0),h=Object(o.a)(b,2),O=h[0],j=h[1],C=function(){var e=Object(r.useContext)(I);if(!e)throw new Error("No renderer-to-editor-iframe-communicator received. Did you forget to use the provider component?");return e}(),S=Object(r.useCallback)((function(){var e=document.querySelector(".markdown-body");if(e){var t=K(e);C.sendWordCountCalculated(t)}else C.sendWordCountCalculated(0)}),[C]);Object(r.useEffect)((function(){return C.onSetBaseConfiguration(j)}),[C]),Object(r.useEffect)((function(){return C.onSetMarkdownContent(a)}),[C]),Object(r.useEffect)((function(){return C.onSetDarkMode(i.d)}),[C]),Object(r.useEffect)((function(){return C.onSetScrollState(f)}),[C,d]),Object(r.useEffect)((function(){return null===C||void 0===C?void 0:C.onGetWordCount(S)}),[C,S]);var g=Object(r.useCallback)((function(e,t){C.sendTaskCheckBoxChange(e,t)}),[C]),k=Object(r.useCallback)((function(e){C.sendFirstHeadingChanged(e)}),[C]),m=Object(r.useCallback)((function(){C.sendSetScrollSourceToRenderer()}),[C]),T=Object(r.useCallback)((function(e){Object(s.c)(e),C.sendSetFrontmatter(e)}),[C]),p=Object(r.useCallback)((function(e){C.sendSetScrollState(e)}),[C]),E=function(e){return Object(r.useCallback)((function(t){var n=t.target;""!==n.src&&e.sendClickedImageUrl({src:n.src,alt:n.alt,title:n.title})}),[e])}(C),w=Object(r.useCallback)((function(e){C.sendHeightChange(e)}),[C]);if(!O)return null;switch(O.rendererType){case c.b.DOCUMENT:return Object(v.jsx)(N,{additionalOuterContainerClasses:"vh-100 bg-light",markdownContent:n,onTaskCheckedChange:g,onFirstHeadingChange:k,onMakeScrollSource:m,onFrontmatterChange:T,scrollState:d,onScroll:p,baseUrl:O.baseUrl,onImageClick:E});case c.b.INTRO:return Object(v.jsx)(N,{additionalOuterContainerClasses:"vh-100 bg-light overflow-y-hidden",markdownContent:n,baseUrl:O.baseUrl,onImageClick:E,disableToc:!0,onHeightChange:w});default:return null}},V=function(){return Object(a.a)(),Object(v.jsx)(F,{children:Object(v.jsx)(P,{})})};t.default=V},333:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return u}));var r=n(21),a=n(175),o=n(87),c=function(e){r.a.dispatch({type:o.a.SET_DOCUMENT_CONTENT,content:e})},i=function(e){r.a.dispatch({type:o.a.SET_NOTE_DATA_FROM_SERVER,note:e})},s=function(e){r.a.dispatch({type:o.a.UPDATE_NOTE_TITLE_BY_FIRST_HEADING,firstHeading:e})},l=function(e){e||(e=a.b.frontmatter),r.a.dispatch({type:o.a.SET_NOTE_FRONTMATTER,frontmatter:e})},u=function(e,t){r.a.dispatch({type:o.a.SET_CHECKBOX_IN_MARKDOWN_CONTENT,checked:t,lineInMarkdown:e})}},387:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),a=n(162),o=function(){var e=Object(a.a)();Object(r.useEffect)((function(){return e?window.document.body.classList.add("dark"):window.document.body.classList.remove("dark"),function(){window.document.body.classList.remove("dark")}}),[e])}}}]);
//# sourceMappingURL=renderPage.19020f1c.chunk.js.map