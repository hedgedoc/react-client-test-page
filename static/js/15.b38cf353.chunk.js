(this.webpackJsonpreact_client=this.webpackJsonpreact_client||[]).push([[15],{1529:function(e,t,n){"use strict";n.r(t),n.d(t,"ScrollSource",(function(){return mn})),n.d(t,"Editor",(function(){return Ln}));var r,i=n(0),a=n(7),c=n(1),o=n(58),s=n(17),l=n(25),u=n(951),d=n.n(u),j=n(193),m=n(119),b=n(154),f=n(53),h=n(194),O=n(120),p=n(162),x=n(115),g=n(6),v=n(47),y=n(59),C=n(123),k=function(e){var t=e.i18nKey,n=Object(v.a)(e,["i18nKey"]);return Object(i.jsx)(C.a,Object(g.a)(Object(g.a)({},n),{},{children:Object(i.jsx)(y.a,{i18nKey:t})}))},w=function(){Object(o.a)();return Object(i.jsx)(k,{size:"sm",className:"mx-1",icon:"thumb-tack",variant:"light",i18nKey:"editor.documentBar.pinNoteToHistory"})},E=n(32),T=n.n(E),N=n(112),S=n(181),I=n(121),L=n(83),R=n(8),D=function(){Object(o.a)();var e=Object(c.useState)(!1),t=Object(a.a)(e,2),n=t[0],r=t[1],u=Object(s.b)((function(e){return e.documentContent.metadata}),T.a),d=Object(s.b)((function(e){return e.editorConfig.editorMode})),j=Object(S.a)(),m=Object(l.m)().id;return Object(i.jsxs)(c.Fragment,{children:[Object(i.jsx)(k,{size:"sm",className:"mx-1",icon:"share",variant:"light",onClick:function(){return r(!0)},i18nKey:"editor.documentBar.shareLink"}),Object(i.jsx)(L.a,{show:n,onHide:function(){return r(!1)},closeButton:!0,titleI18nKey:"editor.modal.shareLink.title",children:Object(i.jsxs)(N.a.Body,{children:[Object(i.jsx)(y.a,{i18nKey:"editor.modal.shareLink.editorDescription"}),Object(i.jsx)(I.a,{content:"".concat(j,"/n/").concat(m,"?").concat(d),nativeShareButton:!0,url:"".concat(j,"/n/").concat(m,"?").concat(d)}),Object(i.jsxs)(R.a,{condition:"slide"===u.type,children:[Object(i.jsx)(y.a,{i18nKey:"editor.modal.shareLink.slidesDescription"}),Object(i.jsx)(I.a,{content:"".concat(j,"/p/").concat(m),nativeShareButton:!0,url:"".concat(j,"/p/").concat(m)})]}),Object(i.jsxs)(R.a,{condition:""===u.type,children:[Object(i.jsx)(y.a,{i18nKey:"editor.modal.shareLink.viewOnlyDescription"}),Object(i.jsx)(I.a,{content:"".concat(j,"/s/").concat(m),nativeShareButton:!0,url:"".concat(j,"/s/").concat(m)})]})]})})]})},B=n(82),M=n(13);n(956);!function(e){e.ACTIVE="active",e.INACTIVE="inactive"}(r||(r={}));var K,A=function(e){var t=e.status;return Object(i.jsx)("span",{className:"activeIndicator ".concat(t)})},P=n(114),F=(n(957),function(e){var t=e.name,n=e.photo,r=e.color,a=e.status;return Object(i.jsxs)(c.Fragment,{children:[Object(i.jsx)("div",{className:"d-inline-flex align-items-bottom user-line-color-indicator",style:{borderLeftColor:r}}),Object(i.jsx)(P.a,{photo:n,name:t,additionalClasses:"mx-2"}),Object(i.jsx)(A,{status:a})]})}),H=function(){return Object(i.jsxs)(B.a,{className:"small mx-2",alignRight:!0,children:[Object(i.jsxs)(B.a.Toggle,{id:"connection-indicator",size:"sm",variant:"primary",className:"text-uppercase",children:[Object(i.jsx)(M.a,{icon:"users",className:"mr-1"})," ",2," Online"]}),Object(i.jsxs)(B.a.Menu,{children:[Object(i.jsx)(B.a.Item,{disabled:!0,className:"d-flex align-items-center p-0",children:Object(i.jsx)(F,{name:"Philip Molares",photo:"/img/avatar.png",color:"red",status:r.INACTIVE})}),Object(i.jsx)(B.a.Item,{disabled:!0,className:"d-flex align-items-center p-0",children:Object(i.jsx)(F,{name:"Philip Molares",photo:"/img/avatar.png",color:"blue",status:r.ACTIVE})})]})]})},V=n(41),W=n(457),z=n(230),_=n(110),G=function(e){var t=e.text;return Object(i.jsx)("b",{className:"font-style-normal mr-1",children:t})},q=function(){var e=Object(c.useState)(!1),t=Object(a.a)(e,2),n=t[0],r=t[1];return Object(o.a)(),Object(i.jsxs)(c.Fragment,{children:[Object(i.jsx)(k,{size:"sm",className:"mx-1",icon:"line-chart",variant:"light",onClick:function(){return r(!0)},i18nKey:"editor.documentBar.documentInfo"}),Object(i.jsx)(L.a,{show:n,onHide:function(){return r(!1)},closeButton:!0,titleI18nKey:"editor.modal.documentInfo.title",children:Object(i.jsx)(N.a.Body,{children:Object(i.jsxs)(W.a,{children:[Object(i.jsx)(W.a.Item,{children:Object(i.jsx)(_.b,{size:"2x",mode:_.a.CREATED,time:V.DateTime.local().minus({days:11}),userName:"Tilman",profileImageSrc:"/img/avatar.png"})}),Object(i.jsx)(W.a.Item,{children:Object(i.jsx)(_.b,{size:"2x",mode:_.a.EDITED,time:V.DateTime.local().minus({minutes:3}),userName:"Philip",profileImageSrc:"/img/avatar.png"})}),Object(i.jsx)(W.a.Item,{children:Object(i.jsx)(z.a,{icon:"users",size:"2x",children:Object(i.jsx)(y.a,{i18nKey:"editor.modal.documentInfo.usersContributed",children:Object(i.jsx)(G,{text:"42"})})})}),Object(i.jsx)(W.a.Item,{children:Object(i.jsx)(z.a,{icon:"history",size:"2x",children:Object(i.jsx)(y.a,{i18nKey:"editor.modal.documentInfo.revisions",children:Object(i.jsx)(G,{text:"192"})})})})]})})})]})},U=n(122),$=function(e){var t=e.noteTitle;return Object(o.a)(),Object(i.jsxs)(B.a,{className:"small mx-1",alignRight:!0,children:[Object(i.jsx)(B.a.Toggle,{variant:"light",size:"sm",id:"editor-menu",children:Object(i.jsx)(y.a,{i18nKey:"editor.documentBar.menu"})}),Object(i.jsx)(B.a.Menu,{children:Object(i.jsx)(U.a,{itemI18nKey:"landing.history.menu.deleteNote",modalButtonI18nKey:"editor.modal.deleteNote.button",modalIcon:"trash",modalQuestionI18nKey:"editor.modal.deleteNote.question",modalTitleI18nKey:"editor.modal.deleteNote.title",modalWarningI18nKey:"editor.modal.deleteNote.warning",noteTitle:t,className:"small",onConfirm:function(){return console.log("deleted")}})})]})},X=n(36),Y=n(178),J=function(e){var t=e.title,n=Object(s.b)((function(e){return e.documentContent.content}));return Object(i.jsxs)(B.a.Item,{className:"small",onClick:function(){return Object(Y.a)(n,"".concat(t,".md"),"text/markdown")},children:[Object(i.jsx)(M.a,{icon:"file-text",className:"mx-2"}),"Markdown"]})},Q=function(e){var t=e.title;return Object(o.a)(),Object(i.jsxs)(B.a,{className:"small mx-1",alignRight:!0,children:[Object(i.jsx)(B.a.Toggle,{variant:"light",size:"sm",id:"editor-menu-export",className:"",children:Object(i.jsx)(y.a,{i18nKey:"editor.documentBar.export"})}),Object(i.jsxs)(B.a.Menu,{children:[Object(i.jsx)(B.a.Header,{children:Object(i.jsx)(y.a,{i18nKey:"common.export"})}),Object(i.jsxs)(B.a.Item,{className:"small",children:[Object(i.jsx)(M.a,{icon:"dropbox",className:"mx-2"}),"Dropbox"]}),Object(i.jsxs)(B.a.Item,{className:"small",children:[Object(i.jsx)(M.a,{icon:"github",className:"mx-2"}),"Gist"]}),Object(i.jsxs)(B.a.Item,{className:"small",children:[Object(i.jsx)(M.a,{icon:"gitlab",className:"mx-2"}),"Gitlab Snippet"]}),Object(i.jsx)(B.a.Divider,{}),Object(i.jsx)(B.a.Header,{children:Object(i.jsx)(y.a,{i18nKey:"editor.documentBar.download"})}),Object(i.jsx)(J,{title:t}),Object(i.jsxs)(B.a.Item,{className:"small",children:[Object(i.jsx)(M.a,{icon:"file-code-o",className:"mx-2"}),"HTML"]}),Object(i.jsxs)(B.a.Item,{className:"small",children:[Object(i.jsx)(M.a,{icon:"file-code-o",className:"mx-2"}),Object(i.jsx)(y.a,{i18nKey:"editor.export.rawHtml"})]}),Object(i.jsx)(B.a.Divider,{}),Object(i.jsxs)(B.a.Item,{className:"small text-muted",dir:"auto",href:X.faq,target:"_blank",rel:"noopener noreferrer",children:[Object(i.jsx)(M.a,{icon:"file-pdf-o",className:"mx-2"}),Object(i.jsx)(y.a,{i18nKey:"editor.export.pdf"}),"\xa0",Object(i.jsx)("span",{className:"text-primary",children:Object(i.jsx)(y.a,{i18nKey:"common.why"})})]})]})]})},Z=n(64),ee=function(e){var t=e.type,n=e.acceptedFiles,r=e.i18nKey,a=e.icon,s=e.onLoad,l=Object(o.a)().t,u=Object(c.useRef)(null),d=Object(c.useCallback)((function(){var e=u.current;e&&(e.addEventListener("change",(function(){if(e.files&&!(e.files.length<1)){var t=e.files[0];s(t).then((function(){e.value=""})).catch((function(e){console.error(e)}))}})),e.click())}),[s]);return Object(i.jsxs)(c.Fragment,{children:[Object(i.jsx)("input",{type:"file",ref:u,className:"d-none",accept:n}),"dropdown"===t?Object(i.jsxs)(B.a.Item,{className:"small import-md-file",onClick:d,children:[Object(i.jsx)(M.a,{icon:a,className:"mx-2"}),Object(i.jsx)(y.a,{i18nKey:r})]}):Object(i.jsx)(Z.a,{variant:"light",onClick:d,title:l(r),children:Object(i.jsx)(M.a,{icon:a})})]})},te=function(){var e=Object(s.b)((function(e){return e.documentContent.content})),t=Object(c.useCallback)((function(t){return new Promise((function(n,r){var i=new FileReader;i.addEventListener("load",(function(){var t=i.result;0===e.length?Object(b.a)(t):Object(b.a)(e+"\n"+t)})),i.addEventListener("loadend",(function(){n()})),i.addEventListener("error",(function(e){r(e)})),i.readAsText(t)}))}),[e]);return Object(i.jsxs)(B.a,{className:"small mx-1",alignRight:!0,children:[Object(i.jsx)(B.a.Toggle,{variant:"light",size:"sm",id:"editor-menu-import",className:"",children:Object(i.jsx)(y.a,{i18nKey:"editor.documentBar.import"})}),Object(i.jsxs)(B.a.Menu,{children:[Object(i.jsxs)(B.a.Item,{className:"small",children:[Object(i.jsx)(M.a,{icon:"dropbox",className:"mx-2"}),"Dropbox"]}),Object(i.jsxs)(B.a.Item,{className:"small",children:[Object(i.jsx)(M.a,{icon:"github",className:"mx-2"}),"Gist"]}),Object(i.jsxs)(B.a.Item,{className:"small",children:[Object(i.jsx)(M.a,{icon:"gitlab",className:"mx-2"}),"Gitlab Snippet"]}),Object(i.jsxs)(B.a.Item,{className:"small",children:[Object(i.jsx)(M.a,{icon:"clipboard",className:"mx-2"}),Object(i.jsx)(y.a,{i18nKey:"editor.import.clipboard"})]}),Object(i.jsx)(ee,{type:"dropdown",acceptedFiles:".md, text/markdown, text/plain",i18nKey:"editor.import.file",icon:"file-text-o",onLoad:t})]})]})},ne=n(437),re=n(10),ie=n.n(re),ae=n(22),ce=n(20),oe=n(21),se=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(Object(ce.a)(this,e),this.store=new Map,this.entryLifetime=void 0,this.maxEntries=void 0,t<0)throw new Error("Cache entry lifetime can not be less than 0 seconds.");this.entryLifetime=t,this.maxEntries=n}return Object(oe.a)(e,[{key:"has",value:function(e){if(!this.store.has(e))return!1;var t=this.store.get(e);return!!t&&t.entryCreated>=Date.now()-1e3*this.entryLifetime}},{key:"get",value:function(e){var t=this.store.get(e);if(!t)throw new Error('This cache entry does not exist. Check with ".has()" before using ".get()".');return t.data}},{key:"put",value:function(e,t){this.maxEntries>0&&this.store.size===this.maxEntries&&this.store.delete(this.store.keys().next().value),this.store.set(e,{entryCreated:Date.now(),data:t})}}]),e}(),le=n(14),ue=new se(600),de=function(){var e=Object(ae.a)(ie.a.mark((function e(t){var n,r;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ue.has(t)){e.next=2;break}return e.abrupt("return",ue.get(t));case 2:return e.next=4,fetch("".concat(Object(le.c)(),"/users/").concat(t),Object(g.a)({},le.a));case 4:return n=e.sent,Object(le.b)(n),e.next=8,n.json();case 8:return r=e.sent,ue.put(t,r),e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),je=n(440),me=n(111);!function(e){e[e.NONE=0]="NONE",e[e.VIEW=1]="VIEW",e[e.EDIT=2]="EDIT"}(K||(K={}));var be,fe=function(e){var t=e.title,n=e.editMode,r=e.onChangeEditMode,a=Object(o.a)().t;return Object(i.jsxs)("li",{className:"list-group-item d-flex flex-row justify-content-between align-items-center",children:[Object(i.jsx)(y.a,{i18nKey:t}),Object(i.jsxs)(je.a,{type:"radio",name:"edit-mode",value:n,onChange:r,children:[Object(i.jsx)(me.a,{title:a("editor.modal.permissions.denyGroup",{name:a(t)}),variant:"light",className:"text-secondary",value:K.NONE,children:Object(i.jsx)(M.a,{icon:"ban"})}),Object(i.jsx)(me.a,{title:a("editor.modal.permissions.viewOnlyGroup",{name:a(t)}),variant:"light",className:"text-secondary",value:K.VIEW,children:Object(i.jsx)(M.a,{icon:"eye"})}),Object(i.jsx)(me.a,{title:a("editor.modal.permissions.editGroup",{name:a(t)}),variant:"light",className:"text-secondary",value:K.EDIT,children:Object(i.jsx)(M.a,{icon:"pencil"})})]})]})},he=n(171),Oe=n(167);!function(e){e[e.VIEW=0]="VIEW",e[e.EDIT=1]="EDIT"}(be||(be={}));var pe,xe=function(e){var t=e.list,n=e.identifier,r=e.changeEditMode,s=e.removeEntry,l=e.createEntry,u=e.editI18nKey,d=e.viewI18nKey,j=e.removeI18nKey,m=e.addI18nKey,b=Object(o.a)().t,f=Object(c.useState)(""),h=Object(a.a)(f,2),O=h[0],p=h[1],x=function(){l(O),p("")};return Object(i.jsxs)("ul",{className:"list-group",children:[t.map((function(e){return Object(i.jsxs)("li",{className:"list-group-item d-flex flex-row justify-content-between align-items-center",children:[n(e),Object(i.jsxs)("div",{children:[Object(i.jsx)(Z.a,{variant:"light",className:"text-danger mr-2",title:b(j,{name:e.name}),onClick:function(){return s(e.id)},children:Object(i.jsx)(M.a,{icon:"times"})}),Object(i.jsxs)(je.a,{type:"radio",name:"edit-mode",value:e.canEdit?be.EDIT:be.VIEW,onChange:function(t){return r(e.id,t===be.EDIT)},children:[Object(i.jsx)(me.a,{title:b(d,{name:e.name}),variant:"light",className:"text-secondary",value:be.VIEW,children:Object(i.jsx)(M.a,{icon:"eye"})}),Object(i.jsx)(me.a,{title:b(u,{name:e.name}),variant:"light",className:"text-secondary",value:be.EDIT,children:Object(i.jsx)(M.a,{icon:"pencil"})})]})]})]},e.id)})),Object(i.jsx)("li",{className:"list-group-item",children:Object(i.jsx)("form",{onSubmit:function(e){e.preventDefault(),x()},children:Object(i.jsxs)(he.a,{className:"mr-1 mb-1",children:[Object(i.jsx)(Oe.a,{value:O,placeholder:b(m),"aria-label":b(m),onChange:function(e){return p(e.currentTarget.value)}}),Object(i.jsx)(Z.a,{variant:"light",className:"text-secondary ml-2",title:b(m),onClick:x,children:Object(i.jsx)(M.a,{icon:"plus"})})]})})})]})},ge={owner:"dermolly",sharedTo:[{username:"emcrx",canEdit:!0},{username:"mrdrogdrog",canEdit:!1}],sharedToGroup:[{id:"1",canEdit:!0},{id:"2",canEdit:!1}]},ve=function(e){var t,n,r=e.show,s=e.onChangeShow;Object(o.a)();var l=Object(c.useState)(!1),u=Object(a.a)(l,2),d=u[0],j=u[1],m=Object(c.useState)([]),b=Object(a.a)(m,2),f=b[0],h=b[1],O=Object(c.useState)(),p=Object(a.a)(O,2),x=p[0],g=p[1],v=Object(c.useState)(K.NONE),C=Object(a.a)(v,2),k=C[0],w=C[1],E=Object(c.useState)(K.NONE),T=Object(a.a)(E,2),S=T[0],I=T[1];Object(c.useEffect)((function(){de(ge.owner).then((function(e){g({name:e.name,photo:e.photo})})).catch((function(){return j(!0)})),ge.sharedTo.forEach((function(e){de(e.username).then((function(t){h((function(n){return n.concat([{id:t.id,name:t.name,photo:t.photo,canEdit:e.canEdit}])}))})).catch((function(){return j(!0)}))})),ge.sharedToGroup.forEach((function(e){"1"===e.id?w(e.canEdit?K.EDIT:K.VIEW):"2"===e.id&&I(e.canEdit?K.EDIT:K.VIEW)}))}),[]);return Object(i.jsx)(L.a,{show:r,onHide:function(){return s(!1)},closeButton:!0,titleI18nKey:"editor.modal.permissions.title",children:Object(i.jsxs)(N.a.Body,{children:[Object(i.jsx)("h5",{className:"mb-3",children:Object(i.jsx)(y.a,{i18nKey:"editor.modal.permissions.owner"})}),Object(i.jsx)(R.a,{condition:d,children:Object(i.jsx)(ne.a,{variant:"danger",children:Object(i.jsx)(y.a,{i18nKey:"editor.modal.permissions.error"})})}),Object(i.jsx)("ul",{className:"list-group",children:Object(i.jsx)("li",{className:"list-group-item d-flex flex-row align-items-center",children:Object(i.jsx)(P.a,{name:null!==(t=null===x||void 0===x?void 0:x.name)&&void 0!==t?t:"",photo:null!==(n=null===x||void 0===x?void 0:x.photo)&&void 0!==n?n:""})})}),Object(i.jsx)("h5",{className:"my-3",children:Object(i.jsx)(y.a,{i18nKey:"editor.modal.permissions.sharedWithUsers"})}),Object(i.jsx)(xe,{list:f,identifier:function(e){return Object(i.jsx)(P.a,{name:e.name,photo:e.photo})},changeEditMode:function(e,t){h((function(n){return n.map((function(n){return n.id===e&&(n.canEdit=t),n}))}))},removeEntry:function(e){h((function(t){return t.filter((function(t){return t.id!==e}))}))},createEntry:function(e){h((function(t){return t.concat({id:e,photo:"/img/avatar.png",name:e,canEdit:!1})}))},editI18nKey:"editor.modal.permissions.editUser",viewI18nKey:"editor.modal.permissions.viewOnlyUser",removeI18nKey:"editor.modal.permissions.removeUser",addI18nKey:"editor.modal.permissions.addUser"}),Object(i.jsx)("h5",{className:"my-3",children:Object(i.jsx)(y.a,{i18nKey:"editor.modal.permissions.sharedWithGroups"})}),Object(i.jsxs)("ul",{className:"list-group",children:[Object(i.jsx)(fe,{title:"editor.modal.permissions.allUser",editMode:k,onChangeEditMode:w}),Object(i.jsx)(fe,{title:"editor.modal.permissions.allLoggedInUser",editMode:S,onChangeEditMode:I})]})]})})},ye=function(){var e=Object(c.useState)(!1),t=Object(a.a)(e,2),n=t[0],r=t[1];return Object(i.jsxs)(c.Fragment,{children:[Object(i.jsx)(k,{size:"sm",className:"mx-1",icon:"lock",variant:"light",onClick:function(){return r(!0)},i18nKey:"editor.documentBar.permissions"}),Object(i.jsx)(ve,{show:n,onChangeShow:r})]})},Ce=n(448),ke=n(241),we=n(958),Ee=n.n(we),Te=new se(3600),Ne=function(){var e=Object(ae.a)(ie.a.mark((function e(t,n){var r,i,a;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r="".concat(t,":").concat(n),!Te.has(r)){e.next=3;break}return e.abrupt("return",Te.get(r));case 3:return e.next=5,fetch(Object(le.c)()+"/notes/".concat(t,"/revisions/").concat(n),Object(g.a)({},le.a));case 5:return i=e.sent,Object(le.b)(i),e.next=9,i.json();case 9:return a=e.sent,Te.put(r,a),e.abrupt("return",a);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Se=function(){var e=Object(ae.a)(ie.a.mark((function e(t){var n;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(Object(le.c)()+"/notes/".concat(t,"/revisions-list"),Object(g.a)({},le.a));case 2:return n=e.sent,Object(le.b)(n),e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ie=n(73),Le=function(e){var t,n=e.active,r=e.onClick,a=e.revision,c=e.revisionAuthorListMap;return Object(i.jsxs)(W.a.Item,{as:"li",active:n,onClick:r,className:"user-select-none revision-item d-flex flex-column",children:[Object(i.jsxs)("span",{children:[Object(i.jsx)(M.a,{icon:"clock-o",className:"mx-2"}),V.DateTime.fromMillis(1e3*a.timestamp).toFormat("DDDD T")]}),Object(i.jsxs)("span",{children:[Object(i.jsx)(M.a,{icon:"file-text-o",className:"mx-2"}),Object(i.jsx)(y.a,{i18nKey:"editor.modal.revision.length"}),": ",a.length]}),Object(i.jsxs)("span",{className:"d-flex flex-row my-1 align-items-center",children:[Object(i.jsx)(M.a,{icon:"user-o",className:"mx-2"}),null===(t=c.get(a.timestamp))||void 0===t?void 0:t.map((function(e,t){return Object(i.jsx)(P.a,{name:e.name,photo:e.photo,showName:!1,additionalClasses:"mx-1"},t)}))]})]})},Re=(n(963),function(e){var t=e.show,n=e.onHide,r=e.icon,u=e.titleI18nKey;Object(o.a)();var d=Object(c.useState)([]),j=Object(a.a)(d,2),m=j[0],b=j[1],f=Object(c.useState)(null),h=Object(a.a)(f,2),O=h[0],p=h[1],x=Object(c.useState)(null),g=Object(a.a)(x,2),v=g[0],C=g[1],k=Object(c.useState)(!1),w=Object(a.a)(k,2),E=w[0],T=w[1],S=Object(c.useRef)(new Map),I=Object(Ie.a)(),D=Object(l.m)().id;Object(c.useEffect)((function(){Se(D).then((function(e){e.forEach((function(e){var t=function(e){var t=[];return e.forEach((function(e,n){n>9||de(e).then((function(e){t.push(e)})).catch((function(e){return console.error(e)}))})),t}(e.authors);S.current.set(e.timestamp,t)})),b(e),e.length>=1&&p(e[0].timestamp)})).catch((function(){return T(!0)}))}),[b,T,D]),Object(c.useEffect)((function(){null!==O&&Ne(D,O).then((function(e){C(e)})).catch((function(){return T(!0)}))}),[O,D]);var B=Object(s.b)((function(e){return e.documentContent.content}));return Object(i.jsxs)(L.a,{show:t,onHide:n,titleI18nKey:u,icon:r,closeButton:!0,size:"xl",additionalClasses:"revision-modal",children:[Object(i.jsx)(N.a.Body,{children:Object(i.jsxs)(Ce.a,{children:[Object(i.jsx)(ke.a,{lg:4,className:"scroll-col",children:Object(i.jsx)(W.a,{as:"ul",children:m.map((function(e,t){return Object(i.jsx)(Le,{active:O===e.timestamp,revision:e,revisionAuthorListMap:S.current,onClick:function(){return p(e.timestamp)}},t)}))})}),Object(i.jsxs)(ke.a,{lg:8,className:"scroll-col",children:[Object(i.jsx)(R.a,{condition:E,children:Object(i.jsx)(ne.a,{variant:"danger",children:Object(i.jsx)(y.a,{i18nKey:"editor.modal.revision.error"})})}),Object(i.jsx)(R.a,{condition:!E&&!!v,children:Object(i.jsx)(Ee.a,{oldValue:null===v||void 0===v?void 0:v.content,newValue:B,splitView:!1,compareMethod:we.DiffMethod.WORDS,useDarkTheme:I})})]})]})}),Object(i.jsxs)(N.a.Footer,{children:[Object(i.jsx)(Z.a,{variant:"secondary",onClick:n,children:Object(i.jsx)(y.a,{i18nKey:"common.close"})}),Object(i.jsx)(Z.a,{variant:"danger",disabled:!O,onClick:function(){return window.alert("Not yet implemented. Requires websocket.")},children:Object(i.jsx)(y.a,{i18nKey:"editor.modal.revision.revertButton"})}),Object(i.jsx)(Z.a,{variant:"primary",disabled:!O,onClick:function(){return e=D,void((t=v)&&Object(Y.a)(t.content,"".concat(e,"-").concat(t.timestamp,".md"),"text/markdown"));var e,t},children:Object(i.jsx)(y.a,{i18nKey:"editor.modal.revision.download"})})]})]})}),De=function(){var e=Object(c.useState)(!1),t=Object(a.a)(e,2),n=t[0],r=t[1];return Object(i.jsxs)(c.Fragment,{children:[Object(i.jsx)(k,{size:"sm",className:"mx-1",icon:"history",variant:"light",i18nKey:"editor.documentBar.revision",onClick:function(){return r(!0)}}),Object(i.jsx)(Re,{show:n,onHide:function(){return r(!1)},titleI18nKey:"editor.modal.revision.title",icon:"history"})]})},Be=function(e){var t=e.title;return Object(o.a)(),Object(i.jsxs)("div",{className:"navbar navbar-expand navbar-light bg-light",children:[Object(i.jsxs)("div",{className:"navbar-nav",children:[Object(i.jsx)(D,{}),Object(i.jsx)(q,{}),Object(i.jsx)(De,{}),Object(i.jsx)(w,{}),Object(i.jsx)(ye,{})]}),Object(i.jsxs)("div",{className:"ml-auto navbar-nav",children:[Object(i.jsx)(te,{}),Object(i.jsx)(Q,{title:t}),Object(i.jsx)($,{noteTitle:t}),Object(i.jsx)(H,{})]})]})},Me=n(232),Ke=function(e){var t=e.scrollState,n=e.wide,r=e.onFirstHeadingChange,o=e.onMakeScrollSource,l=e.onMetadataChange,u=e.onScroll,d=e.onTaskCheckedChange,j=Object(s.b)((function(e){return e.documentContent.content})),m=Object(c.useRef)(null),b=Object(c.useState)(),f=Object(a.a)(b,2),h=f[0],O=f[1];!function(e,t,n,r){var i=Object(c.useRef)(),a=Object(c.useCallback)((function(e){r.current&&e!==i.current&&(i.current=e,r.current.scrollTo({top:e}))}),[r]);Object(c.useEffect)((function(){if(r.current&&t&&0!==t.length&&e)if(e.firstLineInView<t[0].line)a(0);else if(e.firstLineInView>t[t.length-1].line)a(r.current.offsetHeight);else{var i=function(e,t){for(var n,r,i=0;i<e.length;i++){var a=e[i];if(a&&(a.line<=t&&(n=a),a.line>t&&(r=a),r&&n))break}return{lastMarkBefore:n,firstMarkAfter:r}}(t,e.firstLineInView),c=i.lastMarkBefore,o=i.firstMarkAfter,s=c?c.position:t[0].position,l=o?o.position:r.current.offsetHeight,u=c?c.line:1,d=(l-s)/((o?o.line:n)-u),j=s+(e.firstLineInView-u)*d+e.scrolledPercentage/100*d,m=Math.floor(j);a(m)}}),[n,t,r,e,a])}(t,h,Object(c.useMemo)((function(){return j.split("\n").length}),[j]),m);var p=function(e,t,n){return Object(c.useCallback)((function(){if(t.current&&e&&0!==e.length&&n){var r=t.current.scrollTop,i=e.filter((function(e){return e.position<=r}));if(0!==i.length){var a=e.filter((function(e){return e.position>r}));if(0!==a.length){var c=i.reduce((function(e,t){return e.line>=t.line?e:t})),o=a.reduce((function(e,t){return e.line<t.line?e:t})),s=o.position-c.position,l=r-c.position,u=l/s,d=o.line-c.line,j=Math.floor(d*u+c.line),m=s/d,b=Math.floor(l%m/m*100);n({firstLineInView:j,scrolledPercentage:b})}}}}),[e,n,t])}(h,m,u);return Object(i.jsx)(Me.a,{extraClasses:"overflow-y-scroll",documentRenderPaneRef:m,wide:n,onFirstHeadingChange:r,onLineMarkerPositionChanged:O,onMetadataChange:l,onMouseEnterRenderer:o,onScrollRenderer:p,onTaskCheckedChange:d})},Ae=n(172),Pe=(n(964),n(559),n(965),n(966),n(967),n(968),n(969),n(970),n(624),n(971),n(740),n(972),n(973),n(974),n(975),n(976),n(979),n(980),n(981),n(982),n(983),n(984),n(989)),Fe=function(e){var t=e.show,n=e.onHide,r=e.maxLength;return Object(o.a)(),Object(i.jsxs)(L.a,{"data-cy":"limitReachedModal",show:t,onHide:n,titleI18nKey:"editor.error.limitReached.title",closeButton:!0,children:[Object(i.jsxs)(N.a.Body,{children:[Object(i.jsx)(y.a,{i18nKey:"editor.error.limitReached.description",values:{maxLength:r}}),Object(i.jsx)("strong",{className:"mt-2 d-block",children:Object(i.jsx)(y.a,{i18nKey:"editor.error.limitReached.advice"})})]}),Object(i.jsx)(N.a.Footer,{children:Object(i.jsx)(Z.a,{onClick:n,children:Object(i.jsx)(y.a,{i18nKey:"common.close"})})})]})},He=n(459),Ve=n.n(He),We=/^```((\w|-|_|\+)*)$/,ze=[],_e={wordRegExp:We,hint:function(e){return Promise.all([n.e(10),n.e(5)]).then(n.bind(null,1505)).then((function(t){return new Promise((function(n){var r=wt(e),i=We.exec(r.text);if(null!==i){var a=i[1];0===ze.length&&(ze=t.default.listLanguages().concat("csv","flow","html","js","markmap","abc","graphviz","mermaid","vega-lite"));var c=Et(a,ze),o=e.getCursor();n(c?{list:c.map((function(e){return{text:"```"+e+"\n\n```\n",displayText:e}})),from:Object(He.Pos)(o.line,r.start),to:Object(He.Pos)(o.line,r.end)}:null)}else n(null)}))}))}},Ge=/^(<d(?:e|et|eta|etai|etail|etails)?)$/,qe={wordRegExp:Ge,hint:function(e){return new Promise((function(t){var n=wt(e);if(null!==Ge.exec(n.text)){var r=["<details>\n  <summary>Toggle label</summary>\n  Toggled content\n</details>"],i=e.getCursor();t(r?{list:r.map((function(e){return{text:e}})),from:Object(He.Pos)(i.line,n.start),to:Object(He.Pos)(i.line,n.end+1)}:null)}else t(null)}))}},Ue=n(218),$e=/^:::((\w|-|_|\+)*)$/,Xe=Ue.b.map((function(e){return{text:":::"+e+"\n\n::: \n",displayText:e}})).concat({text:":::spoiler Toggle label\nToggled content\n::: \n",displayText:"spoiler"}),Ye={wordRegExp:$e,hint:function(e){return new Promise((function(t){var n=wt(e),r=$e.exec(n.text);if(null!==r){var i=e.getCursor();t(Xe?{list:Xe.filter((function(e){var t;return null===(t=e.displayText)||void 0===t?void 0:t.startsWith(r[1])})),from:Object(He.Pos)(i.line,n.start),to:Object(He.Pos)(i.line,n.end)}:null)}else t(null)}))}},Je=n(561),Qe=n(990),Ze=n(1531),et=(n(991),n.p+"static/media/forkawesome.da7d0f53.png"),tt=n(224),nt={customEmoji:Object.keys(tt.a).map((function(e){return{name:"fa-".concat(e),shortcodes:["fa-".concat(e.toLowerCase())],url:et,category:"ForkAwesome"}})),dataSource:"/static/js/emoji-data.json"},rt=function(e){var t=e.show,n=e.onEmojiSelected,r=e.onDismiss,a=Object(Ie.a)(),o=Object(c.useRef)(null),s=Object(c.useRef)();return Object(Ze.a)(o,(function(){r()})),Object(c.useEffect)((function(){if(o.current){var e=new Qe.a(nt);return e.shadowRoot&&e.shadowRoot.appendChild(function(){var e=document.createElement("style");return e.textContent='section.picker { --font-family: "Twemoji Mozilla" !important; }',e}()),o.current.appendChild(e),s.current=e,function(){e.remove(),s.current=void 0}}}),[]),Object(c.useEffect)((function(){if(s.current){var e=function(e){n(e.detail)},t=s.current;return t.addEventListener("emoji-click",e,!0),function(){t.removeEventListener("emoji-click",e,!0)}}}),[n]),Object(c.useEffect)((function(){s.current&&(s.current.setAttribute("class",a?"dark":"light"),a?s.current.removeAttribute("style"):s.current.setAttribute("style","--background: #f8f9fa"))}),[a]),Object(i.jsx)("div",{className:"position-absolute emoji-picker-container ".concat(t?"":"d-none"),ref:o})},it=function(e){if(e.emoji.shortcodes){var t="";return e.emoji.skins&&0!==e.skinTone&&(t=":skin-tone-".concat(e.skinTone,":")),":".concat(e.emoji.shortcodes[0],":").concat(t)}},at=new Je.a(nt),ct=/^:([\w-_+]*)$/,ot=function(){var e=Object(ae.a)(ie.a.mark((function e(t,n){var r;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,""!==n){e.next=5;break}return e.next=4,t.getTopFavoriteEmoji(7);case 4:return e.abrupt("return",e.sent);case 5:return e.next=7,t.getEmojiBySearchQuery(n);case 7:if(0!==(r=e.sent).length){e.next=14;break}return e.next=11,t.getTopFavoriteEmoji(7);case 11:return e.abrupt("return",e.sent);case 14:return e.abrupt("return",r);case 15:e.next=21;break;case 17:return e.prev=17,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",[]);case 21:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t,n){return e.apply(this,arguments)}}(),st=function(e){var t=it(e);if(t)return{text:t,render:function(n){var r,i=document.createElement("div");i.innerHTML="".concat((r=e,r.unicode?r.unicode:r.name?'<i class="fa '.concat(r.name,'"></i>'):""),"   ").concat(t),n.appendChild(i)}}},lt=function(){var e=Object(ae.a)(ie.a.mark((function e(t){var n,r,i,a,c,o,s;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=wt(t),null!==(r=ct.exec(n.text))){e.next=4;break}return e.abrupt("return",null);case 4:return e.next=6,ot(at,r[1]);case 6:return i=e.sent,a=t.getCursor(),e.next=10,at.getPreferredSkinTone();case 10:return c=e.sent,o=i.filter((function(e){return!!e.shortcodes})).map((function(e){return{emoji:e,skinTone:c,unicode:e.unicode?e.unicode:void 0,name:e.name}})),s=o.map(st).filter((function(e){return!!e})),e.abrupt("return",{list:s,from:Object(He.Pos)(a.line,n.start),to:Object(He.Pos)(a.line,n.end)});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ut={wordRegExp:ct,hint:lt},dt=/^(\s{0,3})(#{1,6})$/,jt=["# h1","## h2","### h3","#### h4","##### h5","###### h6","###### tags: `example`"],mt=["# ","## ","### ","#### ","##### ","###### ","###### tags: `example`"],bt={wordRegExp:dt,hint:function(e){return new Promise((function(t){var n=wt(e),r=dt.exec(n.text);if(null!==r){var i=r[0];if(i){var a=Et(i,jt),c=e.getCursor();t(a?{list:a.map((function(e){return{text:mt[jt.indexOf(e)],displayText:e}})),from:Object(He.Pos)(c.line,n.start),to:Object(He.Pos)(c.line,n.end)}:null)}else t(null)}else t(null)}))}},ft=/^(!(\[.*])?)$/,ht=['![image alt](https:// "title")','![image alt](https:// "title" =WidthxHeight)',"![image alt][reference]"],Ot={wordRegExp:ft,hint:function(e){return new Promise((function(t){var n=wt(e);if(null!==ft.exec(n.text)){var r=ht,i=e.getCursor();t(r?{list:r.map((function(e){return{text:e}})),from:Object(He.Pos)(i.line,n.start),to:Object(He.Pos)(i.line,n.end+1)}:null)}else t(null)}))}},pt=n(86),xt=/^(\[(.*])?)$/,gt=['[link text](https:// "title")','[reference]: https:// "title"',"[link text][reference]","[reference]","[^footnote reference]: https://","[^footnote reference]","^[inline footnote]","[TOC]","name","time","[color=#FFFFFF]"],vt={wordRegExp:xt,hint:function(e){return new Promise((function(t){var n=wt(e);if(null!==xt.exec(n.text)){var r=gt,i=e.getCursor();t(r?{list:r.map((function(e){var t=Object(pt.b)(),n=t?t.name:"Anonymous";switch(e){case"name":return{text:"[name=".concat(n,"]")};case"time":return{text:"[time=".concat(V.DateTime.local().toFormat("DDDD T"),"]")};default:return{text:e+" ",displayText:e}}})),from:Object(He.Pos)(i.line,n.start),to:Object(He.Pos)(i.line,n.end+1)}:null)}else t(null)}))}},yt=/^({[%}]?)$/,Ct={wordRegExp:yt,hint:function(e){return new Promise((function(t){var n=wt(e);if(null!==yt.exec(n.text)){var r=["{%pdf https:// %}"],i=e.getCursor();t(r?{list:r.map((function(e){return{text:e}})),from:Object(He.Pos)(i.line,n.start),to:Object(He.Pos)(i.line,n.end+1)}:null)}else t(null)}))}},kt=/[^\s]/,wt=function(e){for(var t=e.getCursor(),n=e.getLine(t.line),r=t.ch,i=t.ch;r&&kt.test(n.charAt(r-1));)--r;for(;i<n.length&&kt.test(n.charAt(i));)++i;return{text:n.slice(r,i).toLowerCase(),start:r,end:i}},Et=function(e,t){var n=[];return t.forEach((function(t){t.toLowerCase().startsWith(e.toLowerCase())&&n.push(t)})),n.slice(0,7)},Tt=[_e,Ye,ut,bt,Ot,vt,Ct,qe],Nt=(n(993),n(160)),St=function(e){return Array.from(Array(e).keys())},It=function(e){return Mt(e,"**")},Lt=function(e){return Mt(e,"*")},Rt=function(e){return Mt(e,"~~")},Dt=function(e){return Mt(e,"++")},Bt=function(e){return Mt(e,"==")},Mt=function(e,t,n){if(e.getSelection()){var r,i=e.listSelections(),a=Object(Ae.a)(i);try{for(a.s();!(r=a.n()).done;){var c=r.value;if(!c.empty()){var o=c.from(),s=c.to(),l=e.getRange(o,s);e.replaceRange(t+l+(n||t),o,s,"+input"),c.head.ch+=t.length,c.anchor.ch+=n?n.length:t.length}}}catch(u){a.e(u)}finally{a.f()}e.setSelections(i)}},Kt=function(e,t,n){if(!e.getSelection()){var r=e.getCursor(),i=r.line,a=e.getLine(i),c=/\s*\\n/.exec(a)?"".concat(t).concat(null!==n&&void 0!==n?n:""):"".concat(t).concat(a).concat(null!==n&&void 0!==n?n:"");e.replaceRange(c,{line:r.line,ch:0},{line:r.line,ch:a.length},"+input")}Mt(e,t,null!==n&&void 0!==n?n:t)},At=function(e,t){var n,r=e.getCursor(),i=e.listSelections(),a=Object(Ae.a)(i);try{for(a.s();!(n=a.n()).done;){var c=n.value,o=c.empty()?{line:r.line,ch:0}:c.from(),s=c.empty()?{line:r.line,ch:e.getLine(r.line).length}:c.to(),l=e.getRange(o,s).split("\n");e.replaceRange(l.map((function(e){return"".concat(t).concat(e)})).join("\n"),o,s,"+input")}}catch(u){a.e(u)}finally{a.f()}e.setSelections(i)},Pt=function(e,t){var n,r=e.getCursor(),i=e.listSelections(),a=Object(Ae.a)(i);try{for(a.s();!(n=a.n()).done;){var c=n.value,o=c.empty()?r.line:c.from().line,s=e.getLine(o);e.replaceRange(t(s),{line:o,ch:0},{line:o,ch:s.length},"+input")}}catch(l){a.e(l)}finally{a.f()}e.setSelections(i)},Ft=function(e,t){var n,r=e.getCursor(),i=e.listSelections(),a=Object(Ae.a)(i);try{for(a.s();!(n=a.n()).done;){var c=n.value,o=c.empty()?{line:r.line,ch:0}:c.from(),s=c.empty()?{line:r.line,ch:e.getLine(r.line).length}:c.to(),l=e.getRange(o,s).split("\n");e.replaceRange(l.map((function(e,n){return"".concat(t(n+1)).concat(e)})).join("\n"),o,s,"+input")}}catch(u){a.e(u)}finally{a.f()}e.setSelections(i)},Ht=function(e,t){var n,r=e.getCursor(),i=e.listSelections(),a=Object(Ae.a)(i);try{for(a.s();!(n=a.n()).done;){var c=n.value,o=c.empty()?{line:r.line,ch:r.ch}:c.from(),s=c.empty()?{line:r.line,ch:r.ch}:c.to(),l=e.getRange(o,s);/^(?:https?|ftp|mailto):/.exec(l)?e.replaceRange("".concat(t||"","[](").concat(l,")"),o,s,"+input"):e.replaceRange("".concat(t||"","[").concat(l,"](https://)"),o,s,"+input")}}catch(u){a.e(u)}finally{a.f()}},Vt=function(e,t){var n,r=e.getCursor(),i=e.listSelections(),a=Object(Ae.a)(i);try{for(a.s();!(n=a.n()).done;){var c=n.value,o=c.empty()?{line:r.line,ch:r.ch}:c.from(),s=c.empty()?{line:r.line,ch:r.ch}:c.to();e.replaceRange("".concat(t),o,s,"+input")}}catch(l){a.e(l)}finally{a.f()}},Wt=function(e){return e.setOption("fullScreen",!e.getOption("fullScreen"))},zt=function(e){if(!e.getOption("fullScreen")||"vim"===(null===(t=e.getOption("keyMap"))||void 0===t?void 0:t.substr(0,3)))return Ve.a.Pass;var t;e.setOption("fullScreen",!1)},_t=function(){},Gt=function(e){var t,n,r=Array((null!==(t=e.getOption("indentUnit"))&&void 0!==t?t:0)+1).join(" "),i=e.getCursor(),a=e.getLine(i.line);if(e.getSelection().split("\n").length>1||e.getSelections().length>1)e.execCommand("defaultTab");else if(null!==(n=/^(\s*)(>[> ]*|[*+-]\s|(\d+)([.)]))/.exec(a))){var c=n[1].length,o={line:i.line,ch:c};e.getOption("indentWithTabs")?e.replaceRange("\t",o,o,"+input"):e.replaceRange(r,o,o,"+input")}else e.getOption("indentWithTabs")?e.execCommand("defaultTab"):e.replaceSelection(r)},qt=Nt.a?{F9:_t,F10:Wt,Esc:zt,"Cmd-S":_t,Enter:"newlineAndIndentContinueMarkdownList",Tab:Gt,"Cmd-Left":"goLineLeftSmart","Cmd-Right":"goLineRight",Home:"goLineLeftSmart",End:"goLineRight","Cmd-I":Lt,"Cmd-B":It,"Cmd-U":Dt,"Cmd-D":Rt,"Cmd-M":Bt}:{F9:_t,F10:Wt,Esc:zt,"Ctrl-S":_t,Enter:"newlineAndIndentContinueMarkdownList",Tab:Gt,Home:"goLineLeftSmart",End:"goLineRight","Ctrl-I":Lt,"Ctrl-B":It,"Ctrl-U":Dt,"Ctrl-D":Rt,"Ctrl-M":Bt,"Ctrl-K":Ht},Ut=(n(994),{position:{line:0,ch:0},selectedColumns:0,selectedLines:0,linesInDocument:0,charactersInDocument:0,remainingCharacters:0}),$t=function(e,t){return{position:e.getCursor(),charactersInDocument:e.getValue().length,remainingCharacters:t-e.getValue().length,linesInDocument:e.lineCount(),selectedColumns:e.getSelection().length,selectedLines:e.getSelection().split("\n").length}},Xt=function(e){var t=e.position,n=e.selectedColumns,r=e.selectedLines,a=e.charactersInDocument,s=e.linesInDocument,l=e.remainingCharacters,u=Object(o.a)().t,d=Object(c.useMemo)((function(){return 0===l?u("editor.statusBar.lengthTooltip.maximumReached"):l<0?u("editor.statusBar.lengthTooltip.exceeded",{exceeded:-l}):u("editor.statusBar.lengthTooltip.remaining",{remaining:l})}),[l,u]);return Object(i.jsxs)("div",{className:"d-flex flex-row status-bar px-2",children:[Object(i.jsxs)("div",{children:[Object(i.jsx)("span",{children:u("editor.statusBar.cursor",{line:t.line+1,columns:t.ch+1})}),Object(i.jsxs)(R.a,{condition:0!==n&&0!==r,children:[Object(i.jsx)(R.a,{condition:1===r,children:Object(i.jsxs)("span",{children:["\xa0\u2013\xa0",u("editor.statusBar.selection.column",{count:n})]})}),Object(i.jsx)(R.a,{condition:r>1,children:Object(i.jsxs)("span",{children:["\xa0\u2013\xa0",u("editor.statusBar.selection.line",{count:r})]})})]})]}),Object(i.jsxs)("div",{className:"ml-auto",children:[Object(i.jsx)("span",{children:u("editor.statusBar.lines",{lines:s})}),"\xa0\u2013\xa0",Object(i.jsx)("span",{"data-cy":"remainingCharacters",title:d,className:l<=0?"text-danger":l<=100?"text-warning":"",children:u("editor.statusBar.length",{length:a})})]})]})},Yt=n(1504),Jt=n(237),Qt=n(163),Zt=n(229),en=n(31),tn=["application/pdf","image/apng","image/bmp","image/gif","image/heif","image/heic","image/heif-sequence","image/heic-sequence","image/jpeg","image/png","image/svg+xml","image/tiff","image/webp"],nn=tn.join(", "),rn=function(e,t){if(e){var n=e.type;if(tn.includes(n)){var r=t.getCursor(),i="![".concat(Qt.a.t("editor.upload.uploadFile",{fileName:e.name}),"]()"),a=en.a.getState().documentContent.noteId;t.replaceRange(i,r,r,"+input"),Object(Zt.b)(a,n,e).then((function(e){var a=e.link;t.replaceRange(an(n,a),r,{line:r.line,ch:r.ch+i.length},"+input")})).catch((function(){t.replaceRange("",r,{line:r.line,ch:r.ch+i.length},"+input")}))}}},an=function(e,t){switch(e){case"application/pdf":return"{%pdf ".concat(t," %}");default:return"![](".concat(t,")")}},cn=n(452),on=n(173);!function(e){e[e.SELECT=0]="SELECT",e[e.BOOLEAN=1]="BOOLEAN",e[e.NUMBER=2]="NUMBER"}(pe||(pe={}));var sn,ln=function(e){var t=e.property,n=e.type,r=e.onChange,a=e.value,c=e.children;return Object(o.a)(),Object(i.jsxs)(cn.a.Group,{controlId:"editor-pref-".concat(t),children:[Object(i.jsx)(cn.a.Label,{children:Object(i.jsx)(y.a,{i18nKey:"editor.modal.preferences.".concat(t).concat(n===pe.NUMBER?"":".label")})}),Object(i.jsx)(cn.a.Control,{as:n===pe.NUMBER?"input":"select",size:"sm",value:a,onChange:r,type:n===pe.NUMBER?"number":"",children:c})]})},un=function(e){var t=e.property,n=Object(s.b)((function(e){var n;return(null===(n=e.editorConfig.preferences[t])||void 0===n?void 0:n.toString())||""}),T.a),r=Object(o.a)().t,a=Object(c.useCallback)((function(e){var n="true"===e.target.value;Object(f.b)(Object(on.a)({},t,n))}),[t]),l="editor.modal.preferences.".concat(t);return Object(i.jsxs)(ln,{onChange:a,property:t,type:pe.SELECT,value:n,children:[Object(i.jsx)("option",{value:"true",children:r("".concat(l,".on"))}),Object(i.jsx)("option",{value:"false",children:r("".concat(l,".off"))})]})},dn=function(){var e=Object(s.b)((function(e){return Boolean(e.editorConfig.ligatures).toString()})),t=Object(c.useCallback)((function(e){var t="true"===e.target.value;Object(f.d)(t)}),[]),n=Object(o.a)().t;return Object(i.jsxs)(ln,{onChange:t,value:e,property:"ligatures",type:pe.BOOLEAN,children:[Object(i.jsx)("option",{value:"true",children:n("common.yes")}),Object(i.jsx)("option",{value:"false",children:n("common.no")})]})},jn=function(e){var t=e.property,n=Object(s.b)((function(e){var n;return(null===(n=e.editorConfig.preferences[t])||void 0===n?void 0:n.toString())||""}),T.a),r=Object(c.useCallback)((function(e){var n=Number.parseInt(e.target.value);Object(f.b)(Object(on.a)({},t,n))}),[t]);return Object(i.jsx)(ln,{onChange:r,property:t,type:pe.NUMBER,value:n})};!function(e){e.KEYMAP="keyMap",e.THEME="theme",e.INDENT_WITH_TABS="indentWithTabs",e.INDENT_UNIT="indentUnit",e.SPELL_CHECK="spellcheck"}(sn||(sn={}));var mn,bn=function(e){var t=e.property,n=e.selections,r=Object(s.b)((function(e){var n;return(null===(n=e.editorConfig.preferences[t])||void 0===n?void 0:n.toString())||""}),T.a),a=Object(o.a)().t,l=Object(c.useCallback)((function(e){var n=e.target.value;Object(f.b)(Object(on.a)({},t,n))}),[t]),u="editor.modal.preferences.".concat(t);return Object(i.jsx)(ln,{onChange:l,property:t,type:pe.SELECT,value:r,children:n.map((function(e){return Object(i.jsx)("option",{value:e,children:a("".concat(u,".").concat(e))},e)}))})},fn=function(){var e=Object(o.a)().t,t=Object(c.useState)(!1),n=Object(a.a)(t,2),r=n[0],l=n[1],u=Object(s.b)((function(e){var t;return null!==(t=e.editorConfig.preferences.indentWithTabs)&&void 0!==t&&t}),T.a);return Object(i.jsxs)(c.Fragment,{children:[Object(i.jsx)(Z.a,{variant:"light",onClick:function(){return l(!0)},title:e("editor.editorToolbar.preferences"),children:Object(i.jsx)(M.a,{icon:"wrench"})}),Object(i.jsx)(L.a,{show:r,onHide:function(){return l(!1)},titleI18nKey:"editor.modal.preferences.title",closeButton:!0,icon:"wrench",children:Object(i.jsx)(cn.a,{children:Object(i.jsxs)(W.a,{children:[Object(i.jsx)(W.a.Item,{children:Object(i.jsx)(bn,{property:sn.THEME,selections:["one-dark","neat"]})}),Object(i.jsx)(W.a.Item,{children:Object(i.jsx)(bn,{property:sn.KEYMAP,selections:["sublime","emacs","vim"]})}),Object(i.jsx)(W.a.Item,{children:Object(i.jsx)(un,{property:sn.INDENT_WITH_TABS})}),Object(i.jsx)(R.a,{condition:!u,children:Object(i.jsx)(W.a.Item,{children:Object(i.jsx)(jn,{property:sn.INDENT_UNIT})})}),Object(i.jsx)(W.a.Item,{children:Object(i.jsx)(dn,{})}),Object(i.jsx)(W.a.Item,{children:Object(i.jsxs)(ln,{onChange:function(){return alert("This feature is not yet implemented.")},property:sn.SPELL_CHECK,type:pe.SELECT,children:[Object(i.jsx)("option",{value:"off",children:"Off"}),Object(i.jsx)("option",{value:"en",children:"English"})]})})]})})})]})},hn=function(e){var t=e.editor,n=Object(o.a)().t,r=Object(c.useState)(!1),s=Object(a.a)(r,2),l=s[0],u=s[1];return Object(i.jsxs)(c.Fragment,{children:[Object(i.jsx)(rt,{show:l,onEmojiSelected:function(e){u(!1),function(e,t){var n=it(e);n&&Vt(t,n)}(e,t)},onDismiss:function(){return u(!1)}}),Object(i.jsx)(Z.a,{"data-cy":"show-emoji-picker",variant:"light",onClick:function(){return u((function(e){return!e}))},title:n("editor.editorToolbar.emoji"),children:Object(i.jsx)(M.a,{icon:"smile-o"})})]})},On=n(243),pn=function(e){var t=e.showModal,n=e.onDismiss,r=e.onTablePicked,s=Object(o.a)().t,l=Object(c.useState)({rows:0,columns:0}),u=Object(a.a)(l,2),d=u[0],j=u[1];Object(c.useEffect)((function(){j({rows:0,columns:0})}),[t]);var m=Object(c.useCallback)((function(){r(d.rows,d.columns),n()}),[n,d,r]);return Object(i.jsxs)(L.a,{show:t,onHide:function(){return n()},titleI18nKey:"editor.editorToolbar.table.customSize",closeButton:!0,icon:"table",children:[Object(i.jsxs)("div",{className:"col-lg-10 d-flex flex-row p-3 align-items-center",children:[Object(i.jsx)(cn.a.Control,{type:"number",min:1,placeholder:s("editor.editorToolbar.table.cols"),isInvalid:d.columns<=0,onChange:function(e){var t=Number.parseInt(e.currentTarget.value);j((function(e){return{rows:e.rows,columns:isNaN(t)?0:t}}))}}),Object(i.jsx)(M.a,{icon:"times",className:"mx-2",fixedWidth:!0}),Object(i.jsx)(cn.a.Control,{type:"number",min:1,placeholder:s("editor.editorToolbar.table.rows"),isInvalid:d.rows<=0,onChange:function(e){var t=Number.parseInt(e.currentTarget.value);j((function(e){return{rows:isNaN(t)?0:t,columns:e.columns}}))}})]}),Object(i.jsx)(On.a,{children:Object(i.jsx)(Z.a,{onClick:m,disabled:d.rows<=0||d.columns<=0,children:s("editor.editorToolbar.table.create")})})]})},xn=(n(995),function(e){var t=e.show,n=e.onDismiss,r=e.onTablePicked,s=Object(o.a)().t,l=Object(c.useRef)(null),u=Object(c.useState)(),d=Object(a.a)(u,2),j=d[0],m=d[1],b=Object(c.useState)(!1),f=Object(a.a)(b,2),h=f[0],O=f[1];Object(Ze.a)(l,(function(){n()})),Object(c.useEffect)((function(){m(void 0)}),[t]);var p=Object(c.useCallback)((function(){j&&r(j.rows,j.columns)}),[r,j]);return Object(i.jsxs)("div",{className:"position-absolute table-picker-container p-2 ".concat(!t||h?"d-none":""," bg-light"),ref:l,role:"grid",children:[Object(i.jsx)("p",{className:"lead",children:j?s("editor.editorToolbar.table.size",{cols:null===j||void 0===j?void 0:j.columns,rows:j.rows}):s("editor.editorToolbar.table.title")}),Object(i.jsx)("div",{className:"table-container",children:St(8).map((function(e){return St(10).map((function(t){return Object(i.jsx)("div",{className:"table-cell ".concat(j&&e<j.rows&&t<j.columns?"bg-primary":""),onMouseEnter:function(){m({rows:e+1,columns:t+1})},title:s("editor.editorToolbar.table.size",{cols:t+1,rows:e+1}),onClick:p},"".concat(e,"_").concat(t))}))}))}),Object(i.jsxs)("div",{className:"d-flex justify-content-center mt-2",children:[Object(i.jsxs)(Z.a,{"data-cy":"show-custom-table-modal",className:"text-center",onClick:function(){return O(!0)},children:[Object(i.jsx)(M.a,{icon:"table"}),"\xa0",s("editor.editorToolbar.table.customSize")]}),Object(i.jsx)(pn,{showModal:h,onDismiss:function(){return O(!1)},onTablePicked:r})]})]})}),gn=function(e){var t=e.editor,n=Object(o.a)().t,r=Object(c.useState)(!1),s=Object(a.a)(r,2),l=s[0],u=s[1];return Object(i.jsxs)(c.Fragment,{children:[Object(i.jsx)(xn,{show:l,onDismiss:function(){return u(!1)},onTablePicked:function(e,n){u(!1),function(e,t,n){var r=St(t),i=St(n).map((function(e){return e+1})),a="|  # "+i.join(" |  # ")+" |",c="| "+i.map((function(){return"----"})).join(" | ")+" |",o=r.map((function(){return"| "+i.map((function(){return"Text"})).join(" | ")+" |"})).join("\n"),s="".concat(a,"\n").concat(c,"\n").concat(o);Pt(e,(function(e){return"".concat(e,"\n").concat(s)}))}(t,e,n)}}),Object(i.jsx)(Z.a,{"data-cy":"show-table-overlay",variant:"light",onClick:function(){return u((function(e){return!e}))},title:n("editor.editorToolbar.table.title"),children:Object(i.jsx)(M.a,{icon:"table"})})]})},vn=(n(996),function(e){var t=e.editor,n=Object(o.a)().t,r=Object(c.useCallback)((function(e){return t&&rn(e,t),Promise.resolve()}),[t]);return t?Object(i.jsxs)(Yt.a,{className:"bg-light",children:[Object(i.jsxs)(Jt.a,{className:"mx-1 flex-wrap",children:[Object(i.jsx)(Z.a,{"data-cy":"format-bold",variant:"light",onClick:function(){return It(t)},title:n("editor.editorToolbar.bold"),children:Object(i.jsx)(M.a,{icon:"bold"})}),Object(i.jsx)(Z.a,{"data-cy":"format-italic",variant:"light",onClick:function(){return Lt(t)},title:n("editor.editorToolbar.italic"),children:Object(i.jsx)(M.a,{icon:"italic"})}),Object(i.jsx)(Z.a,{"data-cy":"format-underline",variant:"light",onClick:function(){return Dt(t)},title:n("editor.editorToolbar.underline"),children:Object(i.jsx)(M.a,{icon:"underline"})}),Object(i.jsx)(Z.a,{"data-cy":"format-strikethrough",variant:"light",onClick:function(){return Rt(t)},title:n("editor.editorToolbar.strikethrough"),children:Object(i.jsx)(M.a,{icon:"strikethrough"})}),Object(i.jsx)(Z.a,{"data-cy":"format-subscript",variant:"light",onClick:function(){return function(e){return Mt(e,"~")}(t)},title:n("editor.editorToolbar.subscript"),children:Object(i.jsx)(M.a,{icon:"subscript"})}),Object(i.jsx)(Z.a,{"data-cy":"format-superscript",variant:"light",onClick:function(){return function(e){return Mt(e,"^")}(t)},title:n("editor.editorToolbar.superscript"),children:Object(i.jsx)(M.a,{icon:"superscript"})})]}),Object(i.jsxs)(Jt.a,{className:"mx-1 flex-wrap",children:[Object(i.jsx)(Z.a,{"data-cy":"format-heading",variant:"light",onClick:function(){return function(e){return Pt(e,(function(e){return e.startsWith("#")?"#".concat(e):"# ".concat(e)}))}(t)},title:n("editor.editorToolbar.header"),children:Object(i.jsx)(M.a,{icon:"header"})}),Object(i.jsx)(Z.a,{"data-cy":"format-code-block",variant:"light",onClick:function(){return function(e){return Kt(e,"```\n","\n```")}(t)},title:n("editor.editorToolbar.code"),children:Object(i.jsx)(M.a,{icon:"code"})}),Object(i.jsx)(Z.a,{"data-cy":"format-block-quote",variant:"light",onClick:function(){return function(e){return At(e,"> ")}(t)},title:n("editor.editorToolbar.blockquote"),children:Object(i.jsx)(M.a,{icon:"quote-right"})}),Object(i.jsx)(Z.a,{"data-cy":"format-unordered-list",variant:"light",onClick:function(){return function(e){return Ft(e,(function(){return"- "}))}(t)},title:n("editor.editorToolbar.unorderedList"),children:Object(i.jsx)(M.a,{icon:"list"})}),Object(i.jsx)(Z.a,{"data-cy":"format-ordered-list",variant:"light",onClick:function(){return function(e){return Ft(e,(function(e){return"".concat(e,". ")}))}(t)},title:n("editor.editorToolbar.orderedList"),children:Object(i.jsx)(M.a,{icon:"list-ol"})}),Object(i.jsx)(Z.a,{"data-cy":"format-check-list",variant:"light",onClick:function(){return function(e){return Ft(e,(function(){return"- [ ] "}))}(t)},title:n("editor.editorToolbar.checkList"),children:Object(i.jsx)(M.a,{icon:"check-square"})})]}),Object(i.jsxs)(Jt.a,{className:"mx-1 flex-wrap",children:[Object(i.jsx)(Z.a,{"data-cy":"format-link",variant:"light",onClick:function(){return Ht(t)},title:n("editor.editorToolbar.link"),children:Object(i.jsx)(M.a,{icon:"link"})}),Object(i.jsx)(Z.a,{"data-cy":"format-image",variant:"light",onClick:function(){return function(e){return Ht(e,"!")}(t)},title:n("editor.editorToolbar.image"),children:Object(i.jsx)(M.a,{icon:"picture-o"})}),Object(i.jsx)(ee,{type:"button",acceptedFiles:nn,i18nKey:"editor.editorToolbar.uploadImage",icon:"upload",onLoad:r})]}),Object(i.jsxs)(Jt.a,{className:"mx-1 flex-wrap",children:[Object(i.jsx)(gn,{editor:t}),Object(i.jsx)(Z.a,{"data-cy":"format-add-line",variant:"light",onClick:function(){return function(e){return Pt(e,(function(e){return"".concat(e,"\n----")}))}(t)},title:n("editor.editorToolbar.line"),children:Object(i.jsx)(M.a,{icon:"minus"})}),Object(i.jsx)(Z.a,{"data-cy":"format-collapsable-block",variant:"light",onClick:function(){return function(e){return Pt(e,(function(e){return"".concat(e,"\n:::spoiler Toggle label\n  Toggled content\n:::")}))}(t)},title:n("editor.editorToolbar.collapsableBlock"),children:Object(i.jsx)(M.a,{icon:"caret-square-o-down"})}),Object(i.jsx)(Z.a,{"data-cy":"format-add-comment",variant:"light",onClick:function(){return function(e){return Pt(e,(function(e){return"".concat(e,"\n> []")}))}(t)},title:n("editor.editorToolbar.comment"),children:Object(i.jsx)(M.a,{icon:"comment"})}),Object(i.jsx)(hn,{editor:t})]}),Object(i.jsx)(Jt.a,{className:"mx-1 flex-wrap",children:Object(i.jsx)(fn,{})})]}):null}),yn=function(e){var t,n=Object(Ae.a)(Tt);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=wt(e);if(r.wordRegExp.test(i.text))return void e.showHint({hint:r.hint,completeSingle:!1,completeOnSingleClick:!1,alignWithWord:!0})}}catch(a){n.e(a)}finally{n.f()}},Cn=function(e,t){if(t&&t.clipboardData&&t.clipboardData.files&&t.clipboardData.files.length>0){t.preventDefault();var n=t.clipboardData.files;n&&n.length>=1&&rn(n[0],e)}},kn=function(e){var t=e.onContentChange,n=e.content,r=e.scrollState,l=e.onScroll,u=e.onMakeScrollSource,d=Object(o.a)().t,j=Object(s.b)((function(e){return e.config.maxDocumentLength})),m=Object(c.useState)(!1),b=Object(a.a)(m,2),f=b[0],h=b[1],O=Object(c.useRef)(!1),p=Object(c.useState)(),x=Object(a.a)(p,2),v=x[0],y=x[1],C=Object(c.useState)(Ut),k=Object(a.a)(C,2),w=k[0],E=k[1],N=Object(s.b)((function(e){return e.editorConfig.preferences}),T.a),S=Object(s.b)((function(e){return e.editorConfig.ligatures}),T.a),I=Object(c.useRef)(),L=Object(c.useState)(),R=Object(a.a)(L,2),D=R[0],B=R[1],M=Object(c.useCallback)((function(e,t){return B(t)}),[]);Object(c.useEffect)((function(){if(v&&l&&D){var e=D.top,t=v.lineAtHeight(e,"local"),n=v.heightAtLine(t,"local"),r=v.lineInfo(t);if(null!==r){var i=r.handle.height,a=Math.max(e-n,0)/i,c=Math.floor(100*a);l({firstLineInView:t+1,scrolledPercentage:c})}}}),[v,D,l]),Object(c.useEffect)((function(){if(v&&r){var e=v.heightAtLine(r.firstLineInView-1,"local")+v.lineInfo(r.firstLineInView-1).handle.height*r.scrolledPercentage/100,t=Math.floor(e);t!==I.current&&(I.current=t,v.scrollTo(0,t))}}),[v,r]);var K=Object(c.useCallback)((function(e,n,r){r.length>j&&!O.current&&(h(!0),O.current=!0),r.length<=j&&(O.current=!1),t(r)}),[t,j,O]),A=Object(c.useCallback)((function(e){E($t(e,j)),y(e)}),[j]),P=Object(c.useCallback)((function(e){E($t(e,j))}),[j]),F=Object(c.useCallback)((function(e,t){if(t&&e&&t.pageX&&t.pageY&&t.dataTransfer&&t.dataTransfer.files&&t.dataTransfer.files.length>=1){t.preventDefault();var n=t.pageY,r=t.pageX,i=e.coordsChar({top:n,left:r},"page");e.setCursor(i);var a=t.dataTransfer.files;rn(a[0],e)}}),[]),H=Object(c.useCallback)((function(){return h(!1)}),[]),V=Object(c.useMemo)((function(){return Object(g.a)(Object(g.a)({},N),{},{mode:"gfm",viewportMargin:20,styleActiveLine:!0,lineNumbers:!0,lineWrapping:!0,showCursorWhenSelecting:!0,highlightSelectionMatches:!0,inputStyle:"textarea",matchBrackets:!0,autoCloseBrackets:!0,matchTags:{bothTags:!0},autoCloseTags:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","authorship-gutters","CodeMirror-foldgutter"],extraKeys:qt,flattenSpans:!0,addModeClass:!0,autoRefresh:!0,placeholder:d("editor.placeholder")})}),[d,N]);return Object(i.jsxs)("div",{className:"d-flex flex-column h-100 position-relative",onMouseEnter:u,children:[Object(i.jsx)(Fe,{show:f,onHide:H,maxLength:j}),Object(i.jsx)(vn,{editor:v}),Object(i.jsx)(Pe.Controlled,{className:"overflow-hidden w-100 flex-fill ".concat(S?"":"no-ligatures"),value:n,options:V,onChange:yn,onPaste:Cn,onDrop:F,onCursorActivity:P,editorDidMount:A,onBeforeChange:K,onScroll:M}),Object(i.jsx)(Xt,Object(g.a)({},w))]})},wn=n(231),En=Object(wn.a)()?"":'---\ntitle: Features\ndescription: Many features, such wow!\nrobots: noindex\ntags:\n  - hedgedoc\n  - demo\n  - react\nopengraph:\n  title: Features\n---\n# Embedding demo\n[TOC]\n\n## markmap\n\n\n```markmap\n# MarkMap\n\n## Pro\n\n### written in typescript\n\n## Cons\n\n### must redeclare types\n```\n\n## Vega-Lite\n\n```vega-lite\n\n\n{\n  "$schema": "https://vega.github.io/schema/vega-lite/v4.json",\n  "description": "Reproducing http://robslink.com/SAS/democd91/pyramid_pie.htm",\n  "data": {\n    "values": [\n      {"category": "Sky", "value": 75, "order": 3},\n      {"category": "Shady side of a pyramid", "value": 10, "order": 1},\n      {"category": "Sunny side of a pyramid", "value": 15, "order": 2}\n    ]\n  },\n  "mark": {"type": "arc", "outerRadius": 80},\n  "encoding": {\n    "theta": {\n      "field": "value", "type": "quantitative",\n      "scale": {"range": [2.35619449, 8.639379797]},\n      "stack": true\n    },\n    "color": {\n      "field": "category", "type": "nominal",\n      "scale": {\n        "domain": ["Sky", "Shady side of a pyramid", "Sunny side of a pyramid"],\n        "range": ["#416D9D", "#674028", "#DEAC58"]\n      },\n      "legend": {\n        "orient": "none",\n        "title": null,\n        "columns": 1,\n        "legendX": 200,\n        "legendY": 80\n      }\n    },\n    "order": {\n      "field": "order"\n    }\n  },\n  "view": {"stroke": null}\n}\n\n```\n\n## GraphViz\n\n```graphviz\ngraph {\n  a -- b\n  a -- b\n  b -- a [color=blue]\n}\n```\n\n```graphviz\ndigraph structs {\n  node [shape=record];\n  struct1 [label="<f0> left|<f1> mid&#92; dle|<f2> right"];\n  struct2 [label="<f0> one|<f1> two"];\n  struct3 [label="hello&#92;nworld |{ b |{c|<here> d|e}| f}| g | h"];\n  struct1:f1 -> struct2:f0;\n  struct1:f2 -> struct3:here;\n}\n```\n\n```graphviz\ndigraph G {\n  main -> parse -> execute;\n  main -> init;\n  main -> cleanup;\n  execute -> make_string;\n  execute -> printf\n  init -> make_string;\n  main -> printf;\n  execute -> compare;\n}\n```\n\n```graphviz\ndigraph D {\n    node [fontname="Arial"];\n    node_A [shape=record    label="shape=record|{above|middle|below}|right"];\n    node_B [shape=plaintext label="shape=plaintext|{curly|braces and|bars without}|effect"];\n}\n```\n\n```graphviz\ndigraph D {\n  A -> {B, C, D} -> {F}\n}\n```\n\n## High Res Image\n\n![Wheat Field with Cypresses](/img/highres.jpg)\n\n## Sequence Diagram (deprecated)\n\n```sequence\nTitle: Here is a title\nnote over A: asdd\nA->B: Normal line\nB--\x3eC: Dashed line\nC->>D: Open arrow\nD--\x3e>A: Dashed open arrow\nparticipant IOOO\n```\n\n## Mermaid\n\n```mermaid\ngantt\n  title A Gantt Diagram\n\n  section Section\n  A task: a1, 2014-01-01, 30d\n  Another task: after a1, 20d\n\n  section Another\n  Task in sec: 2014-01-12, 12d\n  Another task: 24d\n```\n\n## Flowchart\n\n```flow\nst=>start: Start\ne=>end: End\nop=>operation: My Operation\nop2=>operation: lalala\ncond=>condition: Yes or No?\n\nst->op->op2->cond\ncond(yes)->e\ncond(no)->op2\n```\n\n## ABC\n\n```abc\nX:1\nT:Speed the Plough\nM:4/4\nC:Trad.\nK:G\n|:GABc dedB|dedB dedB|c2ec B2dB|c2A2 A2BA|\nGABc dedB|dedB dedB|c2ec B2dB|A2F2 G4:|\n|:g2gf gdBd|g2f2 e2d2|c2ec B2dB|c2A2 A2df|\ng2gf g2Bd|g2f2 e2d2|c2ec B2dB|A2F2 G4:|\n```\n\n## CSV\n\n```csv delimiter=; header\nUsername; Identifier;First name;Last name\n"booker12; rbooker";9012;Rachel;Booker\ngrey07;2070;Laura;Grey\njohnson81;4081;Craig;Johnson\njenkins46;9346;Mary;Jenkins\nsmith79;5079;Jamie;Smith\n```\n\n## some plain text\n\nLorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.\n\n## KaTeX\nYou can render *LaTeX* mathematical expressions using **KaTeX**, as on [math.stackexchange.com](https://math.stackexchange.com/):\n\nThe *Gamma function* satisfying $\\Gamma(n) = (n-1)!\\quad\\forall n\\in\\mathbb N$ is via the Euler integral\n\n$$\nx = {-b \\pm \\sqrt{b^2-4ac} \\over 2a}.\n$$\n\n$$\n\\Gamma(z) = \\int_0^\\infty t^{z-1}e^{-t}dt\\,.\n$$\n\n> More information about **LaTeX** mathematical expressions [here](https://meta.math.stackexchange.com/questions/5020/mathjax-basic-tutorial-and-quick-reference).\n\n## Blockquote\n> Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua.\n> Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua.\n> [color=red] [name=John Doe] [time=2020-06-21 22:50]\n\n## Slideshare\n{%slideshare mazlan1/internet-of-things-the-tip-of-an-iceberg %}\n\n## Gist\nhttps://gist.github.com/schacon/1\n\n## YouTube\nhttps://www.youtube.com/watch?v=YE7VzlLtp-4\n\n## Vimeo\nhttps://vimeo.com/23237102\n\n## Asciinema\nhttps://asciinema.org/a/117928\n\n## PDF\n{%pdf https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf %}\n\n## Code highlighting\n```js=\nvar s = "JavaScript syntax highlighting";\nalert(s);\nfunction $initHighlight(block, cls) {\n  try {\n    if (cls.search(/\\bno\\-highlight\\b/) != -1)\n      return process(block, true, 0x0F) +\n             \' class=""\';\n  } catch (e) {\n    /* handle exception */\n  }\n  for (var i = 0 / 2; i < classes.length; i++) {\n    if (checkCondition(classes[i]) === undefined)\n      return /\\d+[\\s/]/g;\n  }\n}\n```\n\n## PlantUML\n```plantuml\n@startuml\nparticipant Alice\nparticipant "The **Famous** Bob" as Bob\n\nAlice -> Bob : hello --there--\n... Some ~~long delay~~ ...\nBob -> Alice : ok\nnote left\n  This is **bold**\n  This is //italics//\n  This is ""monospaced""\n  This is --stroked--\n  This is __underlined__\n  This is ~~waved~~\nend note\n\nAlice -> Bob : A //well formatted// message\nnote right of Alice\n This is <back:cadetblue><size:18>displayed</size></back>\n __left of__ Alice.\nend note\nnote left of Bob\n <u:red>This</u> is <color #118888>displayed</color>\n **<color purple>left of</color> <s:red>Alice</strike> Bob**.\nend note\nnote over Alice, Bob\n <w:#FF33FF>This is hosted</w> by <img sourceforge.jpg>\nend note\n@enduml\n```\n\n## ToDo List\n\n- [ ] ToDos\n  - [X] Buy some salad\n  - [ ] Brush teeth\n  - [x] Drink some water\n  - [ ] **Click my box** and see the source code, if you\'re allowed to edit!\n\n',Tn=function(e){e.ctrlKey&&e.altKey&&"b"===e.key&&(Object(f.e)(x.a.BOTH),e.preventDefault()),e.ctrlKey&&e.altKey&&"v"===e.key&&(Object(f.e)(x.a.PREVIEW),e.preventDefault()),e.ctrlKey&&e.altKey&&("e"===e.key||"\u20ac"===e.key)&&(Object(f.e)(x.a.EDITOR),e.preventDefault())},Nn=(n(997),function(e){var t=e.onGrab;return Object(i.jsx)("div",{onMouseDown:function(){return t()},onTouchStart:function(){return t()},className:"split-divider"})}),Sn=(n(998),function(e){var t=e.containerClassName,n=e.left,r=e.right,o=e.showLeft,s=e.showRight,l=Object(c.useState)(50),u=Object(a.a)(l,2),d=u[0],j=u[1],m=Math.max(0,Math.min(100,s?d:100)),b=Object(c.useState)(!1),f=Object(a.a)(b,2),h=f[0],O=f[1],p=Object(c.useRef)(null),x=function(e){if(p.current){var t=(e-p.current.offsetLeft)/p.current.clientWidth;j(100*t)}};return Object(i.jsxs)("div",{ref:p,className:"flex-fill flex-row d-flex ".concat(t||""),onMouseUp:function(){return O(!1)},onTouchEnd:function(){return O(!1)},onMouseMove:function(e){h&&(x(e.pageX),e.preventDefault())},onTouchMove:function(e){h&&x(e.touches[0].pageX)},children:[Object(i.jsx)("div",{className:"splitter left ".concat(o?"":"d-none"),style:{flexBasis:"calc(".concat(m,"% - 5px)")},children:n}),Object(i.jsx)(R.a,{condition:o&&s,children:Object(i.jsx)("div",{className:"splitter separator",children:Object(i.jsx)(Nn,{onGrab:function(){return O(!0)}})})}),Object(i.jsx)("div",{className:"splitter right ".concat(s?"":"d-none"),children:r})]})});!function(e){e[e.EDITOR=0]="EDITOR",e[e.RENDERER=1]="RENDERER"}(mn||(mn={}));var In=/(\s*[-*] )(\[[ xX]])( .*)/,Ln=function(){var e=Object(o.a)().t,t=Object(l.m)().id,n=Object(l.l)().search,r=e("editor.untitledNote"),u=Object(s.b)((function(e){return e.documentContent.content})),g=d()({minWidth:576},!0),v=Object(c.useState)(r),y=Object(a.a)(v,2),C=y[0],k=y[1],w=Object(c.useRef)(),E=Object(c.useRef)(),T=Object(c.useRef)(mn.EDITOR),N=Object(s.b)((function(e){return e.editorConfig.editorMode})),S=Object(s.b)((function(e){return e.editorConfig.syncScroll})),I=Object(c.useState)((function(){return{editorScrollState:{firstLineInView:1,scrolledPercentage:0},rendererScrollState:{firstLineInView:1,scrolledPercentage:0}}})),L=Object(a.a)(I,2),R=L[0],D=L[1];Object(c.useEffect)((function(){Object(b.a)(En);var e=n.substr(1),t=Object.values(x.a).find((function(t){return t===e}));t&&Object(f.e)(t)}),[n]);var B=Object(c.useCallback)((function(){var e=Object(h.a)(r,w.current,E.current);k(e)}),[w,E,r]),M=Object(c.useCallback)((function(e){E.current=e,B()}),[B]),K=Object(c.useCallback)((function(e){w.current=e,Object(b.b)(e),B()}),[B]),A=Object(c.useCallback)((function(e,t){var n=u.split("\n"),r=In.exec(n[e]);if(r){var i=r[1],a=r[3];n[e]="".concat(i,"[").concat(t?"x":" ","]").concat(a),Object(b.a)(n.join("\n"))}}),[u]);Object(c.useEffect)((function(){return document.addEventListener("keydown",Tn,!1),function(){document.removeEventListener("keydown",Tn,!1)}}),[]),Object(c.useEffect)((function(){Object(b.c)(t)}),[t]),Object(c.useEffect)((function(){g||N!==x.a.BOTH||Object(f.e)(x.a.PREVIEW)}),[N,g]);var P=Object(c.useCallback)((function(e){T.current===mn.RENDERER&&S&&D((function(t){return{editorScrollState:e,rendererScrollState:t.rendererScrollState}}))}),[S]),F=Object(c.useCallback)((function(e){T.current===mn.EDITOR&&S&&D((function(t){return{rendererScrollState:e,editorScrollState:t.editorScrollState}}))}),[S]);return Object(j.a)(),Object(m.a)(C),Object(i.jsxs)(c.Fragment,{children:[Object(i.jsx)(O.a,{}),Object(i.jsxs)("div",{className:"d-flex flex-column vh-100",children:[Object(i.jsx)(p.a,{mode:p.b.EDITOR}),Object(i.jsx)(Be,{title:C}),Object(i.jsx)(Sn,{showLeft:N===x.a.EDITOR||N===x.a.BOTH,left:Object(i.jsx)(kn,{onContentChange:b.a,content:u,scrollState:R.editorScrollState,onScroll:F,onMakeScrollSource:function(){return T.current=mn.EDITOR}}),showRight:N===x.a.PREVIEW||N===x.a.BOTH,right:Object(i.jsx)(Ke,{onFirstHeadingChange:M,onMakeScrollSource:function(){T.current=mn.RENDERER},onMetadataChange:K,onScroll:P,onTaskCheckedChange:A,scrollState:R.rendererScrollState,wide:N===x.a.PREVIEW}),containerClassName:"overflow-hidden"})]})]})};t.default=Ln},956:function(e,t,n){},957:function(e,t,n){},963:function(e,t,n){},991:function(e,t,n){},993:function(e,t,n){},994:function(e,t,n){},995:function(e,t,n){},996:function(e,t,n){},997:function(e,t,n){},998:function(e,t,n){}}]);
//# sourceMappingURL=15.b38cf353.chunk.js.map