(this.webpackJsonpreact_client=this.webpackJsonpreact_client||[]).push([[15],{1035:function(e,t,n){},1036:function(e,t,n){},1037:function(e,t,n){},1630:function(e,t,n){"use strict";n.r(t),n.d(t,"RenderPage",(function(){return D}));var r=n(9),a=n(0),c=n(16),o=n(388),i=n(101),s=n(332),l=n(69),u=n(82),d=n(112),f=n(113),b=n(192),h=n(40),O=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).onSetMarkdownContentHandler=void 0,e.onSetDarkModeHandler=void 0,e.onSetScrollStateHandler=void 0,e.onSetBaseConfigurationHandler=void 0,e}return Object(u.a)(n,[{key:"onSetBaseConfiguration",value:function(e){this.onSetBaseConfigurationHandler=e}},{key:"onSetMarkdownContent",value:function(e){this.onSetMarkdownContentHandler=e}},{key:"onSetDarkMode",value:function(e){this.onSetDarkModeHandler=e}},{key:"onSetScrollState",value:function(e){this.onSetScrollStateHandler=e}},{key:"sendRendererReady",value:function(){this.sendMessageToOtherSide({type:h.a.RENDERER_READY})}},{key:"sendTaskCheckBoxChange",value:function(e,t){this.sendMessageToOtherSide({type:h.a.ON_TASK_CHECKBOX_CHANGE,checked:t,lineInMarkdown:e})}},{key:"sendFirstHeadingChanged",value:function(e){this.sendMessageToOtherSide({type:h.a.ON_FIRST_HEADING_CHANGE,firstHeading:e})}},{key:"sendSetScrollSourceToRenderer",value:function(){this.sendMessageToOtherSide({type:h.a.SET_SCROLL_SOURCE_TO_RENDERER})}},{key:"sendSetFrontmatter",value:function(e){this.sendMessageToOtherSide({type:h.a.ON_SET_FRONTMATTER,frontmatter:e})}},{key:"sendSetScrollState",value:function(e){this.sendMessageToOtherSide({type:h.a.SET_SCROLL_STATE,scrollState:e})}},{key:"sendClickedImageUrl",value:function(e){this.sendMessageToOtherSide({type:h.a.IMAGE_CLICKED,details:e})}},{key:"sendHeightChange",value:function(e){this.sendMessageToOtherSide({type:h.a.ON_HEIGHT_CHANGE,height:e})}},{key:"handleEvent",value:function(e){var t,n,r,a,c=e.data;switch(c.type){case h.a.SET_MARKDOWN_CONTENT:return null===(t=this.onSetMarkdownContentHandler)||void 0===t||t.call(this,c.content),!1;case h.a.SET_DARKMODE:return null===(n=this.onSetDarkModeHandler)||void 0===n||n.call(this,c.activated),!1;case h.a.SET_SCROLL_STATE:return null===(r=this.onSetScrollStateHandler)||void 0===r||r.call(this,c.scrollState),!1;case h.a.SET_BASE_CONFIGURATION:return null===(a=this.onSetBaseConfigurationHandler)||void 0===a||a.call(this,c.baseConfiguration),!1}}}]),n}(b.a),j=n(614),S=n(209),g=n(60),C=n(34),v=n(44),k=n(71),T=n(17),m=n(1),p=function(){Object(g.a)();var e=Object(c.b)((function(e){return e.noteDetails.frontmatter.deprecatedTagsSyntax}));return Object(m.jsx)(T.a,{condition:e,children:Object(m.jsxs)(S.a,{"data-cy":"yamlArrayDeprecationAlert",className:"text-wrap",variant:"warning",dir:"auto",children:[Object(m.jsx)("span",{className:"text-wrap",children:Object(m.jsx)("span",{className:"text-wrap",children:Object(m.jsx)(C.a,{i18nKey:"editor.deprecatedTags"})})}),Object(m.jsx)("br",{}),Object(m.jsx)(k.a,{i18nKey:"common.readForMoreInfo",href:v.faq,className:"text-primary"})]})})},E=function(e,t,n,c,o){var i=Object(a.useState)(),s=Object(r.a)(i,2),l=s[0],u=s[1],d=Object(a.useCallback)((function(n){var r,a;if(e.current&&t.current){var c=null!==(r=e.current.offsetTop)&&void 0!==r?r:0,o=(null!==(a=t.current.offsetTop)&&void 0!==a?a:0)-c,i=n.map((function(e){return{line:e.line,position:e.position+o}}));u(i)}}),[e,t]),f=function(e,t,n){return Object(a.useCallback)((function(){if(t.current&&e&&0!==e.length&&n){var r=t.current.scrollTop,a=e.filter((function(e){return e.position<=r}));if(0!==a.length){var c=e.filter((function(e){return e.position>r}));if(0!==c.length){var o=a.reduce((function(e,t){return e.line>=t.line?e:t})),i=c.reduce((function(e,t){return e.line<t.line?e:t})),s=i.position-o.position,l=r-o.position,u=l/s,d=i.line-o.line,f=Math.floor(d*u+o.line),b=s/d,h=Math.floor(l%b/b*100);n({firstLineInView:f,scrolledPercentage:h})}}}}),[e,n,t])}(l,e,o);return function(e,t,n,r){var c=Object(a.useRef)(),o=Object(a.useCallback)((function(e){r.current&&e!==c.current&&(c.current=e,r.current.scrollTo({top:e}))}),[r]);Object(a.useEffect)((function(){if(r.current&&t&&0!==t.length&&e)if(e.firstLineInView<t[0].line)o(0);else if(e.firstLineInView>t[t.length-1].line)o(r.current.offsetHeight);else{var a=function(e,t){for(var n,r,a=0;a<e.length;a++){var c=e[a];if(c&&(c.line<=t&&(n=c),c.line>t&&(r=c),r&&n))break}return{lastMarkBefore:n,firstMarkAfter:r}}(t,e.firstLineInView),c=a.lastMarkBefore,i=a.firstMarkAfter,s=c?c.position:t[0].position,l=i?i.position:r.current.offsetHeight,u=c?c.line:1,d=(l-s)/((i?i.line:n)-u),f=s+(e.firstLineInView-u)*d+e.scrolledPercentage/100*d,b=Math.floor(f);o(b)}}),[n,t,r,e,o])}(c,l,n,e),[d,f]},w=n(1601),y=(n(1035),n(613)),M=n(636),N=function e(t,n,r,c,o){var i;if(n<0)return null;var s=t.n.trim(),l=(null!==(i=r.get(s))&&void 0!==i?i:-1)+1,u="#".concat(Object(M.a)(s)).concat(l>0?"-".concat(l):""),d=new URL(u,o).toString();r.set(s,l);var f=Object(m.jsxs)(a.Fragment,{children:[Object(m.jsx)(T.a,{condition:t.l>0,children:Object(m.jsx)("a",{href:d,title:s,onClick:Object(y.b)(u.substr(1)),children:s})}),Object(m.jsx)(T.a,{condition:t.c.length>0,children:Object(m.jsx)("ul",{children:t.c.map((function(t){return e(t,n-1,r,!0,o)}))})})]});return c?Object(m.jsx)("li",{children:f},d):f},_=(n(1036),function(e){var t=e.ast,n=e.maxDepth,r=void 0===n?3:n,c=e.className,o=e.baseUrl;Object(g.a)();var i=Object(a.useMemo)((function(){return N(t,r,new Map,!1,o)}),[t,r,o]);return Object(m.jsxs)("div",{className:"markdown-toc ".concat(null!==c&&void 0!==c?c:""),children:[Object(m.jsx)(T.a,{condition:0===t.c.length,children:Object(m.jsx)(C.a,{i18nKey:"editor.infoToc"})}),i]})}),x=n(98),R=n(15),H=(n(1037),function(e){var t=e.tocAst,n=e.baseUrl;return Object(m.jsx)("div",{className:"markdown-toc-sidebar-button",children:Object(m.jsxs)(x.a,{drop:"up",children:[Object(m.jsx)(x.a.Toggle,{id:"toc-overlay-button",variant:"secondary",className:"no-arrow",children:Object(m.jsx)(R.a,{icon:"list-ol"})}),Object(m.jsx)(x.a.Menu,{children:Object(m.jsx)("div",{className:"p-2",children:Object(m.jsx)(_,{ast:t,baseUrl:n})})})]})})}),A=function(e){var t=e.tocAst,n=e.width,r=e.baseUrl;return n>=1100?Object(m.jsx)(_,{ast:t,className:"sticky",baseUrl:r}):Object(m.jsx)(H,{tocAst:t,baseUrl:r})},I=function(e){var t,n=e.additionalOuterContainerClasses,o=e.additionalRendererClasses,i=e.onFirstHeadingChange,s=e.onFrontmatterChange,l=e.onMakeScrollSource,u=e.onTaskCheckedChange,d=e.baseUrl,f=e.markdownContent,b=e.onImageClick,h=e.onScroll,O=e.scrollState,S=e.onHeightChange,g=e.disableToc,C=Object(a.useRef)(null),v=Object(j.a)({ref:C.current}),k=Object(a.useRef)(null),y=null!==(t=Object(j.a)({ref:k.current}).width)&&void 0!==t?t:0,M=Object(a.useState)(),N=Object(r.a)(M,2),_=N[0],x=N[1],R=Object(c.b)((function(e){return e.noteDetails.frontmatter.breaks}));Object(a.useEffect)((function(){S&&S(v.height?v.height+1:0)}),[v.height,S]);var H=Object(a.useMemo)((function(){return f.split("\n").length}),[f]),I=E(k,C,H,O,h),D=Object(r.a)(I,2),U=D[0],L=D[1];return Object(m.jsxs)("div",{className:"markdown-document ".concat(null!==n&&void 0!==n?n:""),ref:k,onScroll:L,onMouseEnter:l,children:[Object(m.jsx)("div",{className:"markdown-document-side"}),Object(m.jsxs)("div",{className:"markdown-document-content",children:[Object(m.jsx)(p,{}),Object(m.jsx)(w.BasicMarkdownRenderer,{outerContainerRef:C,className:"mb-3 ".concat(null!==o&&void 0!==o?o:""),content:f,onFirstHeadingChange:i,onLineMarkerPositionChanged:U,onFrontmatterChange:s,onTaskCheckedChange:u,onTocChange:x,baseUrl:d,onImageClick:b,useAlternativeBreaks:R})]}),Object(m.jsx)("div",{className:"markdown-document-side pt-4",children:Object(m.jsx)(T.a,{condition:!!_&&!g,children:Object(m.jsx)(A,{tocAst:_,baseUrl:d,width:y})})})]})},D=function(){Object(o.a)();var e=Object(a.useState)(""),t=Object(r.a)(e,2),n=t[0],l=t[1],u=Object(a.useState)({firstLineInView:1,scrolledPercentage:0}),d=Object(r.a)(u,2),f=d[0],b=d[1],j=Object(a.useState)(void 0),S=Object(r.a)(j,2),g=S[0],C=S[1],v=Object(c.b)((function(e){return e.config.iframeCommunication.editorOrigin})),k=Object(a.useMemo)((function(){var e=new O;return e.setOtherSide(window.parent,v),e}),[v]);Object(a.useEffect)((function(){return k.sendRendererReady(),function(){return k.unregisterEventListener()}}),[k]),Object(a.useEffect)((function(){return k.onSetBaseConfiguration(C)}),[k]),Object(a.useEffect)((function(){return k.onSetMarkdownContent(l)}),[k]),Object(a.useEffect)((function(){return k.onSetDarkMode(i.d)}),[k]),Object(a.useEffect)((function(){return k.onSetScrollState(b)}),[k,f]);var T=Object(a.useCallback)((function(e,t){k.sendTaskCheckBoxChange(e,t)}),[k]),p=Object(a.useCallback)((function(e){k.sendFirstHeadingChanged(e)}),[k]),E=Object(a.useCallback)((function(){k.sendSetScrollSourceToRenderer()}),[k]),w=Object(a.useCallback)((function(e){Object(s.c)(e),k.sendSetFrontmatter(e)}),[k]),y=Object(a.useCallback)((function(e){k.sendSetScrollState(e)}),[k]),M=function(e){return Object(a.useCallback)((function(t){var n=t.target;""!==n.src&&e.sendClickedImageUrl({src:n.src,alt:n.alt,title:n.title})}),[e])}(k),N=Object(a.useCallback)((function(e){k.sendHeightChange(e)}),[k]);if(!g)return null;switch(g.rendererType){case h.b.DOCUMENT:return Object(m.jsx)(I,{additionalOuterContainerClasses:"vh-100 bg-light",markdownContent:n,onTaskCheckedChange:T,onFirstHeadingChange:p,onMakeScrollSource:E,onFrontmatterChange:w,scrollState:f,onScroll:y,baseUrl:g.baseUrl,onImageClick:M});case h.b.INTRO:return Object(m.jsx)(I,{additionalOuterContainerClasses:"vh-100 bg-light overflow-y-hidden",markdownContent:n,baseUrl:g.baseUrl,onImageClick:M,disableToc:!0,onHeightChange:N});default:return null}};t.default=D},332:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return u}));var r=n(21),a=n(173),c=n(87),o=function(e){r.a.dispatch({type:c.a.SET_DOCUMENT_CONTENT,content:e})},i=function(e){r.a.dispatch({type:c.a.SET_NOTE_DATA_FROM_SERVER,note:e})},s=function(e){r.a.dispatch({type:c.a.UPDATE_NOTE_TITLE_BY_FIRST_HEADING,firstHeading:e})},l=function(e){e||(e=a.b.frontmatter),r.a.dispatch({type:c.a.SET_NOTE_FRONTMATTER,frontmatter:e})},u=function(e,t){r.a.dispatch({type:c.a.SET_CHECKBOX_IN_MARKDOWN_CONTENT,checked:t,lineInMarkdown:e})}},388:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(0),a=n(160),c=function(){var e=Object(a.a)();Object(r.useEffect)((function(){return e?window.document.body.classList.add("dark"):window.document.body.classList.remove("dark"),function(){window.document.body.classList.remove("dark")}}),[e])}}}]);
//# sourceMappingURL=renderPage.49c1757f.chunk.js.map