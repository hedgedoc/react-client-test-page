(this.webpackJsonpreact_client=this.webpackJsonpreact_client||[]).push([[15],{1e3:function(e,t,n){},1001:function(e,t,n){},1002:function(e,t,n){},1003:function(e,t,n){},1004:function(e,t,n){},1005:function(e,t,n){},1006:function(e,t,n){},1595:function(e,t,n){"use strict";n.r(t),n.d(t,"ScrollSource",(function(){return Nn})),n.d(t,"EditorPage",(function(){return Mn}));var c,r=n(0),i=n(7),a=n(1),o=n(50),s=n(15),l=n(21),u=n(958),d=n.n(u),j=n(173),b=n(181),f=n(171),h=n(51),O=n(99),m=n(118),x=n(14),p=n(221),v=n(222),g=n(157),y=n(114),C=n(6),E=n(168),w=(n(963),n(553),n(964),n(965),n(966),n(967),n(968),n(969),n(619),n(970),n(739),n(971),n(972),n(973),n(974),n(975),n(978),n(979),n(980),n(981),n(982),n(983),n(29)),k=n.n(w),N=n(988),T=n(111),S=n(69),I=n(56),R=n(82),L=function(e){var t=e.show,n=e.onHide,c=e.maxLength;return Object(o.a)(),Object(r.jsxs)(R.a,{"data-cy":"limitReachedModal",show:t,onHide:n,titleI18nKey:"editor.error.limitReached.title",closeButton:!0,children:[Object(r.jsxs)(T.a.Body,{children:[Object(r.jsx)(I.a,{i18nKey:"editor.error.limitReached.description",values:{maxLength:c}}),Object(r.jsx)("strong",{className:"mt-2 d-block",children:Object(r.jsx)(I.a,{i18nKey:"editor.error.limitReached.advice"})})]}),Object(r.jsx)(T.a.Footer,{children:Object(r.jsx)(S.a,{onClick:n,children:Object(r.jsx)(I.a,{i18nKey:"common.close"})})})]})},D=n(447),M=n.n(D),K=/^```((\w|-|_|\+)*)$/,P=[],B={wordRegExp:K,hint:function(e){return Promise.all([n.e(10),n.e(5)]).then(n.bind(null,1570)).then((function(t){return new Promise((function(n){var c=Ce(e),r=K.exec(c.text);if(null!==r){var i=r[1];0===P.length&&(P=t.default.listLanguages().concat("csv","flow","html","js","markmap","abc","graphviz","mermaid","vega-lite"));var a=Ee(i,P),o=e.getCursor();n(a?{list:a.map((function(e){return{text:"```"+e+"\n\n```\n",displayText:e}})),from:Object(D.Pos)(o.line,c.start),to:Object(D.Pos)(o.line,c.end)}:null)}else n(null)}))}))}},F=/^(<d(?:e|et|eta|etai|etail|etails)?)$/,H={wordRegExp:F,hint:function(e){return new Promise((function(t){var n=Ce(e);if(null!==F.exec(n.text)){var c=["<details>\n  <summary>Toggle label</summary>\n  Toggled content\n</details>"],r=e.getCursor();t(c?{list:c.map((function(e){return{text:e}})),from:Object(D.Pos)(r.line,n.start),to:Object(D.Pos)(r.line,n.end+1)}:null)}else t(null)}))}},W=n(206),A=/^:::((\w|-|_|\+)*)$/,V=W.b.map((function(e){return{text:":::"+e+"\n\n::: \n",displayText:e}})).concat({text:":::spoiler Toggle label\nToggled content\n::: \n",displayText:"spoiler"}),U={wordRegExp:A,hint:function(e){return new Promise((function(t){var n=Ce(e),c=A.exec(n.text);if(null!==c){var r=e.getCursor();t(V?{list:V.filter((function(e){var t;return null===(t=e.displayText)||void 0===t?void 0:t.startsWith(c[1])})),from:Object(D.Pos)(r.line,n.start),to:Object(D.Pos)(r.line,n.end)}:null)}else t(null)}))}},_=n(10),G=n.n(_),z=n(20),q=n(555),$=n(989),X=n(1597),Y=n(71),J=(n(990),n.p+"static/media/forkawesome.da7d0f53.png"),Q=n(212),Z={customEmoji:Object.keys(Q.a).map((function(e){return{name:"fa-".concat(e),shortcodes:["fa-".concat(e.toLowerCase())],url:J,category:"ForkAwesome"}})),dataSource:"/static/js/emoji-data.json"},ee=function(e){var t=e.show,n=e.onEmojiSelected,c=e.onDismiss,i=Object(Y.a)(),o=Object(a.useRef)(null),s=Object(a.useRef)();return Object(X.a)(o,(function(){c()})),Object(a.useEffect)((function(){if(o.current){var e=new $.a(Z);return e.shadowRoot&&e.shadowRoot.appendChild(function(){var e=document.createElement("style");return e.textContent='section.picker { --font-family: "Twemoji Mozilla" !important; }',e}()),o.current.appendChild(e),s.current=e,function(){e.remove(),s.current=void 0}}}),[]),Object(a.useEffect)((function(){if(s.current){var e=function(e){n(e.detail)},t=s.current;return t.addEventListener("emoji-click",e,!0),function(){t.removeEventListener("emoji-click",e,!0)}}}),[n]),Object(a.useEffect)((function(){s.current&&(s.current.setAttribute("class",i?"dark":"light"),i?s.current.removeAttribute("style"):s.current.setAttribute("style","--background: #f8f9fa"))}),[i]),Object(r.jsx)("div",{className:"position-absolute emoji-picker-container ".concat(t?"":"d-none"),ref:o})},te=function(e){if(e.emoji.shortcodes){var t="";return e.emoji.skins&&0!==e.skinTone&&(t=":skin-tone-".concat(e.skinTone,":")),":".concat(e.emoji.shortcodes[0],":").concat(t)}},ne=new q.a(Z),ce=/^:([\w-_+]*)$/,re=function(){var e=Object(z.a)(G.a.mark((function e(t,n){var c;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,""!==n){e.next=5;break}return e.next=4,t.getTopFavoriteEmoji(7);case 4:return e.abrupt("return",e.sent);case 5:return e.next=7,t.getEmojiBySearchQuery(n);case 7:if(0!==(c=e.sent).length){e.next=14;break}return e.next=11,t.getTopFavoriteEmoji(7);case 11:return e.abrupt("return",e.sent);case 14:return e.abrupt("return",c);case 15:e.next=21;break;case 17:return e.prev=17,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",[]);case 21:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t,n){return e.apply(this,arguments)}}(),ie=function(e){var t=te(e);if(t)return{text:t,render:function(n){var c,r=document.createElement("div");r.innerHTML="".concat((c=e,c.unicode?c.unicode:c.name?'<i class="fa '.concat(c.name,'"></i>'):""),"   ").concat(t),n.appendChild(r)}}},ae=function(){var e=Object(z.a)(G.a.mark((function e(t){var n,c,r,i,a,o,s;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Ce(t),null!==(c=ce.exec(n.text))){e.next=4;break}return e.abrupt("return",null);case 4:return e.next=6,re(ne,c[1]);case 6:return r=e.sent,i=t.getCursor(),e.next=10,ne.getPreferredSkinTone();case 10:return a=e.sent,o=r.filter((function(e){return!!e.shortcodes})).map((function(e){return{emoji:e,skinTone:a,unicode:e.unicode?e.unicode:void 0,name:e.name}})),s=o.map(ie).filter((function(e){return!!e})),e.abrupt("return",{list:s,from:Object(D.Pos)(i.line,n.start),to:Object(D.Pos)(i.line,n.end)});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe={wordRegExp:ce,hint:ae},se=/^(\s{0,3})(#{1,6})$/,le=["# h1","## h2","### h3","#### h4","##### h5","###### h6","###### tags: `example`"],ue=["# ","## ","### ","#### ","##### ","###### ","###### tags: `example`"],de={wordRegExp:se,hint:function(e){return new Promise((function(t){var n=Ce(e),c=se.exec(n.text);if(null!==c){var r=c[0];if(r){var i=Ee(r,le),a=e.getCursor();t(i?{list:i.map((function(e){return{text:ue[le.indexOf(e)],displayText:e}})),from:Object(D.Pos)(a.line,n.start),to:Object(D.Pos)(a.line,n.end)}:null)}else t(null)}else t(null)}))}},je=/^(!(\[.*])?)$/,be=['![image alt](https:// "title")','![image alt](https:// "title" =WidthxHeight)',"![image alt][reference]"],fe={wordRegExp:je,hint:function(e){return new Promise((function(t){var n=Ce(e);if(null!==je.exec(n.text)){var c=be,r=e.getCursor();t(c?{list:c.map((function(e){return{text:e}})),from:Object(D.Pos)(r.line,n.start),to:Object(D.Pos)(r.line,n.end+1)}:null)}else t(null)}))}},he=n(32),Oe=n(85),me=/^(\[(.*])?)$/,xe=['[link text](https:// "title")','[reference]: https:// "title"',"[link text][reference]","[reference]","[^footnote reference]: https://","[^footnote reference]","^[inline footnote]","[TOC]","name","time","[color=#FFFFFF]"],pe={wordRegExp:me,hint:function(e){return new Promise((function(t){var n=Ce(e);if(null!==me.exec(n.text)){var c=xe,r=e.getCursor();t(c?{list:c.map((function(e){var t=Object(Oe.b)(),n=t?t.name:"Anonymous";switch(e){case"name":return{text:"[name=".concat(n,"]")};case"time":return{text:"[time=".concat(he.DateTime.local().toFormat("DDDD T"),"]")};default:return{text:e+" ",displayText:e}}})),from:Object(D.Pos)(r.line,n.start),to:Object(D.Pos)(r.line,n.end+1)}:null)}else t(null)}))}},ve=/^({[%}]?)$/,ge={wordRegExp:ve,hint:function(e){return new Promise((function(t){var n=Ce(e);if(null!==ve.exec(n.text)){var c=["{%pdf https:// %}"],r=e.getCursor();t(c?{list:c.map((function(e){return{text:e}})),from:Object(D.Pos)(r.line,n.start),to:Object(D.Pos)(r.line,n.end+1)}:null)}else t(null)}))}},ye=/[^\s]/,Ce=function(e){for(var t=e.getCursor(),n=e.getLine(t.line),c=t.ch,r=t.ch;c&&ye.test(n.charAt(c-1));)--c;for(;r<n.length&&ye.test(n.charAt(r));)++r;return{text:n.slice(c,r).toLowerCase(),start:c,end:r}},Ee=function(e,t){var n=[];return t.forEach((function(t){t.toLowerCase().startsWith(e.toLowerCase())&&n.push(t)})),n.slice(0,7)},we=[B,U,oe,de,fe,pe,ge,H],ke=(n(991),n(155)),Ne=function(e){return Array.from(Array(e).keys())},Te=function(e){return De(e,"**")},Se=function(e){return De(e,"*")},Ie=function(e){return De(e,"~~")},Re=function(e){return De(e,"++")},Le=function(e){return De(e,"==")},De=function(e,t,n){if(e.getSelection()){var c,r=e.listSelections(),i=Object(E.a)(r);try{for(i.s();!(c=i.n()).done;){var a=c.value;if(!a.empty()){var o=a.from(),s=a.to(),l=e.getRange(o,s);e.replaceRange(t+l+(n||t),o,s,"+input"),a.head.ch+=t.length,a.anchor.ch+=n?n.length:t.length}}}catch(u){i.e(u)}finally{i.f()}e.setSelections(r)}},Me=function(e,t,n){if(!e.getSelection()){var c=e.getCursor(),r=c.line,i=e.getLine(r),a=/\s*\\n/.exec(i)?"".concat(t).concat(null!==n&&void 0!==n?n:""):"".concat(t).concat(i).concat(null!==n&&void 0!==n?n:"");e.replaceRange(a,{line:c.line,ch:0},{line:c.line,ch:i.length},"+input")}De(e,t,null!==n&&void 0!==n?n:t)},Ke=function(e,t){var n,c=e.getCursor(),r=e.listSelections(),i=Object(E.a)(r);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=a.empty()?{line:c.line,ch:0}:a.from(),s=a.empty()?{line:c.line,ch:e.getLine(c.line).length}:a.to(),l=e.getRange(o,s).split("\n");e.replaceRange(l.map((function(e){return"".concat(t).concat(e)})).join("\n"),o,s,"+input")}}catch(u){i.e(u)}finally{i.f()}e.setSelections(r)},Pe=function(e,t){var n,c=e.getCursor(),r=e.listSelections(),i=Object(E.a)(r);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=a.empty()?c.line:a.from().line,s=e.getLine(o);e.replaceRange(t(s),{line:o,ch:0},{line:o,ch:s.length},"+input")}}catch(l){i.e(l)}finally{i.f()}e.setSelections(r)},Be=function(e,t){var n,c=e.getCursor(),r=e.listSelections(),i=Object(E.a)(r);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=a.empty()?{line:c.line,ch:0}:a.from(),s=a.empty()?{line:c.line,ch:e.getLine(c.line).length}:a.to(),l=e.getRange(o,s).split("\n");e.replaceRange(l.map((function(e,n){return"".concat(t(n+1)).concat(e)})).join("\n"),o,s,"+input")}}catch(u){i.e(u)}finally{i.f()}e.setSelections(r)},Fe=function(e,t){var n,c=e.getCursor(),r=e.listSelections(),i=Object(E.a)(r);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=a.empty()?{line:c.line,ch:c.ch}:a.from(),s=a.empty()?{line:c.line,ch:c.ch}:a.to(),l=e.getRange(o,s);/^(?:https?|ftp|mailto):/.exec(l)?e.replaceRange("".concat(t||"","[](").concat(l,")"),o,s,"+input"):e.replaceRange("".concat(t||"","[").concat(l,"](https://)"),o,s,"+input")}}catch(u){i.e(u)}finally{i.f()}},He=function(e,t){var n,c=e.getCursor(),r=e.listSelections(),i=Object(E.a)(r);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=a.empty()?{line:c.line,ch:c.ch}:a.from(),s=a.empty()?{line:c.line,ch:c.ch}:a.to();e.replaceRange("".concat(t),o,s,"+input")}}catch(l){i.e(l)}finally{i.f()}},We=function(e){return e.setOption("fullScreen",!e.getOption("fullScreen"))},Ae=function(e){if(!e.getOption("fullScreen")||"vim"===(null===(t=e.getOption("keyMap"))||void 0===t?void 0:t.substr(0,3)))return M.a.Pass;var t;e.setOption("fullScreen",!1)},Ve=function(){},Ue=function(e){var t,n,c=Array((null!==(t=e.getOption("indentUnit"))&&void 0!==t?t:0)+1).join(" "),r=e.getCursor(),i=e.getLine(r.line);if(e.getSelection().split("\n").length>1||e.getSelections().length>1)e.execCommand("defaultTab");else if(null!==(n=/^(\s*)(>[> ]*|[*+-]\s|(\d+)([.)]))/.exec(i))){var a=n[1].length,o={line:r.line,ch:a};e.getOption("indentWithTabs")?e.replaceRange("\t",o,o,"+input"):e.replaceRange(c,o,o,"+input")}else e.getOption("indentWithTabs")?e.execCommand("defaultTab"):e.replaceSelection(c)},_e=ke.a?{F9:Ve,F10:We,Esc:Ae,"Cmd-S":Ve,Enter:"newlineAndIndentContinueMarkdownList",Tab:Ue,"Cmd-Left":"goLineLeftSmart","Cmd-Right":"goLineRight",Home:"goLineLeftSmart",End:"goLineRight","Cmd-I":Se,"Cmd-B":Te,"Cmd-U":Re,"Cmd-D":Ie,"Cmd-M":Le}:{F9:Ve,F10:We,Esc:Ae,"Ctrl-S":Ve,Enter:"newlineAndIndentContinueMarkdownList",Tab:Ue,Home:"goLineLeftSmart",End:"goLineRight","Ctrl-I":Se,"Ctrl-B":Te,"Ctrl-U":Re,"Ctrl-D":Ie,"Ctrl-M":Le,"Ctrl-K":Fe},Ge=(n(992),{position:{line:0,ch:0},selectedColumns:0,selectedLines:0,linesInDocument:0,charactersInDocument:0,remainingCharacters:0}),ze=function(e,t){return{position:e.getCursor(),charactersInDocument:e.getValue().length,remainingCharacters:t-e.getValue().length,linesInDocument:e.lineCount(),selectedColumns:e.getSelection().length,selectedLines:e.getSelection().split("\n").length}},qe=function(e){var t=e.position,n=e.selectedColumns,c=e.selectedLines,i=e.charactersInDocument,s=e.linesInDocument,l=e.remainingCharacters,u=Object(o.a)().t,d=Object(a.useMemo)((function(){return 0===l?u("editor.statusBar.lengthTooltip.maximumReached"):l<0?u("editor.statusBar.lengthTooltip.exceeded",{exceeded:-l}):u("editor.statusBar.lengthTooltip.remaining",{remaining:l})}),[l,u]);return Object(r.jsxs)("div",{className:"d-flex flex-row status-bar px-2",children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("span",{children:u("editor.statusBar.cursor",{line:t.line+1,columns:t.ch+1})}),Object(r.jsxs)(x.a,{condition:0!==n&&0!==c,children:[Object(r.jsx)(x.a,{condition:1===c,children:Object(r.jsxs)("span",{children:["\xa0\u2013\xa0",u("editor.statusBar.selection.column",{count:n})]})}),Object(r.jsx)(x.a,{condition:c>1,children:Object(r.jsxs)("span",{children:["\xa0\u2013\xa0",u("editor.statusBar.selection.line",{count:c})]})})]})]}),Object(r.jsxs)("div",{className:"ml-auto",children:[Object(r.jsx)("span",{children:u("editor.statusBar.lines",{lines:s})}),"\xa0\u2013\xa0",Object(r.jsx)("span",{"data-cy":"remainingCharacters",title:d,className:l<=0?"text-danger":l<=100?"text-warning":"",children:u("editor.statusBar.length",{length:i})})]})]})},$e=n(1569),Xe=n(240),Ye=n(12),Je=n(440),Qe=n(444),Ze=n(169);!function(e){e[e.SELECT=0]="SELECT",e[e.BOOLEAN=1]="BOOLEAN",e[e.NUMBER=2]="NUMBER"}(c||(c={}));var et,tt=function(e){var t=e.property,n=e.type,i=e.onChange,a=e.value,s=e.children;return Object(o.a)(),Object(r.jsxs)(Je.a.Group,{controlId:"editor-pref-".concat(t),children:[Object(r.jsx)(Je.a.Label,{children:Object(r.jsx)(I.a,{i18nKey:"editor.modal.preferences.".concat(t).concat(n===c.NUMBER?"":".label")})}),Object(r.jsx)(Je.a.Control,{as:n===c.NUMBER?"input":"select",size:"sm",value:a,onChange:i,type:n===c.NUMBER?"number":"",children:s})]})},nt=function(e){var t=e.property,n=Object(s.b)((function(e){var n;return(null===(n=e.editorConfig.preferences[t])||void 0===n?void 0:n.toString())||""}),k.a),i=Object(o.a)().t,l=Object(a.useCallback)((function(e){var n="true"===e.target.value;Object(h.b)(Object(Ze.a)({},t,n))}),[t]),u="editor.modal.preferences.".concat(t);return Object(r.jsxs)(tt,{onChange:l,property:t,type:c.SELECT,value:n,children:[Object(r.jsx)("option",{value:"true",children:i("".concat(u,".on"))}),Object(r.jsx)("option",{value:"false",children:i("".concat(u,".off"))})]})},ct=function(){var e=Object(s.b)((function(e){return Boolean(e.editorConfig.ligatures).toString()})),t=Object(a.useCallback)((function(e){var t="true"===e.target.value;Object(h.d)(t)}),[]),n=Object(o.a)().t;return Object(r.jsxs)(tt,{onChange:t,value:e,property:"ligatures",type:c.BOOLEAN,children:[Object(r.jsx)("option",{value:"true",children:n("common.yes")}),Object(r.jsx)("option",{value:"false",children:n("common.no")})]})},rt=function(e){var t=e.property,n=Object(s.b)((function(e){var n;return(null===(n=e.editorConfig.preferences[t])||void 0===n?void 0:n.toString())||""}),k.a),i=Object(a.useCallback)((function(e){var n=Number.parseInt(e.target.value);Object(h.b)(Object(Ze.a)({},t,n))}),[t]);return Object(r.jsx)(tt,{onChange:i,property:t,type:c.NUMBER,value:n})};!function(e){e.KEYMAP="keyMap",e.THEME="theme",e.INDENT_WITH_TABS="indentWithTabs",e.INDENT_UNIT="indentUnit",e.SPELL_CHECK="spellcheck"}(et||(et={}));var it,at=function(e){var t=e.property,n=e.selections,i=Object(s.b)((function(e){var n;return(null===(n=e.editorConfig.preferences[t])||void 0===n?void 0:n.toString())||""}),k.a),l=Object(o.a)().t,u=Object(a.useCallback)((function(e){var n=e.target.value;Object(h.b)(Object(Ze.a)({},t,n))}),[t]),d="editor.modal.preferences.".concat(t);return Object(r.jsx)(tt,{onChange:u,property:t,type:c.SELECT,value:i,children:n.map((function(e){return Object(r.jsx)("option",{value:e,children:l("".concat(d,".").concat(e))},e)}))})},ot=function(){var e=Object(o.a)().t,t=Object(a.useState)(!1),n=Object(i.a)(t,2),l=n[0],u=n[1],d=Object(s.b)((function(e){var t;return null!==(t=e.editorConfig.preferences.indentWithTabs)&&void 0!==t&&t}),k.a);return Object(r.jsxs)(a.Fragment,{children:[Object(r.jsx)(S.a,{variant:"light",onClick:function(){return u(!0)},title:e("editor.editorToolbar.preferences"),children:Object(r.jsx)(Ye.a,{icon:"wrench"})}),Object(r.jsx)(R.a,{show:l,onHide:function(){return u(!1)},titleI18nKey:"editor.modal.preferences.title",closeButton:!0,icon:"wrench",children:Object(r.jsx)(Je.a,{children:Object(r.jsxs)(Qe.a,{children:[Object(r.jsx)(Qe.a.Item,{children:Object(r.jsx)(at,{property:et.THEME,selections:["one-dark","neat"]})}),Object(r.jsx)(Qe.a.Item,{children:Object(r.jsx)(at,{property:et.KEYMAP,selections:["sublime","emacs","vim"]})}),Object(r.jsx)(Qe.a.Item,{children:Object(r.jsx)(nt,{property:et.INDENT_WITH_TABS})}),Object(r.jsx)(x.a,{condition:!d,children:Object(r.jsx)(Qe.a.Item,{children:Object(r.jsx)(rt,{property:et.INDENT_UNIT})})}),Object(r.jsx)(Qe.a.Item,{children:Object(r.jsx)(ct,{})}),Object(r.jsx)(Qe.a.Item,{children:Object(r.jsxs)(tt,{onChange:function(){return alert("This feature is not yet implemented.")},property:et.SPELL_CHECK,type:c.SELECT,children:[Object(r.jsx)("option",{value:"off",children:"Off"}),Object(r.jsx)("option",{value:"en",children:"English"})]})})]})})})]})},st=function(e){var t=e.editor,n=Object(o.a)().t,c=Object(a.useState)(!1),s=Object(i.a)(c,2),l=s[0],u=s[1];return Object(r.jsxs)(a.Fragment,{children:[Object(r.jsx)(ee,{show:l,onEmojiSelected:function(e){u(!1),function(e,t){var n=te(e);n&&He(t,n)}(e,t)},onDismiss:function(){return u(!1)}}),Object(r.jsx)(S.a,{"data-cy":"show-emoji-picker",variant:"light",onClick:function(){return u((function(e){return!e}))},title:n("editor.editorToolbar.emoji"),children:Object(r.jsx)(Ye.a,{icon:"smile-o"})})]})},lt=n(246),ut=function(e){var t=e.showModal,n=e.onDismiss,c=e.onTablePicked,s=Object(o.a)().t,l=Object(a.useState)({rows:0,columns:0}),u=Object(i.a)(l,2),d=u[0],j=u[1];Object(a.useEffect)((function(){j({rows:0,columns:0})}),[t]);var b=Object(a.useCallback)((function(){c(d.rows,d.columns),n()}),[n,d,c]);return Object(r.jsxs)(R.a,{show:t,onHide:function(){return n()},titleI18nKey:"editor.editorToolbar.table.customSize",closeButton:!0,icon:"table",children:[Object(r.jsxs)("div",{className:"col-lg-10 d-flex flex-row p-3 align-items-center",children:[Object(r.jsx)(Je.a.Control,{type:"number",min:1,placeholder:s("editor.editorToolbar.table.cols"),isInvalid:d.columns<=0,onChange:function(e){var t=Number.parseInt(e.currentTarget.value);j((function(e){return{rows:e.rows,columns:isNaN(t)?0:t}}))}}),Object(r.jsx)(Ye.a,{icon:"times",className:"mx-2",fixedWidth:!0}),Object(r.jsx)(Je.a.Control,{type:"number",min:1,placeholder:s("editor.editorToolbar.table.rows"),isInvalid:d.rows<=0,onChange:function(e){var t=Number.parseInt(e.currentTarget.value);j((function(e){return{rows:isNaN(t)?0:t,columns:e.columns}}))}})]}),Object(r.jsx)(lt.a,{children:Object(r.jsx)(S.a,{onClick:b,disabled:d.rows<=0||d.columns<=0,children:s("editor.editorToolbar.table.create")})})]})},dt=(n(993),function(e){var t=e.show,n=e.onDismiss,c=e.onTablePicked,s=Object(o.a)().t,l=Object(a.useRef)(null),u=Object(a.useState)(),d=Object(i.a)(u,2),j=d[0],b=d[1],f=Object(a.useState)(!1),h=Object(i.a)(f,2),O=h[0],m=h[1];Object(X.a)(l,(function(){n()})),Object(a.useEffect)((function(){b(void 0)}),[t]);var x=Object(a.useCallback)((function(){j&&c(j.rows,j.columns)}),[c,j]);return Object(r.jsxs)("div",{className:"position-absolute table-picker-container p-2 ".concat(!t||O?"d-none":""," bg-light"),ref:l,role:"grid",children:[Object(r.jsx)("p",{className:"lead",children:j?s("editor.editorToolbar.table.size",{cols:null===j||void 0===j?void 0:j.columns,rows:j.rows}):s("editor.editorToolbar.table.title")}),Object(r.jsx)("div",{className:"table-container",children:Ne(8).map((function(e){return Ne(10).map((function(t){return Object(r.jsx)("div",{className:"table-cell ".concat(j&&e<j.rows&&t<j.columns?"bg-primary":""),onMouseEnter:function(){b({rows:e+1,columns:t+1})},title:s("editor.editorToolbar.table.size",{cols:t+1,rows:e+1}),onClick:x},"".concat(e,"_").concat(t))}))}))}),Object(r.jsxs)("div",{className:"d-flex justify-content-center mt-2",children:[Object(r.jsxs)(S.a,{"data-cy":"show-custom-table-modal",className:"text-center",onClick:function(){return m(!0)},children:[Object(r.jsx)(Ye.a,{icon:"table"}),"\xa0",s("editor.editorToolbar.table.customSize")]}),Object(r.jsx)(ut,{showModal:O,onDismiss:function(){return m(!1)},onTablePicked:c})]})]})}),jt=function(e){var t=e.editor,n=Object(o.a)().t,c=Object(a.useState)(!1),s=Object(i.a)(c,2),l=s[0],u=s[1];return Object(r.jsxs)(a.Fragment,{children:[Object(r.jsx)(dt,{show:l,onDismiss:function(){return u(!1)},onTablePicked:function(e,n){u(!1),function(e,t,n){var c=Ne(t),r=Ne(n).map((function(e){return e+1})),i="|  # "+r.join(" |  # ")+" |",a="| "+r.map((function(){return"----"})).join(" | ")+" |",o=c.map((function(){return"| "+r.map((function(){return"Text"})).join(" | ")+" |"})).join("\n"),s="".concat(i,"\n").concat(a,"\n").concat(o);Pe(e,(function(e){return"".concat(e,"\n").concat(s)}))}(t,e,n)}}),Object(r.jsx)(S.a,{"data-cy":"show-table-overlay",variant:"light",onClick:function(){return u((function(e){return!e}))},title:n("editor.editorToolbar.table.title"),children:Object(r.jsx)(Ye.a,{icon:"table"})})]})},bt=(n(994),n(43)),ft=function(e){var t=e.onLoad,n=e.acceptedFiles,c=e.onClickRef,i=Object(bt.a)(e,["onLoad","acceptedFiles","onClickRef"]),o=Object(a.useRef)(null),s=Object(a.useCallback)((function(){var e=o.current;e&&(e.addEventListener("change",(function(){if(e.files&&!(e.files.length<1)){var n=e.files[0];t(n).then((function(){e.value=""})).catch((function(e){console.error(e)}))}})),e.click())}),[t]);return Object(a.useEffect)((function(){c.current=s})),Object(r.jsx)("input",{"data-cy":i["data-cy"],type:"file",ref:o,className:"d-none",accept:n})},ht=n(158),Ot=n(219),mt=n(27),xt=["application/pdf","image/apng","image/bmp","image/gif","image/heif","image/heic","image/heif-sequence","image/heic-sequence","image/jpeg","image/png","image/svg+xml","image/tiff","image/webp"],pt=xt.join(", "),vt=function(e,t){if(e){var n=e.type;if(xt.includes(n)){var c=t.getCursor(),r="![".concat(ht.a.t("editor.upload.uploadFile",{fileName:e.name}),"]()"),i=mt.a.getState().noteDetails.id;t.replaceRange(r,c,c,"+input"),Object(Ot.b)(i,n,e).then((function(e){var i=e.link;t.replaceRange(gt(n,i),c,{line:c.line,ch:c.ch+r.length},"+input")})).catch((function(){t.replaceRange("",c,{line:c.line,ch:c.ch+r.length},"+input")}))}}},gt=function(e,t){switch(e){case"application/pdf":return"{%pdf ".concat(t," %}");default:return"![](".concat(t,")")}},yt=function(e){var t=e.editor,n=Object(o.a)().t,c=Object(a.useRef)(),i=Object(a.useCallback)((function(){var e;null===(e=c.current)||void 0===e||e.call(c)}),[]),s=Object(a.useCallback)((function(e){return t&&vt(e,t),Promise.resolve()}),[t]);return t?Object(r.jsxs)(a.Fragment,{children:[Object(r.jsx)(S.a,{variant:"light",onClick:i,title:n("editor.editorToolbar.uploadImage"),children:Object(r.jsx)(Ye.a,{icon:"upload"})}),Object(r.jsx)(ft,{onLoad:s,acceptedFiles:pt,onClickRef:c})]}):null},Ct=function(e){var t=e.editor,n=Object(o.a)().t;return t?Object(r.jsxs)($e.a,{className:"bg-light",children:[Object(r.jsxs)(Xe.a,{className:"mx-1 flex-wrap",children:[Object(r.jsx)(S.a,{"data-cy":"format-bold",variant:"light",onClick:function(){return Te(t)},title:n("editor.editorToolbar.bold"),children:Object(r.jsx)(Ye.a,{icon:"bold"})}),Object(r.jsx)(S.a,{"data-cy":"format-italic",variant:"light",onClick:function(){return Se(t)},title:n("editor.editorToolbar.italic"),children:Object(r.jsx)(Ye.a,{icon:"italic"})}),Object(r.jsx)(S.a,{"data-cy":"format-underline",variant:"light",onClick:function(){return Re(t)},title:n("editor.editorToolbar.underline"),children:Object(r.jsx)(Ye.a,{icon:"underline"})}),Object(r.jsx)(S.a,{"data-cy":"format-strikethrough",variant:"light",onClick:function(){return Ie(t)},title:n("editor.editorToolbar.strikethrough"),children:Object(r.jsx)(Ye.a,{icon:"strikethrough"})}),Object(r.jsx)(S.a,{"data-cy":"format-subscript",variant:"light",onClick:function(){return function(e){return De(e,"~")}(t)},title:n("editor.editorToolbar.subscript"),children:Object(r.jsx)(Ye.a,{icon:"subscript"})}),Object(r.jsx)(S.a,{"data-cy":"format-superscript",variant:"light",onClick:function(){return function(e){return De(e,"^")}(t)},title:n("editor.editorToolbar.superscript"),children:Object(r.jsx)(Ye.a,{icon:"superscript"})})]}),Object(r.jsxs)(Xe.a,{className:"mx-1 flex-wrap",children:[Object(r.jsx)(S.a,{"data-cy":"format-heading",variant:"light",onClick:function(){return function(e){return Pe(e,(function(e){return e.startsWith("#")?"#".concat(e):"# ".concat(e)}))}(t)},title:n("editor.editorToolbar.header"),children:Object(r.jsx)(Ye.a,{icon:"header"})}),Object(r.jsx)(S.a,{"data-cy":"format-code-block",variant:"light",onClick:function(){return function(e){return Me(e,"```\n","\n```")}(t)},title:n("editor.editorToolbar.code"),children:Object(r.jsx)(Ye.a,{icon:"code"})}),Object(r.jsx)(S.a,{"data-cy":"format-block-quote",variant:"light",onClick:function(){return function(e){return Ke(e,"> ")}(t)},title:n("editor.editorToolbar.blockquote"),children:Object(r.jsx)(Ye.a,{icon:"quote-right"})}),Object(r.jsx)(S.a,{"data-cy":"format-unordered-list",variant:"light",onClick:function(){return function(e){return Be(e,(function(){return"- "}))}(t)},title:n("editor.editorToolbar.unorderedList"),children:Object(r.jsx)(Ye.a,{icon:"list"})}),Object(r.jsx)(S.a,{"data-cy":"format-ordered-list",variant:"light",onClick:function(){return function(e){return Be(e,(function(e){return"".concat(e,". ")}))}(t)},title:n("editor.editorToolbar.orderedList"),children:Object(r.jsx)(Ye.a,{icon:"list-ol"})}),Object(r.jsx)(S.a,{"data-cy":"format-check-list",variant:"light",onClick:function(){return function(e){return Be(e,(function(){return"- [ ] "}))}(t)},title:n("editor.editorToolbar.checkList"),children:Object(r.jsx)(Ye.a,{icon:"check-square"})})]}),Object(r.jsxs)(Xe.a,{className:"mx-1 flex-wrap",children:[Object(r.jsx)(S.a,{"data-cy":"format-link",variant:"light",onClick:function(){return Fe(t)},title:n("editor.editorToolbar.link"),children:Object(r.jsx)(Ye.a,{icon:"link"})}),Object(r.jsx)(S.a,{"data-cy":"format-image",variant:"light",onClick:function(){return function(e){return Fe(e,"!")}(t)},title:n("editor.editorToolbar.image"),children:Object(r.jsx)(Ye.a,{icon:"picture-o"})}),Object(r.jsx)(yt,{editor:t})]}),Object(r.jsxs)(Xe.a,{className:"mx-1 flex-wrap",children:[Object(r.jsx)(jt,{editor:t}),Object(r.jsx)(S.a,{"data-cy":"format-add-line",variant:"light",onClick:function(){return function(e){return Pe(e,(function(e){return"".concat(e,"\n----")}))}(t)},title:n("editor.editorToolbar.line"),children:Object(r.jsx)(Ye.a,{icon:"minus"})}),Object(r.jsx)(S.a,{"data-cy":"format-collapsable-block",variant:"light",onClick:function(){return function(e){return Pe(e,(function(e){return"".concat(e,"\n:::spoiler Toggle label\n  Toggled content\n:::")}))}(t)},title:n("editor.editorToolbar.collapsableBlock"),children:Object(r.jsx)(Ye.a,{icon:"caret-square-o-down"})}),Object(r.jsx)(S.a,{"data-cy":"format-add-comment",variant:"light",onClick:function(){return function(e){return Pe(e,(function(e){return"".concat(e,"\n> []")}))}(t)},title:n("editor.editorToolbar.comment"),children:Object(r.jsx)(Ye.a,{icon:"comment"})}),Object(r.jsx)(st,{editor:t})]}),Object(r.jsx)(Xe.a,{className:"mx-1 flex-wrap",children:Object(r.jsx)(ot,{})})]}):null},Et=function(e){var t,n=Object(E.a)(we);try{for(n.s();!(t=n.n()).done;){var c=t.value,r=Ce(e);if(c.wordRegExp.test(r.text))return void e.showHint({hint:c.hint,completeSingle:!1,completeOnSingleClick:!1,alignWithWord:!0})}}catch(i){n.e(i)}finally{n.f()}},wt=function(e,t){if(t&&t.clipboardData&&t.clipboardData.files&&t.clipboardData.files.length>0){t.preventDefault();var n=t.clipboardData.files;n&&n.length>=1&&vt(n[0],e)}},kt=function(e){var t=e.onContentChange,n=e.content,c=e.scrollState,l=e.onScroll,u=e.onMakeScrollSource,d=Object(o.a)().t,j=Object(s.b)((function(e){return e.config.maxDocumentLength})),b=Object(a.useState)(!1),f=Object(i.a)(b,2),h=f[0],O=f[1],m=Object(a.useRef)(!1),x=Object(a.useState)(),p=Object(i.a)(x,2),v=p[0],g=p[1],y=Object(a.useState)(Ge),E=Object(i.a)(y,2),w=E[0],T=E[1],S=Object(s.b)((function(e){return e.editorConfig.preferences}),k.a),I=Object(s.b)((function(e){return e.editorConfig.ligatures}),k.a),R=Object(a.useRef)(),D=Object(a.useState)(),M=Object(i.a)(D,2),K=M[0],P=M[1],B=Object(a.useCallback)((function(e,t){return P(t)}),[]);Object(a.useEffect)((function(){if(v&&l&&K){var e=K.top,t=v.lineAtHeight(e,"local"),n=v.heightAtLine(t,"local"),c=v.lineInfo(t);if(null!==c){var r=c.handle.height,i=Math.max(e-n,0)/r,a=Math.floor(100*i);l({firstLineInView:t+1,scrolledPercentage:a})}}}),[v,K,l]),Object(a.useEffect)((function(){if(v&&c){var e=v.heightAtLine(c.firstLineInView-1,"local")+v.lineInfo(c.firstLineInView-1).handle.height*c.scrolledPercentage/100,t=Math.floor(e);t!==R.current&&(R.current=t,v.scrollTo(0,t))}}),[v,c]);var F=Object(a.useCallback)((function(e,n,c){c.length>j&&!m.current&&(O(!0),m.current=!0),c.length<=j&&(m.current=!1),t(c)}),[t,j,m]),H=Object(a.useCallback)((function(e){T(ze(e,j)),g(e)}),[j]),W=Object(a.useCallback)((function(e){T(ze(e,j))}),[j]),A=Object(a.useCallback)((function(e,t){if(t&&e&&t.pageX&&t.pageY&&t.dataTransfer&&t.dataTransfer.files&&t.dataTransfer.files.length>=1){t.preventDefault();var n=t.pageY,c=t.pageX,r=e.coordsChar({top:n,left:c},"page");e.setCursor(r);var i=t.dataTransfer.files;vt(i[0],e)}}),[]),V=Object(a.useCallback)((function(){return O(!1)}),[]),U=Object(a.useMemo)((function(){return Object(C.a)(Object(C.a)({},S),{},{mode:"gfm",viewportMargin:20,styleActiveLine:!0,lineNumbers:!0,lineWrapping:!0,showCursorWhenSelecting:!0,highlightSelectionMatches:!0,inputStyle:"textarea",matchBrackets:!0,autoCloseBrackets:!0,matchTags:{bothTags:!0},autoCloseTags:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","authorship-gutters","CodeMirror-foldgutter"],extraKeys:_e,flattenSpans:!0,addModeClass:!0,autoRefresh:!0,placeholder:d("editor.placeholder")})}),[d,S]);return Object(r.jsxs)("div",{className:"d-flex flex-column h-100 position-relative",onMouseEnter:u,children:[Object(r.jsx)(L,{show:h,onHide:V,maxLength:j}),Object(r.jsx)(Ct,{editor:v}),Object(r.jsx)(N.Controlled,{className:"overflow-hidden w-100 flex-fill ".concat(I?"":"no-ligatures"),value:n,options:U,onChange:Et,onPaste:wt,onDrop:A,onCursorActivity:W,editorDidMount:H,onBeforeChange:F,onScroll:B}),Object(r.jsx)(qe,Object(C.a)({},w))]})},Nt=n(216),Tt=function(e){e.ctrlKey&&e.altKey&&"b"===e.key&&(Object(h.e)(y.a.BOTH),e.preventDefault()),e.ctrlKey&&e.altKey&&"v"===e.key&&(Object(h.e)(y.a.PREVIEW),e.preventDefault()),e.ctrlKey&&e.altKey&&("e"===e.key||"\u20ac"===e.key)&&(Object(h.e)(y.a.EDITOR),e.preventDefault())},St=n(233),It=n(86),Rt=function(e){var t=e.children,n=e.icon,c=e.className,i=e.variant,a=e.buttonRef,o=e.hide,s=Object(bt.a)(e,["children","icon","className","variant","buttonRef","hide"]);return Object(r.jsxs)("button",Object(C.a)(Object(C.a)({ref:a,className:"sidebar-entry ".concat(o?"hide":""," ").concat(i?"sidebar-entry-".concat(i):""," ").concat(null!==c&&void 0!==c?c:"")},s),{},{children:[Object(r.jsx)(x.a,{condition:!!n,children:Object(r.jsx)("span",{className:"sidebar-icon",children:Object(r.jsx)(Ye.a,{icon:n})})}),Object(r.jsx)("span",{className:"sidebar-text",children:t})]}))},Lt=function(e){var t=e.hide,n=e.className;Object(o.a)();var c=Object(a.useState)(!1),s=Object(i.a)(c,2),l=s[0],u=s[1];return Object(r.jsxs)(a.Fragment,{children:[Object(r.jsx)(Rt,{icon:"trash",className:n,hide:t,onClick:function(){return u(!0)},children:Object(r.jsx)(I.a,{i18nKey:"landing.history.menu.deleteNote"})}),Object(r.jsxs)(It.a,{onConfirm:function(){return u(!1)},deletionButtonI18nKey:"editor.modal.deleteNote.button",show:l,onHide:function(){return u(!1)},titleI18nKey:"editor.modal.deleteNote.title",children:[Object(r.jsx)("h5",{children:Object(r.jsx)(I.a,{i18nKey:"editor.modal.deleteNote.question"})}),Object(r.jsx)("ul",{children:Object(r.jsx)("li",{children:" noteTitle"})}),Object(r.jsx)("h6",{children:Object(r.jsx)(I.a,{i18nKey:"editor.modal.deleteNote.warning"})})]})]})},Dt=n(220),Mt=n(109),Kt=function(e){var t=e.text;return Object(r.jsx)("b",{className:"font-style-normal mr-1",children:t})},Pt=function(e){var t=e.show,n=e.onHide;return Object(r.jsx)(R.a,{show:t,onHide:n,closeButton:!0,titleI18nKey:"editor.modal.documentInfo.title",children:Object(r.jsx)(T.a.Body,{children:Object(r.jsxs)(Qe.a,{children:[Object(r.jsx)(Qe.a.Item,{children:Object(r.jsx)(Mt.b,{size:"2x",mode:Mt.a.CREATED,time:he.DateTime.local().minus({days:11}),userName:"Tilman",profileImageSrc:"/img/avatar.png"})}),Object(r.jsx)(Qe.a.Item,{children:Object(r.jsx)(Mt.b,{size:"2x",mode:Mt.a.EDITED,time:he.DateTime.local().minus({minutes:3}),userName:"Philip",profileImageSrc:"/img/avatar.png"})}),Object(r.jsx)(Qe.a.Item,{children:Object(r.jsx)(Dt.a,{icon:"users",size:"2x",children:Object(r.jsx)(I.a,{i18nKey:"editor.modal.documentInfo.usersContributed",children:Object(r.jsx)(Kt,{text:"42"})})})}),Object(r.jsx)(Qe.a.Item,{children:Object(r.jsx)(Dt.a,{icon:"history",size:"2x",children:Object(r.jsx)(I.a,{i18nKey:"editor.modal.documentInfo.revisions",children:Object(r.jsx)(Kt,{text:"192"})})})})]})})})},Bt=function(e){var t=e.className,n=e.hide,c=Object(a.useState)(!1),s=Object(i.a)(c,2),l=s[0],u=s[1];return Object(o.a)(),Object(r.jsxs)(a.Fragment,{children:[Object(r.jsx)(Rt,{hide:n,className:t,icon:"line-chart",onClick:function(){return u(!0)},children:Object(r.jsx)(I.a,{i18nKey:"editor.modal.documentInfo.title"})}),Object(r.jsx)(Pt,{show:l,onHide:function(){return u(!1)}})]})},Ft=n(35),Ht=n(175),Wt=function(){Object(o.a)();var e=Object(f.a)(),t=Object(a.useCallback)((function(){Object(Ht.a)(e,"title.md","text/markdown")}),[e]);return Object(r.jsx)(Rt,{"data-cy":"menu-export-markdown",onClick:t,icon:"file-text",children:Object(r.jsx)(I.a,{i18nKey:"editor.export.markdown-file"})})},At=function(e){var t=e.children,n=e.expand;return Object(r.jsx)("div",{className:"sidebar-menu ".concat(n?"show":""),children:Object(r.jsx)("div",{className:"d-flex flex-column",children:t})})};!function(e){e[e.NONE=0]="NONE",e[e.USERS_ONLINE=1]="USERS_ONLINE",e[e.IMPORT=2]="IMPORT",e[e.EXPORT=3]="EXPORT"}(it||(it={}));var Vt,Ut=function(e){var t=e.className,n=e.menuId,c=e.onClick,i=e.selectedMenuId;Object(o.a)();var s=i!==it.NONE&&i!==n,l=i===n,u=Object(a.useCallback)((function(){c(n)}),[n,c]);return Object(r.jsxs)(a.Fragment,{children:[Object(r.jsx)(Rt,{"data-cy":"menu-export",hide:s,icon:l?"arrow-left":"cloud-download",className:t,onClick:u,children:Object(r.jsx)(I.a,{i18nKey:"editor.documentBar.export"})}),Object(r.jsxs)(At,{expand:l,children:[Object(r.jsx)(Rt,{icon:"github",children:"Gist"}),Object(r.jsx)(Rt,{icon:"gitlab",children:"Gitlab Snippet"}),Object(r.jsx)(Wt,{}),Object(r.jsx)(Rt,{icon:"file-code-o",children:"HTML"}),Object(r.jsx)(Rt,{icon:"file-code-o",children:Object(r.jsx)(I.a,{i18nKey:"editor.export.rawHtml"})}),Object(r.jsx)(Rt,{icon:"file-pdf-o",children:Object(r.jsxs)("a",{className:"small text-muted",dir:"auto",href:Ft.faq,target:"_blank",rel:"noopener noreferrer",children:[Object(r.jsx)(I.a,{i18nKey:"editor.export.pdf"}),"\xa0",Object(r.jsx)("span",{className:"text-primary",children:Object(r.jsx)(I.a,{i18nKey:"common.why"})})]})})]})]})},_t=function(){var e=Object(f.a)();Object(o.a)();var t=Object(a.useCallback)((function(t){return new Promise((function(n,c){var r=new FileReader;r.addEventListener("load",(function(){var t=r.result;Object(O.d)(0===e.length?t:"".concat(e,"\n").concat(t))})),r.addEventListener("loadend",(function(){n()})),r.addEventListener("error",(function(e){c(e)})),r.readAsText(t)}))}),[e]),n=Object(a.useRef)(),c=Object(a.useCallback)((function(){var e;null===(e=n.current)||void 0===e||e.call(n)}),[]);return Object(r.jsxs)(a.Fragment,{children:[Object(r.jsx)(Rt,{"data-cy":"menu-import-markdown",icon:"file-text-o",onClick:c,children:Object(r.jsx)(I.a,{i18nKey:"editor.import.file"})}),Object(r.jsx)(ft,{onLoad:t,"data-cy":"menu-import-markdown-input",acceptedFiles:".md, text/markdown, text/plain",onClickRef:n})]})},Gt=function(e){var t=e.className,n=e.menuId,c=e.onClick,i=e.selectedMenuId;Object(o.a)();var s=i!==it.NONE&&i!==n,l=i===n,u=Object(a.useCallback)((function(){c(n)}),[n,c]);return Object(r.jsxs)(a.Fragment,{children:[Object(r.jsx)(Rt,{"data-cy":"menu-import",hide:s,icon:l?"arrow-left":"cloud-upload",className:t,onClick:u,children:Object(r.jsx)(I.a,{i18nKey:"editor.documentBar.import"})}),Object(r.jsxs)(At,{expand:l,children:[Object(r.jsx)(Rt,{icon:"github",children:"Gist"}),Object(r.jsx)(Rt,{icon:"gitlab",children:"Gitlab Snippet"}),Object(r.jsx)(Rt,{icon:"clipboard",children:Object(r.jsx)(I.a,{i18nKey:"editor.import.clipboard"})}),Object(r.jsx)(_t,{})]})]})},zt=n(166),qt=n(57),$t=n(58),Xt=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(Object(qt.a)(this,e),this.store=new Map,this.entryLifetime=void 0,this.maxEntries=void 0,t<0)throw new Error("Cache entry lifetime can not be less than 0 seconds.");this.entryLifetime=t,this.maxEntries=n}return Object($t.a)(e,[{key:"has",value:function(e){if(!this.store.has(e))return!1;var t=this.store.get(e);return!!t&&t.entryCreated>=Date.now()-1e3*this.entryLifetime}},{key:"get",value:function(e){var t=this.store.get(e);if(!t)throw new Error('This cache entry does not exist. Check with ".has()" before using ".get()".');return t.data}},{key:"put",value:function(e,t){this.maxEntries>0&&this.store.size===this.maxEntries&&this.store.delete(this.store.keys().next().value),this.store.set(e,{entryCreated:Date.now(),data:t})}}]),e}(),Yt=n(13),Jt=new Xt(600),Qt=function(){var e=Object(z.a)(G.a.mark((function e(t){var n,c;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Jt.has(t)){e.next=2;break}return e.abrupt("return",Jt.get(t));case 2:return e.next=4,fetch("".concat(Object(Yt.c)(),"/users/").concat(t),Object(C.a)({},Yt.a));case 4:return n=e.sent,Object(Yt.b)(n),e.next=8,n.json();case 8:return c=e.sent,Jt.put(t,c),e.abrupt("return",c);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Zt=n(113),en=n(428),tn=n(110);!function(e){e[e.NONE=0]="NONE",e[e.VIEW=1]="VIEW",e[e.EDIT=2]="EDIT"}(Vt||(Vt={}));var nn,cn=function(e){var t=e.title,n=e.editMode,c=e.onChangeEditMode,i=Object(o.a)().t;return Object(r.jsxs)("li",{className:"list-group-item d-flex flex-row justify-content-between align-items-center",children:[Object(r.jsx)(I.a,{i18nKey:t}),Object(r.jsxs)(en.a,{type:"radio",name:"edit-mode",value:n,onChange:c,children:[Object(r.jsx)(tn.a,{title:i("editor.modal.permissions.denyGroup",{name:i(t)}),variant:"light",className:"text-secondary",value:Vt.NONE,children:Object(r.jsx)(Ye.a,{icon:"ban"})}),Object(r.jsx)(tn.a,{title:i("editor.modal.permissions.viewOnlyGroup",{name:i(t)}),variant:"light",className:"text-secondary",value:Vt.VIEW,children:Object(r.jsx)(Ye.a,{icon:"eye"})}),Object(r.jsx)(tn.a,{title:i("editor.modal.permissions.editGroup",{name:i(t)}),variant:"light",className:"text-secondary",value:Vt.EDIT,children:Object(r.jsx)(Ye.a,{icon:"pencil"})})]})]})},rn=n(167),an=n(162);!function(e){e[e.VIEW=0]="VIEW",e[e.EDIT=1]="EDIT"}(nn||(nn={}));var on,sn=function(e){var t=e.list,n=e.identifier,c=e.changeEditMode,s=e.removeEntry,l=e.createEntry,u=e.editI18nKey,d=e.viewI18nKey,j=e.removeI18nKey,b=e.addI18nKey,f=Object(o.a)().t,h=Object(a.useState)(""),O=Object(i.a)(h,2),m=O[0],x=O[1],p=function(){l(m),x("")};return Object(r.jsxs)("ul",{className:"list-group",children:[t.map((function(e){return Object(r.jsxs)("li",{className:"list-group-item d-flex flex-row justify-content-between align-items-center",children:[n(e),Object(r.jsxs)("div",{children:[Object(r.jsx)(S.a,{variant:"light",className:"text-danger mr-2",title:f(j,{name:e.name}),onClick:function(){return s(e.id)},children:Object(r.jsx)(Ye.a,{icon:"times"})}),Object(r.jsxs)(en.a,{type:"radio",name:"edit-mode",value:e.canEdit?nn.EDIT:nn.VIEW,onChange:function(t){return c(e.id,t===nn.EDIT)},children:[Object(r.jsx)(tn.a,{title:f(d,{name:e.name}),variant:"light",className:"text-secondary",value:nn.VIEW,children:Object(r.jsx)(Ye.a,{icon:"eye"})}),Object(r.jsx)(tn.a,{title:f(u,{name:e.name}),variant:"light",className:"text-secondary",value:nn.EDIT,children:Object(r.jsx)(Ye.a,{icon:"pencil"})})]})]})]},e.id)})),Object(r.jsx)("li",{className:"list-group-item",children:Object(r.jsx)("form",{onSubmit:function(e){e.preventDefault(),p()},children:Object(r.jsxs)(rn.a,{className:"mr-1 mb-1",children:[Object(r.jsx)(an.a,{value:m,placeholder:f(b),"aria-label":f(b),onChange:function(e){return x(e.currentTarget.value)}}),Object(r.jsx)(S.a,{variant:"light",className:"text-secondary ml-2",title:f(b),onClick:p,children:Object(r.jsx)(Ye.a,{icon:"plus"})})]})})})]})},ln={owner:"dermolly",sharedTo:[{username:"emcrx",canEdit:!0},{username:"mrdrogdrog",canEdit:!1}],sharedToGroup:[{id:"1",canEdit:!0},{id:"2",canEdit:!1}]},un=function(e){var t,n,c=e.show,s=e.onHide;Object(o.a)();var l=Object(a.useState)(!1),u=Object(i.a)(l,2),d=u[0],j=u[1],b=Object(a.useState)([]),f=Object(i.a)(b,2),h=f[0],O=f[1],m=Object(a.useState)(),p=Object(i.a)(m,2),v=p[0],g=p[1],y=Object(a.useState)(Vt.NONE),C=Object(i.a)(y,2),E=C[0],w=C[1],k=Object(a.useState)(Vt.NONE),N=Object(i.a)(k,2),S=N[0],L=N[1];Object(a.useEffect)((function(){Qt(ln.owner).then((function(e){g({name:e.name,photo:e.photo})})).catch((function(){return j(!0)})),ln.sharedTo.forEach((function(e){Qt(e.username).then((function(t){O((function(n){return n.concat([{id:t.id,name:t.name,photo:t.photo,canEdit:e.canEdit}])}))})).catch((function(){return j(!0)}))})),ln.sharedToGroup.forEach((function(e){"1"===e.id?w(e.canEdit?Vt.EDIT:Vt.VIEW):"2"===e.id&&L(e.canEdit?Vt.EDIT:Vt.VIEW)}))}),[]);return Object(r.jsx)(R.a,{show:c,onHide:s,closeButton:!0,titleI18nKey:"editor.modal.permissions.title",children:Object(r.jsxs)(T.a.Body,{children:[Object(r.jsx)("h5",{className:"mb-3",children:Object(r.jsx)(I.a,{i18nKey:"editor.modal.permissions.owner"})}),Object(r.jsx)(x.a,{condition:d,children:Object(r.jsx)(zt.a,{variant:"danger",children:Object(r.jsx)(I.a,{i18nKey:"editor.modal.permissions.error"})})}),Object(r.jsx)("ul",{className:"list-group",children:Object(r.jsx)("li",{className:"list-group-item d-flex flex-row align-items-center",children:Object(r.jsx)(Zt.a,{name:null!==(t=null===v||void 0===v?void 0:v.name)&&void 0!==t?t:"",photo:null!==(n=null===v||void 0===v?void 0:v.photo)&&void 0!==n?n:""})})}),Object(r.jsx)("h5",{className:"my-3",children:Object(r.jsx)(I.a,{i18nKey:"editor.modal.permissions.sharedWithUsers"})}),Object(r.jsx)(sn,{list:h,identifier:function(e){return Object(r.jsx)(Zt.a,{name:e.name,photo:e.photo})},changeEditMode:function(e,t){O((function(n){return n.map((function(n){return n.id===e&&(n.canEdit=t),n}))}))},removeEntry:function(e){O((function(t){return t.filter((function(t){return t.id!==e}))}))},createEntry:function(e){O((function(t){return t.concat({id:e,photo:"/img/avatar.png",name:e,canEdit:!1})}))},editI18nKey:"editor.modal.permissions.editUser",viewI18nKey:"editor.modal.permissions.viewOnlyUser",removeI18nKey:"editor.modal.permissions.removeUser",addI18nKey:"editor.modal.permissions.addUser"}),Object(r.jsx)("h5",{className:"my-3",children:Object(r.jsx)(I.a,{i18nKey:"editor.modal.permissions.sharedWithGroups"})}),Object(r.jsxs)("ul",{className:"list-group",children:[Object(r.jsx)(cn,{title:"editor.modal.permissions.allUser",editMode:E,onChangeEditMode:w}),Object(r.jsx)(cn,{title:"editor.modal.permissions.allLoggedInUser",editMode:S,onChangeEditMode:L})]})]})})},dn=function(e){var t=e.className,n=e.hide,c=Object(a.useState)(!1),s=Object(i.a)(c,2),l=s[0],u=s[1];return Object(o.a)(),Object(r.jsxs)(a.Fragment,{children:[Object(r.jsx)(Rt,{hide:n,className:t,icon:"lock",onClick:function(){return u(!0)},children:Object(r.jsx)(I.a,{i18nKey:"editor.modal.permissions.title"})}),Object(r.jsx)(un,{show:l,onHide:function(){return u(!1)}})]})},jn=function(e){var t=e.className,n=e.hide;Object(o.a)();return Object(r.jsx)(Rt,{icon:"thumb-tack",className:t,hide:n,children:Object(r.jsx)(I.a,{i18nKey:"editor.documentBar.pinNoteToHistory"})})},bn=n(436),fn=n(244),hn=n(995),On=n.n(hn),mn=new Xt(3600),xn=function(){var e=Object(z.a)(G.a.mark((function e(t,n){var c,r,i;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c="".concat(t,":").concat(n),!mn.has(c)){e.next=3;break}return e.abrupt("return",mn.get(c));case 3:return e.next=5,fetch(Object(Yt.c)()+"/notes/".concat(t,"/revisions/").concat(n),Object(C.a)({},Yt.a));case 5:return r=e.sent,Object(Yt.b)(r),e.next=9,r.json();case 9:return i=e.sent,mn.put(c,i),e.abrupt("return",i);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),pn=function(){var e=Object(z.a)(G.a.mark((function e(t){var n;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(Object(Yt.c)()+"/notes/".concat(t,"/revisions-list"),Object(C.a)({},Yt.a));case 2:return n=e.sent,Object(Yt.b)(n),e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),vn=function(e){var t,n=e.active,c=e.onClick,i=e.revision,a=e.revisionAuthorListMap;return Object(r.jsxs)(Qe.a.Item,{as:"li",active:n,onClick:c,className:"user-select-none revision-item d-flex flex-column",children:[Object(r.jsxs)("span",{children:[Object(r.jsx)(Ye.a,{icon:"clock-o",className:"mx-2"}),he.DateTime.fromMillis(1e3*i.timestamp).toFormat("DDDD T")]}),Object(r.jsxs)("span",{children:[Object(r.jsx)(Ye.a,{icon:"file-text-o",className:"mx-2"}),Object(r.jsx)(I.a,{i18nKey:"editor.modal.revision.length"}),": ",i.length]}),Object(r.jsxs)("span",{className:"d-flex flex-row my-1 align-items-center",children:[Object(r.jsx)(Ye.a,{icon:"user-o",className:"mx-2"}),null===(t=a.get(i.timestamp))||void 0===t?void 0:t.map((function(e,t){return Object(r.jsx)(Zt.a,{name:e.name,photo:e.photo,showName:!1,additionalClasses:"mx-1"},t)}))]})]})},gn=(n(1e3),function(e){var t=e.show,n=e.onHide;Object(o.a)();var c=Object(a.useState)([]),s=Object(i.a)(c,2),u=s[0],d=s[1],j=Object(a.useState)(null),b=Object(i.a)(j,2),h=b[0],O=b[1],m=Object(a.useState)(null),p=Object(i.a)(m,2),v=p[0],g=p[1],y=Object(a.useState)(!1),C=Object(i.a)(y,2),E=C[0],w=C[1],k=Object(a.useRef)(new Map),N=Object(Y.a)(),L=Object(l.m)().id;Object(a.useEffect)((function(){pn(L).then((function(e){e.forEach((function(e){var t=function(e){var t=[];return e.forEach((function(e,n){n>9||Qt(e).then((function(e){t.push(e)})).catch((function(e){return console.error(e)}))})),t}(e.authors);k.current.set(e.timestamp,t)})),d(e),e.length>=1&&O(e[0].timestamp)})).catch((function(){return w(!0)}))}),[d,w,L]),Object(a.useEffect)((function(){null!==h&&xn(L,h).then((function(e){g(e)})).catch((function(){return w(!0)}))}),[h,L]);var D=Object(f.a)();return Object(r.jsxs)(R.a,{show:t,onHide:n,titleI18nKey:"editor.modal.revision.title",icon:"history",closeButton:!0,size:"xl",additionalClasses:"revision-modal",children:[Object(r.jsx)(T.a.Body,{children:Object(r.jsxs)(bn.a,{children:[Object(r.jsx)(fn.a,{lg:4,className:"scroll-col",children:Object(r.jsx)(Qe.a,{as:"ul",children:u.map((function(e,t){return Object(r.jsx)(vn,{active:h===e.timestamp,revision:e,revisionAuthorListMap:k.current,onClick:function(){return O(e.timestamp)}},t)}))})}),Object(r.jsxs)(fn.a,{lg:8,className:"scroll-col",children:[Object(r.jsx)(x.a,{condition:E,children:Object(r.jsx)(zt.a,{variant:"danger",children:Object(r.jsx)(I.a,{i18nKey:"editor.modal.revision.error"})})}),Object(r.jsx)(x.a,{condition:!E&&!!v,children:Object(r.jsx)(On.a,{oldValue:null===v||void 0===v?void 0:v.content,newValue:D,splitView:!1,compareMethod:hn.DiffMethod.WORDS,useDarkTheme:N})})]})]})}),Object(r.jsxs)(T.a.Footer,{children:[Object(r.jsx)(S.a,{variant:"secondary",onClick:n,children:Object(r.jsx)(I.a,{i18nKey:"common.close"})}),Object(r.jsx)(S.a,{variant:"danger",disabled:!h,onClick:function(){return window.alert("Not yet implemented. Requires websocket.")},children:Object(r.jsx)(I.a,{i18nKey:"editor.modal.revision.revertButton"})}),Object(r.jsx)(S.a,{variant:"primary",disabled:!h,onClick:function(){return e=L,void((t=v)&&Object(Ht.a)(t.content,"".concat(e,"-").concat(t.timestamp,".md"),"text/markdown"));var e,t},children:Object(r.jsx)(I.a,{i18nKey:"editor.modal.revision.download"})})]})]})}),yn=function(e){var t=e.className,n=e.hide,c=Object(a.useState)(!1),o=Object(i.a)(c,2),s=o[0],l=o[1];return Object(r.jsxs)(a.Fragment,{children:[Object(r.jsx)(Rt,{hide:n,className:t,icon:"history",onClick:function(){return l(!0)},children:Object(r.jsx)(I.a,{i18nKey:"editor.modal.revision.title"})}),Object(r.jsx)(gn,{show:s,onHide:function(){return l(!1)}})]})},Cn=n(178),En=n(120),wn=function(e){var t=e.show,n=e.onHide;Object(o.a)();var c=Object(s.b)((function(e){return e.noteDetails.frontmatter}),k.a),i=Object(s.b)((function(e){return e.editorConfig.editorMode})),a=Object(Cn.a)(),u=Object(l.m)().id;return Object(r.jsx)(R.a,{show:t,onHide:n,closeButton:!0,titleI18nKey:"editor.modal.shareLink.title",children:Object(r.jsxs)(T.a.Body,{children:[Object(r.jsx)(I.a,{i18nKey:"editor.modal.shareLink.editorDescription"}),Object(r.jsx)(En.a,{content:"".concat(a,"/n/").concat(u,"?").concat(i),nativeShareButton:!0,url:"".concat(a,"/n/").concat(u,"?").concat(i)}),Object(r.jsxs)(x.a,{condition:"slide"===c.type,children:[Object(r.jsx)(I.a,{i18nKey:"editor.modal.shareLink.slidesDescription"}),Object(r.jsx)(En.a,{content:"".concat(a,"/p/").concat(u),nativeShareButton:!0,url:"".concat(a,"/p/").concat(u)})]}),Object(r.jsxs)(x.a,{condition:""===c.type,children:[Object(r.jsx)(I.a,{i18nKey:"editor.modal.shareLink.viewOnlyDescription"}),Object(r.jsx)(En.a,{content:"".concat(a,"/s/").concat(u),nativeShareButton:!0,url:"".concat(a,"/s/").concat(u)})]})]})})},kn=function(e){var t=e.className,n=e.hide,c=Object(a.useState)(!1),s=Object(i.a)(c,2),l=s[0],u=s[1];return Object(o.a)(),Object(r.jsxs)(a.Fragment,{children:[Object(r.jsx)(Rt,{hide:n,className:t,icon:"share",onClick:function(){return u(!0)},children:Object(r.jsx)(I.a,{i18nKey:"editor.modal.shareLink.title"})}),Object(r.jsx)(wn,{show:l,onHide:function(){return u(!1)}})]})};n(1001),n(1002);!function(e){e.ACTIVE="active",e.INACTIVE="inactive"}(on||(on={}));var Nn,Tn=function(e){var t=e.status;return Object(r.jsx)("span",{className:"activeIndicator ".concat(t)})},Sn=(n(1003),n(1004),function(e){var t=e.name,n=e.photo,c=e.color,i=e.status;return Object(r.jsxs)("div",{className:"d-flex align-items-center h-100 w-100",children:[Object(r.jsx)("div",{className:"d-inline-flex align-items-bottom user-line-color-indicator",style:{borderLeftColor:c}}),Object(r.jsx)(Zt.a,{photo:n,name:t,additionalClasses:"flex-fill overflow-hidden px-2 text-nowrap w-100"}),Object(r.jsx)("div",{className:"active-indicator-container",children:Object(r.jsx)(Tn,{status:i})})]})}),In=function(e){var t=e.className,n=e.menuId,c=e.onClick,s=e.selectedMenuId,l=Object(a.useRef)(null),u=Object(a.useState)(2),d=Object(i.a)(u,1)[0];Object(o.a)(),Object(a.useEffect)((function(){var e,t="".concat(d);null===(e=l.current)||void 0===e||e.style.setProperty("--users-online",'"'.concat(t,'"'))}),[d]);var j=s!==it.NONE&&s!==n,b=s===n,f=Object(a.useCallback)((function(){c(n)}),[n,c]);return Object(r.jsxs)(a.Fragment,{children:[Object(r.jsx)(Rt,{hide:j,buttonRef:l,onClick:f,icon:b?"arrow-left":"users",variant:"primary",className:"online-entry ".concat(null!==t&&void 0!==t?t:""),children:Object(r.jsx)(I.a,{i18nKey:"editor.onlineStatus.online"})}),Object(r.jsxs)(At,{expand:b,children:[Object(r.jsx)(Rt,{children:Object(r.jsx)(Sn,{name:"Philip Molares",photo:"/img/avatar.png",color:"red",status:on.INACTIVE})}),Object(r.jsx)(Rt,{children:Object(r.jsx)(Sn,{name:"Tilman Vatteroth",photo:"/img/avatar.png",color:"blue",status:on.ACTIVE})})]})]})},Rn=function(){var e=Object(a.useRef)(null),t=Object(a.useState)(it.NONE),n=Object(i.a)(t,2),c=n[0],o=n[1];Object(X.a)(e,(function(){o(it.NONE)}));var s=Object(a.useCallback)((function(e){var t=c===e?it.NONE:e;o(t)}),[c]),l=c!==it.NONE;return Object(r.jsx)("div",{className:"slide-sidebar",children:Object(r.jsxs)("div",{ref:e,className:"sidebar-inner ".concat(l?"show":""),children:[Object(r.jsx)(In,{menuId:it.USERS_ONLINE,selectedMenuId:c,onClick:s}),Object(r.jsx)(Bt,{hide:l}),Object(r.jsx)(yn,{hide:l}),Object(r.jsx)(dn,{hide:l}),Object(r.jsx)(Gt,{menuId:it.IMPORT,selectedMenuId:c,onClick:s}),Object(r.jsx)(Ut,{menuId:it.EXPORT,selectedMenuId:c,onClick:s}),Object(r.jsx)(kn,{hide:l}),Object(r.jsx)(Lt,{hide:l}),Object(r.jsx)(jn,{hide:l})]})})},Ln=(n(1005),function(e){var t=e.onGrab;return Object(r.jsx)("div",{onMouseDown:function(){return t()},onTouchStart:function(){return t()},className:"split-divider"})}),Dn=(n(1006),function(e){var t=e.containerClassName,n=e.left,c=e.right,o=e.showLeft,s=e.showRight,l=Object(a.useState)(50),u=Object(i.a)(l,2),d=u[0],j=u[1],b=Math.max(0,Math.min(100,s?d:100)),f=Object(a.useState)(!1),h=Object(i.a)(f,2),O=h[0],m=h[1],p=Object(a.useRef)(null),v=function(e){if(p.current){var t=(e-p.current.offsetLeft)/p.current.clientWidth;j(100*t)}},g=Object(a.useCallback)((function(){m(!1)}),[]),y=Object(a.useCallback)((function(e){O&&(v(e.pageX),e.preventDefault())}),[O]),C=Object(a.useCallback)((function(e){O&&(v(e.touches[0].pageX),e.preventDefault())}),[O]),E=Object(a.useCallback)((function(){return m(!0)}),[]);return Object(r.jsxs)("div",{ref:p,className:"flex-fill flex-row d-flex ".concat(t||""),onMouseUp:g,onTouchEnd:g,onMouseMove:y,onTouchMove:C,children:[Object(r.jsx)("div",{className:"splitter left ".concat(o?"":"d-none"),style:{flexBasis:"calc(".concat(b,"% - 5px)")},children:n}),Object(r.jsx)(x.a,{condition:o&&s,children:Object(r.jsx)("div",{className:"splitter separator",children:Object(r.jsx)(Ln,{onGrab:E})})}),Object(r.jsx)("div",{className:"splitter right ".concat(s?"":"d-none"),children:c})]})});!function(e){e[e.EDITOR=0]="EDITOR",e[e.RENDERER=1]="RENDERER"}(Nn||(Nn={}));var Mn=function(){Object(o.a)();var e=Object(l.l)().search,t=Object(f.a)(),n=d()({minWidth:576},!0),c=Object(a.useRef)(Nn.EDITOR),u=Object(s.b)((function(e){return e.editorConfig.editorMode})),C=Object(s.b)((function(e){return e.editorConfig.syncScroll})),E=Object(a.useState)((function(){return{editorScrollState:{firstLineInView:1,scrolledPercentage:0},rendererScrollState:{firstLineInView:1,scrolledPercentage:0}}})),w=Object(i.a)(E,2),k=w[0],N=w[1];Object(a.useEffect)((function(){var t=e.substr(1),n=Object.values(y.a).find((function(e){return e===t}));n&&Object(h.e)(n)}),[e]),Object(a.useEffect)((function(){n||u!==y.a.BOTH||Object(h.e)(y.a.PREVIEW)}),[u,n]);var T=Object(a.useCallback)((function(e){c.current===Nn.RENDERER&&C&&N((function(t){return{editorScrollState:e,rendererScrollState:t.rendererScrollState}}))}),[C]),S=Object(a.useCallback)((function(e){c.current===Nn.EDITOR&&C&&N((function(t){return{rendererScrollState:e,editorScrollState:t.editorScrollState}}))}),[C]);Object(a.useEffect)((function(){return document.addEventListener("keydown",Tt,!1),function(){document.removeEventListener("keydown",Tt,!1)}}),[]),Object(j.a)(),Object(b.a)();var I=Object(Nt.a)(),R=Object(i.a)(I,2),L=R[0],D=R[1],M=Object(a.useCallback)((function(){c.current=Nn.RENDERER}),[]),K=Object(a.useCallback)((function(){c.current=Nn.EDITOR}),[]);return Object(r.jsxs)(a.Fragment,{children:[Object(r.jsx)(m.a,{}),Object(r.jsxs)("div",{className:"d-flex flex-column vh-100",children:[Object(r.jsx)(g.a,{mode:g.b.EDITOR}),Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)(p.a,{show:L}),Object(r.jsx)(v.a,{show:D})]}),Object(r.jsx)(x.a,{condition:!L&&!D,children:Object(r.jsxs)("div",{className:"flex-fill d-flex h-100 w-100 overflow-hidden flex-row",children:[Object(r.jsx)(Dn,{showLeft:u===y.a.EDITOR||u===y.a.BOTH,left:Object(r.jsx)(kt,{onContentChange:O.d,content:t,scrollState:k.editorScrollState,onScroll:S,onMakeScrollSource:K}),showRight:u===y.a.PREVIEW||u===y.a.BOTH,right:Object(r.jsx)(St.a,{markdownContent:t,onMakeScrollSource:M,onFirstHeadingChange:O.e,onTaskCheckedChange:O.a,onFrontmatterChange:O.c,onScroll:T,wide:u===y.a.PREVIEW,scrollState:k.rendererScrollState}),containerClassName:"overflow-hidden"}),Object(r.jsx)(Rn,{})]})})]})]})};t.default=Mn},990:function(e,t,n){},991:function(e,t,n){},992:function(e,t,n){},993:function(e,t,n){},994:function(e,t,n){}}]);
//# sourceMappingURL=15.9e9192c1.chunk.js.map