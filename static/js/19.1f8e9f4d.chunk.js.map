{"version":3,"sources":["../node_modules/d3-graphviz/node_modules/d3-zoom/src/constant.js","../node_modules/d3-graphviz/node_modules/d3-zoom/src/event.js","../node_modules/d3-graphviz/node_modules/d3-zoom/src/transform.js","../node_modules/d3-graphviz/node_modules/d3-zoom/src/noevent.js","../node_modules/d3-graphviz/node_modules/d3-zoom/src/zoom.js","../node_modules/d3-graphviz/node_modules/d3-path/src/path.js","../../src/element.js","../../src/utils.js","../../src/zoom.js","../../src/tweening.js","../../src/data.js","../../src/render.js","../../src/svg.js","../../src/dot.js","../../src/renderDot.js","../../src/transition.js","../../src/options.js","../../src/width.js","../../src/height.js","../../src/scale.js","../../src/fit.js","../../src/attributer.js","../../src/engine.js","../../src/images.js","../../src/keyMode.js","../../src/fade.js","../../src/tweenPaths.js","../../src/tweenShapes.js","../../src/convertEqualSidedPolygons.js","../../src/tweenPrecision.js","../../src/growEnteringEdges.js","../../src/on.js","../../src/onerror.js","../../src/logEvents.js","../../src/destroy.js","../../src/geometry.js","../../src/drawEdge.js","../../src/drawNode.js","../../src/workerCode.js","../../src/graphviz.js","../../src/selection/graphviz.js","../../src/selection/selectWithoutDataPropagation.js","../../src/selection/index.js"],"names":["x","ZoomEvent","target","type","transform","this","Transform","k","y","prototype","constructor","scale","translate","apply","point","applyX","applyY","invert","location","invertX","invertY","rescaleX","copy","domain","range","map","rescaleY","toString","identity","node","__zoom","nopropagation","event","stopImmediatePropagation","preventDefault","defaultFilter","button","defaultExtent","w","h","e","SVGElement","ownerSVGElement","width","baseVal","value","height","clientWidth","clientHeight","defaultTransform","defaultWheelDelta","deltaY","deltaMode","defaultTouchable","defaultConstrain","extent","translateExtent","dx0","dx1","dy0","dy1","Math","min","max","touchstarting","touchending","filter","constrain","wheelDelta","touchable","scaleExtent","Infinity","duration","interpolate","interpolateZoom","gestures","listeners","dispatch","touchDelay","clickDistance2","zoom","selection","property","on","wheeled","mousedowned","dblclicked","touchstarted","touchmoved","touchended","style","p0","p1","centroid","schedule","transition","center","gesture","arguments","start","end","tween","that","args","g","p","a","b","i","concat","t","l","n","length","Gesture","index","active","pow","mouse","wheel","clearTimeout","interrupt","noevent","setTimeout","wheelidled","v","select","view","mousemoved","mouseupped","x0","clientX","y0","clientY","dragDisable","moved","dx","dy","dragEnable","t0","k1","shiftKey","t1","call","started","touches","changedTouches","touch","identifier","touch0","touch1","l0","l1","dp","dl","sqrt","collection","each","scaleBy","scaleTo","k0","translateBy","translateTo","push","emit","key","splice","customEvent","_","constant","clickDistance","pi","PI","tau","epsilon","tauEpsilon","Path","_x0","_y0","_x1","_y1","path","moveTo","closePath","lineTo","quadraticCurveTo","x1","y1","bezierCurveTo","x2","y2","arcTo","r","x21","y21","x01","y01","l01_2","Error","abs","x20","y20","l21_2","l20_2","l21","l01","tan","acos","t01","t21","arc","a0","a1","ccw","cos","sin","cw","da","rect","datum","tag","element","attributes","attribute","name","points","ymin","ymax","matrix","f","cy","xmin","xmax","bbox","d","extractElementData","d3","children","childData","extractAllElementsData","data","document","elementNode","createElement","Object","attributeName","attributeValue","parent","newElementNode","createElementWithAttributes","newElement","insertElementData","insertAllElementsData","childrenEnter","childrenExit","childTagIndexes","childTag","childIndex","attributeElement","currentAttributes","currentAttribute","namespaceURIParts","namespace","insertChildren","_options","createZoomBehavior","svg","root","zoomBehavior","translateZoomBehaviorTransform","zoomTransform","oldTranslation","oldScale","newTranslation","newScale","_zoomSelection","getTranslatedZoomTransform","zoomIdentity","_zoomBehavior","pointInterpolators","path0","path1","n0","n1","distances","dt","precisionIsRelative","precision","_data","isEdgeElementParent","getEdgeGroup","render","bind","timeout","_render","transitionInstance","fade","tweenPaths","tweenShapes","convertEqualSidedPolygons","growEnteringEdges","attributer","graphvizInstance","childEnter","childElementsEnter","options","convertShape","convertPrevShape","nodeName","prevPoints","prevData","nPrevPoints","prevPathData","pathElement","replaceElement","elementTransition","totalLength","isEdgeElement","edgePath","p2","angle1","angle","tweenThisPath","pathTween","onEnd","interpolateTransformSvg","nodes","jobs","callback","originalData","newData","shallowCopyObject","newAttributes","originalAttributes","newPointsString","guideData","pointStrings","pointsString","normPoints","xy","newPointStrings","cx","rx","ry","sx","sy","cosA","sinA","roundTo2Decimals","commands","arr","graphviz","graphvizSync","graphviz1","_worker","vizURL","window","postMessage","dot","engine","vizOptions","svgDoc","layoutSync","src","error","message","images","layoutDone","keyMode","tweenPrecision","includes","split","tweenPrecisionIsRelative","dictionary","prevDictionary","_dictionary","nodeDictionary","prevNodeDictionary","_nodeDictionary","title","id","parentData","prevDatum","convertToPathData","attribute_d","oldNode","pathTweenPoints","setKey","setId","addToDictionary","calculateAlternativeShapeData","calculatePathTweenPoints","postProcessDataPass1Local","nodeId","child","getEdgeTitle","nodeIds","startNodeId","startNode","prevStartNode","j","startShapes","startShape","prevStartShapes","prevStartShape","addToNodeDictionary","extractGrowingEdgesData","postProcessDataPass2Global","newDoc","doc","parser","_queue","job","d3_active","option","_keyModes","has","Date","times","eventTypes","maxEventTypeLength","eventType","enable","seqNo","string","format","repeat","expectedDelay","expectedDuration","actualDelay","actualDuration","console","_selection","newEdge","graph0","edgeData","createEdge","_updateEdge","edge","_drawnEdge","_moveEdge","shortening","arrowHeadLength","arrowHeadWidth","margin","arrowHeadPoints","line","arrowHead","d3_path","rotate","allPoints","pointsAttr","graph0Datum","_extractData","attributesString","dotSrc","newNode","nodeData","createNode","_updateNode","_drawnNode","_moveNode","subParent","svgElements","text","svgElement","translatePointsAttribute","translateDAttribute","ga","self","port","hpccWasm","importScripts","workerCodeBody","useWorker","useSharedWorker","zoomScaleExtent","zoomTranslateExtent","fit","Worker","SharedWorker","vizScript","url","btoa","sharedWorkerCode","close","blob","Blob","workerCode","blobURL","terminate","Set","initViz","Graphviz","size","querySelector","addImage","resetZoom","zoomSelection","layout","renderDot","onerror","logEvents","destroy","drawEdge","updateDrawnEdge","moveDrawnEdgeEndPoint","insertDrawnEdge","removeDrawnEdge"],"mappings":"mUAAe,WAASA,GACtB,OAAO,WACL,OAAOA,ICFI,SAASC,EAAUC,EAAQC,EAAMC,GAC9CC,KAAKH,OAASA,EACdG,KAAKF,KAAOA,EACZE,KAAKD,UAAYA,ECHZ,SAASE,EAAUC,EAAGP,EAAGQ,GAC9BH,KAAKE,EAAIA,EACTF,KAAKL,EAAIA,EACTK,KAAKG,EAAIA,EAGXF,EAAUG,UAAY,CACpBC,YAAaJ,EACbK,MAAO,SAASJ,GACd,OAAa,IAANA,EAAUF,KAAO,IAAIC,EAAUD,KAAKE,EAAIA,EAAGF,KAAKL,EAAGK,KAAKG,IAEjEI,UAAW,SAASZ,EAAGQ,GACrB,OAAa,IAANR,EAAgB,IAANQ,EAAUH,KAAO,IAAIC,EAAUD,KAAKE,EAAGF,KAAKL,EAAIK,KAAKE,EAAIP,EAAGK,KAAKG,EAAIH,KAAKE,EAAIC,IAEjGK,MAAO,SAASC,GACd,MAAO,CAACA,EAAM,GAAKT,KAAKE,EAAIF,KAAKL,EAAGc,EAAM,GAAKT,KAAKE,EAAIF,KAAKG,IAE/DO,OAAQ,SAASf,GACf,OAAOA,EAAIK,KAAKE,EAAIF,KAAKL,GAE3BgB,OAAQ,SAASR,GACf,OAAOA,EAAIH,KAAKE,EAAIF,KAAKG,GAE3BS,OAAQ,SAASC,GACf,MAAO,EAAEA,EAAS,GAAKb,KAAKL,GAAKK,KAAKE,GAAIW,EAAS,GAAKb,KAAKG,GAAKH,KAAKE,IAEzEY,QAAS,SAASnB,GAChB,OAAQA,EAAIK,KAAKL,GAAKK,KAAKE,GAE7Ba,QAAS,SAASZ,GAChB,OAAQA,EAAIH,KAAKG,GAAKH,KAAKE,GAE7Bc,SAAU,SAASrB,GACjB,OAAOA,EAAEsB,OAAOC,OAAOvB,EAAEwB,QAAQC,IAAIpB,KAAKc,QAASd,MAAMoB,IAAIzB,EAAEiB,OAAQjB,KAEzE0B,SAAU,SAASlB,GACjB,OAAOA,EAAEc,OAAOC,OAAOf,EAAEgB,QAAQC,IAAIpB,KAAKe,QAASf,MAAMoB,IAAIjB,EAAES,OAAQT,KAEzEmB,SAAU,WACR,MAAO,aAAetB,KAAKL,EAAI,IAAMK,KAAKG,EAAI,WAAaH,KAAKE,EAAI,MAIjE,IAAIqB,EAAW,IAAItB,EAAU,EAAG,EAAG,GAI3B,SAASF,EAAUyB,GAChC,OAAOA,EAAKC,QAAUF,EC9CjB,SAASG,IACdC,IAAMC,2BD0CR7B,EAAUK,UAAYH,EAAUG,UCvCjB,iBACbuB,IAAME,iBACNF,IAAMC,4BCGR,SAASE,IACP,OAAQH,IAAMI,OAGhB,SAASC,IACP,IAAcC,EAAGC,EAAbC,EAAInC,KASR,OARImC,aAAaC,YAEfH,GADAE,EAAIA,EAAEE,iBAAmBF,GACnBG,MAAMC,QAAQC,MACpBN,EAAIC,EAAEM,OAAOF,QAAQC,QAErBP,EAAIE,EAAEO,YACNR,EAAIC,EAAEQ,cAED,CAAC,CAAC,EAAG,GAAI,CAACV,EAAGC,IAGtB,SAASU,IACP,OAAO5C,KAAKyB,QAAUF,EAGxB,SAASsB,IACP,OAAQlB,IAAMmB,QAAUnB,IAAMoB,UAAY,IAAM,GAAK,IAGvD,SAASC,IACP,MAAO,iBAAkBhD,KAG3B,SAASiD,EAAiBlD,EAAWmD,EAAQC,GAC3C,IAAIC,EAAMrD,EAAUe,QAAQoC,EAAO,GAAG,IAAMC,EAAgB,GAAG,GAC3DE,EAAMtD,EAAUe,QAAQoC,EAAO,GAAG,IAAMC,EAAgB,GAAG,GAC3DG,EAAMvD,EAAUgB,QAAQmC,EAAO,GAAG,IAAMC,EAAgB,GAAG,GAC3DI,EAAMxD,EAAUgB,QAAQmC,EAAO,GAAG,IAAMC,EAAgB,GAAG,GAC/D,OAAOpD,EAAUQ,UACf8C,EAAMD,GAAOA,EAAMC,GAAO,EAAIG,KAAKC,IAAI,EAAGL,IAAQI,KAAKE,IAAI,EAAGL,GAC9DE,EAAMD,GAAOA,EAAMC,GAAO,EAAIC,KAAKC,IAAI,EAAGH,IAAQE,KAAKE,IAAI,EAAGH,IAInD,iBACb,IAWII,EACAC,EAZAC,EAAS/B,EACToB,EAASlB,EACT8B,EAAYb,EACZc,EAAalB,EACbmB,EAAYhB,EACZiB,EAAc,CAAC,EAAGC,KAClBf,EAAkB,CAAC,EAAEe,KAAWA,KAAW,CAACA,IAAUA,MACtDC,EAAW,IACXC,EAAcC,IACdC,EAAW,GACXC,EAAYC,YAAS,QAAS,OAAQ,OAGtCC,EAAa,IAEbC,EAAiB,EAErB,SAASC,EAAKC,GACZA,EACKC,SAAS,SAAUjC,GACnBkC,GAAG,aAAcC,GACjBD,GAAG,iBAAkBE,GACrBF,GAAG,gBAAiBG,GACtBpB,OAAOG,GACLc,GAAG,kBAAmBI,GACtBJ,GAAG,iBAAkBK,GACrBL,GAAG,iCAAkCM,GACrCC,MAAM,eAAgB,QACtBA,MAAM,8BAA+B,iBA0D5C,SAAS/E,EAAMP,EAAWG,GAExB,OADAA,EAAIsD,KAAKE,IAAIO,EAAY,GAAIT,KAAKC,IAAIQ,EAAY,GAAI/D,OACzCH,EAAUG,EAAIH,EAAY,IAAIE,EAAUC,EAAGH,EAAUJ,EAAGI,EAAUI,GAGjF,SAASI,EAAUR,EAAWuF,EAAIC,GAChC,IAAI5F,EAAI2F,EAAG,GAAKC,EAAG,GAAKxF,EAAUG,EAAGC,EAAImF,EAAG,GAAKC,EAAG,GAAKxF,EAAUG,EACnE,OAAOP,IAAMI,EAAUJ,GAAKQ,IAAMJ,EAAUI,EAAIJ,EAAY,IAAIE,EAAUF,EAAUG,EAAGP,EAAGQ,GAG5F,SAASqF,EAAStC,GAChB,MAAO,GAAGA,EAAO,GAAG,KAAMA,EAAO,GAAG,IAAM,IAAKA,EAAO,GAAG,KAAMA,EAAO,GAAG,IAAM,GAGjF,SAASuC,EAASC,EAAY3F,EAAW4F,GACvCD,EACKZ,GAAG,cAAc,WAAac,EAAQ5F,KAAM6F,WAAWC,WACvDhB,GAAG,2BAA2B,WAAac,EAAQ5F,KAAM6F,WAAWE,SACpEC,MAAM,QAAQ,WACb,IAAIC,EAAOjG,KACPkG,EAAOL,UACPM,EAAIP,EAAQK,EAAMC,GAClB/D,EAAIe,EAAO1C,MAAMyF,EAAMC,GACvBE,EAAIT,GAAUH,EAASrD,GACvBF,EAAIuB,KAAKE,IAAIvB,EAAE,GAAG,GAAKA,EAAE,GAAG,GAAIA,EAAE,GAAG,GAAKA,EAAE,GAAG,IAC/CkE,EAAIJ,EAAKxE,OACT6E,EAAyB,oBAAdvG,EAA2BA,EAAUS,MAAMyF,EAAMC,GAAQnG,EACpEwG,EAAInC,EAAYiC,EAAEzF,OAAOwF,GAAGI,OAAOvE,EAAIoE,EAAEnG,GAAIoG,EAAE1F,OAAOwF,GAAGI,OAAOvE,EAAIqE,EAAEpG,IAC1E,OAAO,SAASuG,GACd,GAAU,IAANA,EAASA,EAAIH,MACZ,CAAE,IAAII,EAAIH,EAAEE,GAAIvG,EAAI+B,EAAIyE,EAAE,GAAID,EAAI,IAAIxG,EAAUC,EAAGkG,EAAE,GAAKM,EAAE,GAAKxG,EAAGkG,EAAE,GAAKM,EAAE,GAAKxG,GACvFiG,EAAExB,KAAK,KAAM8B,OAKvB,SAASb,EAAQK,EAAMC,GACrB,IAAK,IAAgCC,EAA5BI,EAAI,EAAGI,EAAIrC,EAASsC,OAAWL,EAAII,IAAKJ,EAC/C,IAAKJ,EAAI7B,EAASiC,IAAIN,OAASA,EAC7B,OAAOE,EAGX,OAAO,IAAIU,EAAQZ,EAAMC,GAG3B,SAASW,EAAQZ,EAAMC,GACrBlG,KAAKiG,KAAOA,EACZjG,KAAKkG,KAAOA,EACZlG,KAAK8G,OAAS,EACd9G,KAAK+G,OAAS,EACd/G,KAAKkD,OAASA,EAAO1C,MAAMyF,EAAMC,GAgCnC,SAASnB,IACP,GAAKlB,EAAOrD,MAAMR,KAAM6F,WAAxB,CACA,IAAIM,EAAIP,EAAQ5F,KAAM6F,WAClBY,EAAIzG,KAAKyB,OACTvB,EAAIsD,KAAKE,IAAIO,EAAY,GAAIT,KAAKC,IAAIQ,EAAY,GAAIwC,EAAEvG,EAAIsD,KAAKwD,IAAI,EAAGjD,EAAWvD,MAAMR,KAAM6F,cAC/FO,EAAIa,YAAMjH,MAId,GAAImG,EAAEe,MACAf,EAAEc,MAAM,GAAG,KAAOb,EAAE,IAAMD,EAAEc,MAAM,GAAG,KAAOb,EAAE,KAChDD,EAAEc,MAAM,GAAKR,EAAE7F,OAAOuF,EAAEc,MAAM,GAAKb,IAErCe,aAAahB,EAAEe,WAIZ,IAAIT,EAAEvG,IAAMA,EAAG,OAIlBiG,EAAEc,MAAQ,CAACb,EAAGK,EAAE7F,OAAOwF,IACvBgB,oBAAUpH,MACVmG,EAAEL,QAGJuB,IACAlB,EAAEe,MAAQI,WAAWC,EArLN,KAsLfpB,EAAExB,KAAK,QAASb,EAAUvD,EAAUD,EAAMmG,EAAGvG,GAAIiG,EAAEc,MAAM,GAAId,EAAEc,MAAM,IAAKd,EAAEjD,OAAQC,IAEpF,SAASoE,IACPpB,EAAEe,MAAQ,KACVf,EAAEJ,OAIN,SAASf,IACP,IAAIpB,GAAgBC,EAAOrD,MAAMR,KAAM6F,WAAvC,CACA,IAAIM,EAAIP,EAAQ5F,KAAM6F,WAClB2B,EAAIC,YAAO9F,IAAM+F,MAAM5C,GAAG,iBAAkB6C,GAAY,GAAM7C,GAAG,eAAgB8C,GAAY,GAC7FxB,EAAIa,YAAMjH,MACV6H,EAAKlG,IAAMmG,QACXC,EAAKpG,IAAMqG,QAEfC,YAAYtG,IAAM+F,MAClBhG,IACAyE,EAAEc,MAAQ,CAACb,EAAGpG,KAAKyB,OAAOb,OAAOwF,IACjCgB,oBAAUpH,MACVmG,EAAEL,QAEF,SAAS6B,IAEP,GADAN,KACKlB,EAAE+B,MAAO,CACZ,IAAIC,EAAKxG,IAAMmG,QAAUD,EAAIO,EAAKzG,IAAMqG,QAAUD,EAClD5B,EAAE+B,MAAQC,EAAKA,EAAKC,EAAKA,EAAK1D,EAEhCyB,EAAExB,KAAK,QAASb,EAAUvD,EAAU4F,EAAEF,KAAKxE,OAAQ0E,EAAEc,MAAM,GAAKA,YAAMd,EAAEF,MAAOE,EAAEc,MAAM,IAAKd,EAAEjD,OAAQC,IAGxG,SAASyE,IACPJ,EAAE1C,GAAG,8BAA+B,MACpCuD,YAAW1G,IAAM+F,KAAMvB,EAAE+B,OACzBb,IACAlB,EAAEJ,OAIN,SAASd,IACP,GAAKpB,EAAOrD,MAAMR,KAAM6F,WAAxB,CACA,IAAIyC,EAAKtI,KAAKyB,OACV6D,EAAK2B,YAAMjH,MACXuF,EAAK+C,EAAG1H,OAAO0E,GACfiD,EAAKD,EAAGpI,GAAKyB,IAAM6G,SAAW,GAAM,GACpCC,EAAK3E,EAAUvD,EAAUD,EAAMgI,EAAIC,GAAKjD,EAAIC,GAAKrC,EAAO1C,MAAMR,KAAM6F,WAAY1C,GAEpFkE,IACIlD,EAAW,EAAGsD,YAAOzH,MAAM0F,aAAavB,SAASA,GAAUuE,KAAKjD,EAAUgD,EAAInD,GAC7EmC,YAAOzH,MAAM0I,KAAK/D,EAAK5E,UAAW0I,IAGzC,SAASvD,IACP,GAAKrB,EAAOrD,MAAMR,KAAM6F,WAAxB,CACA,IAEI8C,EACoBpC,EAAGE,EAAGL,EAH1BD,EAAIP,EAAQ5F,KAAM6F,WAClB+C,EAAUjH,IAAMkH,eAEhBlC,EAAIiC,EAAQhC,OAGhB,IADAlF,IACK6E,EAAI,EAAGA,EAAII,IAAKJ,EACnBE,EAAImC,EAAQrC,GACZH,EAAI,CADYA,EAAI0C,YAAM9I,KAAM4I,EAASnC,EAAEsC,YACnC/I,KAAKyB,OAAOb,OAAOwF,GAAIK,EAAEsC,YAC5B5C,EAAE6C,OACG7C,EAAE8C,SAAQ9C,EAAE8C,OAAS7C,IADhBD,EAAE6C,OAAS5C,EAAGuC,GAAU,GAKzC,GAAIhF,IACFA,EAAgBwD,aAAaxD,IACxBwC,EAAE8C,QAIL,OAHA9C,EAAEJ,YACFK,EAAIqB,YAAOzH,MAAM8E,GAAG,mBACbsB,EAAE5F,MAAMR,KAAM6F,YAKrB8C,IACFhF,EAAgB2D,YAAW,WAAa3D,EAAgB,OAASc,GACjE2C,oBAAUpH,MACVmG,EAAEL,UAIN,SAASX,IACP,IAEwBoB,EAAGE,EAAGL,EAAGM,EAF7BP,EAAIP,EAAQ5F,KAAM6F,WAClB+C,EAAUjH,IAAMkH,eAChBlC,EAAIiC,EAAQhC,OAIhB,IAFAS,IACI1D,IAAeA,EAAgBwD,aAAaxD,IAC3C4C,EAAI,EAAGA,EAAII,IAAKJ,EACnBE,EAAImC,EAAQrC,GAAIH,EAAI0C,YAAM9I,KAAM4I,EAASnC,EAAEsC,YACvC5C,EAAE6C,QAAU7C,EAAE6C,OAAO,KAAOvC,EAAEsC,WAAY5C,EAAE6C,OAAO,GAAK5C,EACnDD,EAAE8C,QAAU9C,EAAE8C,OAAO,KAAOxC,EAAEsC,aAAY5C,EAAE8C,OAAO,GAAK7C,GAGnE,GADAK,EAAIN,EAAEF,KAAKxE,OACP0E,EAAE8C,OAAQ,CACZ,IAAI3D,EAAKa,EAAE6C,OAAO,GAAIE,EAAK/C,EAAE6C,OAAO,GAChCzD,EAAKY,EAAE8C,OAAO,GAAIE,EAAKhD,EAAE8C,OAAO,GAChCG,GAAMA,EAAK7D,EAAG,GAAKD,EAAG,IAAM8D,GAAMA,EAAK7D,EAAG,GAAKD,EAAG,IAAM8D,EACxDC,GAAMA,EAAKF,EAAG,GAAKD,EAAG,IAAMG,GAAMA,EAAKF,EAAG,GAAKD,EAAG,IAAMG,EAC5D5C,EAAInG,EAAMmG,EAAGjD,KAAK8F,KAAKF,EAAKC,IAC5BjD,EAAI,EAAEd,EAAG,GAAKC,EAAG,IAAM,GAAID,EAAG,GAAKC,EAAG,IAAM,GAC5CmB,EAAI,EAAEwC,EAAG,GAAKC,EAAG,IAAM,GAAID,EAAG,GAAKC,EAAG,IAAM,OAEzC,KAAIhD,EAAE6C,OACN,OADc5C,EAAID,EAAE6C,OAAO,GAAItC,EAAIP,EAAE6C,OAAO,GAEjD7C,EAAExB,KAAK,QAASb,EAAUvD,EAAUkG,EAAGL,EAAGM,GAAIP,EAAEjD,OAAQC,IAG1D,SAASiC,IACP,IAEwBmB,EAAGE,EAFvBN,EAAIP,EAAQ5F,KAAM6F,WAClB+C,EAAUjH,IAAMkH,eAChBlC,EAAIiC,EAAQhC,OAKhB,IAHAlF,IACIkC,GAAauD,aAAavD,GAC9BA,EAAc0D,YAAW,WAAa1D,EAAc,OAASa,GACxD8B,EAAI,EAAGA,EAAII,IAAKJ,EACnBE,EAAImC,EAAQrC,GACRJ,EAAE6C,QAAU7C,EAAE6C,OAAO,KAAOvC,EAAEsC,kBAAmB5C,EAAE6C,OAC9C7C,EAAE8C,QAAU9C,EAAE8C,OAAO,KAAOxC,EAAEsC,mBAAmB5C,EAAE8C,OAE1D9C,EAAE8C,SAAW9C,EAAE6C,SAAQ7C,EAAE6C,OAAS7C,EAAE8C,cAAe9C,EAAE8C,QACrD9C,EAAE6C,OAAQ7C,EAAE6C,OAAO,GAAKhJ,KAAKyB,OAAOb,OAAOuF,EAAE6C,OAAO,IACnD7C,EAAEJ,MAgDT,OApVApB,EAAK5E,UAAY,SAASwJ,EAAYxJ,GACpC,IAAI6E,EAAY2E,EAAW3E,UAAY2E,EAAW3E,YAAc2E,EAChE3E,EAAUC,SAAS,SAAUjC,GACzB2G,IAAe3E,EACjBa,EAAS8D,EAAYxJ,GAErB6E,EAAUwC,YAAYoC,MAAK,WACzB5D,EAAQ5F,KAAM6F,WACTC,QACAnB,KAAK,KAA2B,oBAAd5E,EAA2BA,EAAUS,MAAMR,KAAM6F,WAAa9F,GAChFgG,UAKXpB,EAAK8E,QAAU,SAAS7E,EAAW1E,GACjCyE,EAAK+E,QAAQ9E,GAAW,WACtB,IAAI+E,EAAK3J,KAAKyB,OAAOvB,EACjBqI,EAAkB,oBAANrI,EAAmBA,EAAEM,MAAMR,KAAM6F,WAAa3F,EAC9D,OAAOyJ,EAAKpB,MAIhB5D,EAAK+E,QAAU,SAAS9E,EAAW1E,GACjCyE,EAAK5E,UAAU6E,GAAW,WACxB,IAAIzC,EAAIe,EAAO1C,MAAMR,KAAM6F,WACvByC,EAAKtI,KAAKyB,OACV6D,EAAKE,EAASrD,GACdoD,EAAK+C,EAAG1H,OAAO0E,GACfiD,EAAkB,oBAANrI,EAAmBA,EAAEM,MAAMR,KAAM6F,WAAa3F,EAC9D,OAAO4D,EAAUvD,EAAUD,EAAMgI,EAAIC,GAAKjD,EAAIC,GAAKpD,EAAGgB,OAI1DwB,EAAKiF,YAAc,SAAShF,EAAWjF,EAAGQ,GACxCwE,EAAK5E,UAAU6E,GAAW,WACxB,OAAOd,EAAU9D,KAAKyB,OAAOlB,UACd,oBAANZ,EAAmBA,EAAEa,MAAMR,KAAM6F,WAAalG,EACxC,oBAANQ,EAAmBA,EAAEK,MAAMR,KAAM6F,WAAa1F,GACpD+C,EAAO1C,MAAMR,KAAM6F,WAAY1C,OAItCwB,EAAKkF,YAAc,SAASjF,EAAWjF,EAAGQ,GACxCwE,EAAK5E,UAAU6E,GAAW,WACxB,IAAIzC,EAAIe,EAAO1C,MAAMR,KAAM6F,WACvBY,EAAIzG,KAAKyB,OACT2E,EAAIZ,EAASrD,GACjB,OAAO2B,EAAUvC,EAAShB,UAAU6F,EAAE,GAAIA,EAAE,IAAI9F,MAAMmG,EAAEvG,GAAGK,UAC5C,oBAANZ,GAAoBA,EAAEa,MAAMR,KAAM6F,YAAclG,EAC1C,oBAANQ,GAAoBA,EAAEK,MAAMR,KAAM6F,YAAc1F,GACtDgC,EAAGgB,OAyDV0D,EAAQzG,UAAY,CAClB0F,MAAO,WAKL,OAJsB,MAAhB9F,KAAK+G,SACT/G,KAAK8G,MAAQxC,EAASwF,KAAK9J,MAAQ,EACnCA,KAAK+J,KAAK,UAEL/J,MAET2E,KAAM,SAASqF,EAAKjK,GAMlB,OALIC,KAAKiH,OAAiB,UAAR+C,IAAiBhK,KAAKiH,MAAM,GAAKlH,EAAUa,OAAOZ,KAAKiH,MAAM,KAC3EjH,KAAKgJ,QAAkB,UAARgB,IAAiBhK,KAAKgJ,OAAO,GAAKjJ,EAAUa,OAAOZ,KAAKgJ,OAAO,KAC9EhJ,KAAKiJ,QAAkB,UAARe,IAAiBhK,KAAKiJ,OAAO,GAAKlJ,EAAUa,OAAOZ,KAAKiJ,OAAO,KAClFjJ,KAAKiG,KAAKxE,OAAS1B,EACnBC,KAAK+J,KAAK,QACH/J,MAET+F,IAAK,WAMH,OALsB,MAAhB/F,KAAK+G,SACTzC,EAAS2F,OAAOjK,KAAK8G,MAAO,GAC5B9G,KAAK8G,OAAS,EACd9G,KAAK+J,KAAK,QAEL/J,MAET+J,KAAM,SAASjK,GACboK,YAAY,IAAItK,EAAU+E,EAAM7E,EAAME,KAAKiG,KAAKxE,QAAS8C,EAAU/D,MAAO+D,EAAW,CAACzE,EAAME,KAAKiG,KAAMjG,KAAKkG,SAkKhHvB,EAAKZ,WAAa,SAASoG,GACzB,OAAOtE,UAAUe,QAAU7C,EAA0B,oBAANoG,EAAmBA,EAAIC,GAAUD,GAAIxF,GAAQZ,GAG9FY,EAAKd,OAAS,SAASsG,GACrB,OAAOtE,UAAUe,QAAU/C,EAAsB,oBAANsG,EAAmBA,EAAIC,IAAWD,GAAIxF,GAAQd,GAG3Fc,EAAKX,UAAY,SAASmG,GACxB,OAAOtE,UAAUe,QAAU5C,EAAyB,oBAANmG,EAAmBA,EAAIC,IAAWD,GAAIxF,GAAQX,GAG9FW,EAAKzB,OAAS,SAASiH,GACrB,OAAOtE,UAAUe,QAAU1D,EAAsB,oBAANiH,EAAmBA,EAAIC,EAAS,CAAC,EAAED,EAAE,GAAG,IAAKA,EAAE,GAAG,IAAK,EAAEA,EAAE,GAAG,IAAKA,EAAE,GAAG,MAAOxF,GAAQzB,GAGpIyB,EAAKV,YAAc,SAASkG,GAC1B,OAAOtE,UAAUe,QAAU3C,EAAY,IAAMkG,EAAE,GAAIlG,EAAY,IAAMkG,EAAE,GAAIxF,GAAQ,CAACV,EAAY,GAAIA,EAAY,KAGlHU,EAAKxB,gBAAkB,SAASgH,GAC9B,OAAOtE,UAAUe,QAAUzD,EAAgB,GAAG,IAAMgH,EAAE,GAAG,GAAIhH,EAAgB,GAAG,IAAMgH,EAAE,GAAG,GAAIhH,EAAgB,GAAG,IAAMgH,EAAE,GAAG,GAAIhH,EAAgB,GAAG,IAAMgH,EAAE,GAAG,GAAIxF,GAAQ,CAAC,CAACxB,EAAgB,GAAG,GAAIA,EAAgB,GAAG,IAAK,CAACA,EAAgB,GAAG,GAAIA,EAAgB,GAAG,MAGzQwB,EAAKb,UAAY,SAASqG,GACxB,OAAOtE,UAAUe,QAAU9C,EAAYqG,EAAGxF,GAAQb,GAGpDa,EAAKR,SAAW,SAASgG,GACvB,OAAOtE,UAAUe,QAAUzC,GAAYgG,EAAGxF,GAAQR,GAGpDQ,EAAKP,YAAc,SAAS+F,GAC1B,OAAOtE,UAAUe,QAAUxC,EAAc+F,EAAGxF,GAAQP,GAGtDO,EAAKG,GAAK,WACR,IAAItC,EAAQ+B,EAAUO,GAAGtE,MAAM+D,EAAWsB,WAC1C,OAAOrD,IAAU+B,EAAYI,EAAOnC,GAGtCmC,EAAK0F,cAAgB,SAASF,GAC5B,OAAOtE,UAAUe,QAAUlC,GAAkByF,GAAKA,GAAKA,EAAGxF,GAAQnB,KAAK8F,KAAK5E,IAGvEC,I,8ECvaT,IAAI2F,EAAK9G,KAAK+G,GACVC,EAAM,EAAIF,EACVG,EAAU,KACVC,EAAaF,EAAMC,EAEvB,SAASE,IACP3K,KAAK4K,IAAM5K,KAAK6K,IAChB7K,KAAK8K,IAAM9K,KAAK+K,IAAM,KACtB/K,KAAKmK,EAAI,GAGX,SAASa,IACP,OAAO,IAAIL,EAGbA,EAAKvK,UAAY4K,EAAK5K,UAAY,CAChCC,YAAasK,EACbM,OAAQ,SAAStL,EAAGQ,GAClBH,KAAKmK,GAAK,KAAOnK,KAAK4K,IAAM5K,KAAK8K,KAAOnL,GAAK,KAAOK,KAAK6K,IAAM7K,KAAK+K,KAAO5K,IAE7E+K,UAAW,WACQ,OAAblL,KAAK8K,MACP9K,KAAK8K,IAAM9K,KAAK4K,IAAK5K,KAAK+K,IAAM/K,KAAK6K,IACrC7K,KAAKmK,GAAK,MAGdgB,OAAQ,SAASxL,EAAGQ,GAClBH,KAAKmK,GAAK,KAAOnK,KAAK8K,KAAOnL,GAAK,KAAOK,KAAK+K,KAAO5K,IAEvDiL,iBAAkB,SAASC,EAAIC,EAAI3L,EAAGQ,GACpCH,KAAKmK,GAAK,MAAQkB,EAAM,MAAQC,EAAM,KAAOtL,KAAK8K,KAAOnL,GAAK,KAAOK,KAAK+K,KAAO5K,IAEnFoL,cAAe,SAASF,EAAIC,EAAIE,EAAIC,EAAI9L,EAAGQ,GACzCH,KAAKmK,GAAK,MAAQkB,EAAM,MAAQC,EAAM,MAAQE,EAAM,MAAQC,EAAM,KAAOzL,KAAK8K,KAAOnL,GAAK,KAAOK,KAAK+K,KAAO5K,IAE/GuL,MAAO,SAASL,EAAIC,EAAIE,EAAIC,EAAIE,GAC9BN,GAAMA,EAAIC,GAAMA,EAAIE,GAAMA,EAAIC,GAAMA,EAAIE,GAAKA,EAC7C,IAAI9D,EAAK7H,KAAK8K,IACV/C,EAAK/H,KAAK+K,IACVa,EAAMJ,EAAKH,EACXQ,EAAMJ,EAAKH,EACXQ,EAAMjE,EAAKwD,EACXU,EAAMhE,EAAKuD,EACXU,EAAQF,EAAMA,EAAMC,EAAMA,EAG9B,GAAIJ,EAAI,EAAG,MAAM,IAAIM,MAAM,oBAAsBN,GAGjD,GAAiB,OAAb3L,KAAK8K,IACP9K,KAAKmK,GAAK,KAAOnK,KAAK8K,IAAMO,GAAM,KAAOrL,KAAK+K,IAAMO,QAIjD,GAAMU,EAAQvB,EAKd,GAAMjH,KAAK0I,IAAIH,EAAMH,EAAMC,EAAMC,GAAOrB,GAAakB,EAKrD,CACH,IAAIQ,EAAMX,EAAK3D,EACXuE,EAAMX,EAAK1D,EACXsE,EAAQT,EAAMA,EAAMC,EAAMA,EAC1BS,EAAQH,EAAMA,EAAMC,EAAMA,EAC1BG,EAAM/I,KAAK8F,KAAK+C,GAChBG,EAAMhJ,KAAK8F,KAAK0C,GAChBtF,EAAIiF,EAAInI,KAAKiJ,KAAKnC,EAAK9G,KAAKkJ,MAAML,EAAQL,EAAQM,IAAU,EAAIC,EAAMC,KAAS,GAC/EG,EAAMjG,EAAI8F,EACVI,EAAMlG,EAAI6F,EAGV/I,KAAK0I,IAAIS,EAAM,GAAKlC,IACtBzK,KAAKmK,GAAK,KAAOkB,EAAKsB,EAAMb,GAAO,KAAOR,EAAKqB,EAAMZ,IAGvD/L,KAAKmK,GAAK,IAAMwB,EAAI,IAAMA,EAAI,WAAaI,EAAMI,EAAML,EAAMM,GAAQ,KAAOpM,KAAK8K,IAAMO,EAAKuB,EAAMhB,GAAO,KAAO5L,KAAK+K,IAAMO,EAAKsB,EAAMf,QApBtI7L,KAAKmK,GAAK,KAAOnK,KAAK8K,IAAMO,GAAM,KAAOrL,KAAK+K,IAAMO,UAuBxDuB,IAAK,SAASlN,EAAGQ,EAAGwL,EAAGmB,EAAIC,EAAIC,GAC7BrN,GAAKA,EAAGQ,GAAKA,EAAW6M,IAAQA,EAChC,IAAI7E,GADYwD,GAAKA,GACRnI,KAAKyJ,IAAIH,GAClB1E,EAAKuD,EAAInI,KAAK0J,IAAIJ,GAClBjF,EAAKlI,EAAIwI,EACTJ,EAAK5H,EAAIiI,EACT+E,EAAK,EAAIH,EACTI,EAAKJ,EAAMF,EAAKC,EAAKA,EAAKD,EAG9B,GAAInB,EAAI,EAAG,MAAM,IAAIM,MAAM,oBAAsBN,GAGhC,OAAb3L,KAAK8K,IACP9K,KAAKmK,GAAK,IAAMtC,EAAK,IAAME,GAIpBvE,KAAK0I,IAAIlM,KAAK8K,IAAMjD,GAAM4C,GAAWjH,KAAK0I,IAAIlM,KAAK+K,IAAMhD,GAAM0C,KACtEzK,KAAKmK,GAAK,IAAMtC,EAAK,IAAME,GAIxB4D,IAGDyB,EAAK,IAAGA,EAAKA,EAAK5C,EAAMA,GAGxB4C,EAAK1C,EACP1K,KAAKmK,GAAK,IAAMwB,EAAI,IAAMA,EAAI,QAAUwB,EAAK,KAAOxN,EAAIwI,GAAM,KAAOhI,EAAIiI,GAAM,IAAMuD,EAAI,IAAMA,EAAI,QAAUwB,EAAK,KAAOnN,KAAK8K,IAAMjD,GAAM,KAAO7H,KAAK+K,IAAMhD,GAIrJqF,EAAK3C,IACZzK,KAAKmK,GAAK,IAAMwB,EAAI,IAAMA,EAAI,SAAWyB,GAAM9C,GAAO,IAAM6C,EAAK,KAAOnN,KAAK8K,IAAMnL,EAAIgM,EAAInI,KAAKyJ,IAAIF,IAAO,KAAO/M,KAAK+K,IAAM5K,EAAIwL,EAAInI,KAAK0J,IAAIH,OAGlJM,KAAM,SAAS1N,EAAGQ,EAAG8B,EAAGC,GACtBlC,KAAKmK,GAAK,KAAOnK,KAAK4K,IAAM5K,KAAK8K,KAAOnL,GAAK,KAAOK,KAAK6K,IAAM7K,KAAK+K,KAAO5K,GAAK,MAAQ8B,EAAK,MAAQC,EAAK,KAAQD,EAAK,KAEzHX,SAAU,WACR,OAAOtB,KAAKmK,IAIDa,S,uhBC/HR,cAEH,IAAIsC,EAAJ,GACIC,EAAMC,SAAV,SACAF,QACA,SAAIC,EACAD,OAAaE,EAAbF,OACG,YAAIC,IACPD,UAAgBE,EAAhBF,QAEJA,gBACA,IAAIG,EAAaD,SAAjB,WACA,KACI,IAAK,IAAIjH,EAAT,EAAgBA,EAAIkH,EAApB,OAAuClH,IAAK,CACxC,IAAImH,EAAYD,EAAhB,GACIE,EAAOD,EAAX,KACIlL,EAAQkL,EAAZ,MACAJ,kBAGR,IAkCQM,EAMAC,EACAC,EAzCJ/N,EAAYyN,SAAhB,UACA,GAAIzN,GAAJ,GAAiBA,wBAAsC,CACnD,IAAIgO,EAAShO,wBAAb,OACAuN,cAAoB,CAAC3N,EAAGoO,EAAJ,EAAc5N,EAAG4N,EAAOC,GAC5CV,QAAcS,EAAdT,EAQJ,GANA,WAAIC,IACAD,SAAe,CACX3N,EAAG2N,aADQ,GAEXnN,EAAGmN,aAAiBW,KAG5B,WAAIV,EAAkB,CAClB,IACI5N,GADAiO,EAASJ,uBAAb,MACQ,KAAW,YAAa,OAAOpH,aAAP,MAC5BjG,EAAIyN,EAAA,KAAW,YAAa,OAAOxH,aAAP,MAC5B8H,EAAO1K,oBAAX,GACI2K,EAAO3K,oBAAX,GAGI4K,EAAO,CACPzO,EADO,EAEPQ,EAJA0N,EAAOrK,oBAAX,GAKIlB,MAAO6L,EAHA,EAIP1L,QALAqL,EAAOtK,oBAAX,IAKmBqK,GAEnBP,SACAA,SAAe,CACX3N,GAAIuO,EAAD,GADQ,EAEX/N,GAAI0N,EAAD,GAAgB,GAG3B,QAAIN,KAEIK,EADIJ,OAAR,KACaa,MAAb,WACAT,QACIjO,EAAIiO,EAAA,KAAW,YAAa,OAAQxH,aAAR,MAC5BjG,EAAIyN,EAAA,KAAW,YAAa,OAAQxH,aAAR,MAC5B8H,EAAO1K,oBAAX,GACI2K,EAAO3K,oBAAX,GAGI4K,EAAO,CACPzO,EADO,EAEPQ,EAJA0N,EAAOrK,oBAAX,GAKIlB,MAAO6L,EAHA,EAIP1L,QALAqL,EAAOtK,oBAAX,IAKmBqK,GAEnBP,SACAA,SAAe,CACX3N,GAAIuO,EAAD,GADQ,EAEX/N,GAAI0N,EAAD,GAAgB,GAEvBP,cAAoBE,SAApBF,kBAaJ,MAXA,QAAIC,IACAD,SAAe,CACX3N,EAAG6N,OADQ,KAEXrN,EAAGqN,cAGX,SAAID,EACAD,OAAaE,EAAbF,OACG,YAAIC,IACPD,UAAgBE,EAAhBF,QAEJ,EAGG,cAEH,IAAIA,EAAQgB,EAAZ,GAQA,OAPAhB,cACeiB,EAAGA,UAAUf,SAA5B,YACAgB,MAAc,WACV,IAAIC,EAAYC,EAAuBH,EAAGA,OAA1C,OACAE,WACAnB,sBAEJ,EAGG,cAEH,eAAIqB,MACOC,wBAAP,IACG,YAAID,MACAC,uBAAuBD,EAA9B,SAEOC,sDAAuDD,EAA9D,KAID,cAKH,IAHA,IAAIE,EAAcC,EAAlB,GACItB,EAAUe,EAAGA,OAAjB,GACId,EAAakB,EAAjB,WACA,MAA0BI,YAA1B,kBAAmD,CAA9C,IAAIC,EAAa,EAAjB,GACGC,EAAiBxB,EAArB,GACAD,YAEJ,SAGG,gBACH,IAAI0B,EAASX,EAAGA,OAAOf,SAAvB,YACI2B,EAAiBC,EAArB,GACIC,EAAaH,EAAA,QAAc,WAC3B,YACD,WACC,OAAO1B,EAAP,UAGJ,OADAA,WACA,EAGG,gBACHA,WACAA,OAAa,CAAbA,IAAsB,SAAUa,GAC5B,OAAOA,EAAP,OAID,gBACHiB,EAAkB9B,EAAlB8B,GACef,EAAGA,UAAUf,SAA5B,YACAgB,MAAc,SAAUH,EAAG9H,GACvBgJ,EAAsBhB,EAAGA,OAAJ,MAAkBjB,WAAvCiC,OAIR,gBACI,IAAIf,EAAWhB,EAAA,WAAkB,WAC7B,OAAOA,SAAP,cASAgC,GANJhB,EAAWA,EAAA,MACH,SAAUH,GACZ,OAAOA,EAAP,YACD,SAAUA,GACX,OAAOA,UAAP,MAEgB,gBAEV,YACJ,OAAOS,EAAP,MAGFW,EAAejB,EAAnB,OAEAiB,EAAeA,EAAfA,SAEAjB,EAAWgB,QAAXhB,GAEA,IAAIkB,EAAJ,GACAlB,QAAc,YACV,IAAImB,EAAWlB,EAAf,IACA,MAAIiB,OACFA,QAEF,IAAIE,EAAaF,EAAjB,KACAG,oBAID,cAAyC,IAAT/I,EAAS,uDAAH,EACrC0G,EAAUe,EAAGA,OAAjB,MAEId,GADMkB,EAAV,IACiBA,EAAjB,YACImB,EAAoBtC,SAAxB,WACA,KACI,IAAK,IAAIjH,EAAT,EAAgBA,EAAIuJ,EAApB,OAA8CvJ,IAAK,CAC/C,IAAIwJ,EAAmBD,EAAvB,GACInC,EAAOoC,EAAX,KACA,GAAIpC,0BAAiCoC,EAArC,aAAoE,CAChE,IAAIC,EAAoBD,qBAAxB,KAEApC,EADgBqC,EAAkBA,SAAlC,GACOC,IAAPtC,EAEEA,KAAN,IACIF,WAIZ,cAA0BsB,YAA1B,kBAAmD,CAA9C,IAAIC,EAAa,EAAjB,GACDxB,SACyBC,EADzBD,IAGAmB,EAAJ,MACInB,OACUmB,EADVnB,MAGJ0C,EAAe1C,EAAf0C,GCvNG,cACH,OAAOnB,iBAAP,GAGG,cACH,OAAOvL,eAAW7D,GAAlB,ICDW,cAQX,OANAK,KAAA,gBAEIA,KAAKmQ,SAASxL,OAAS3E,KAA3B,eACIoQ,aAGJ,KAGG,aAEH,aACY7B,EAAGA,OAAO8B,uBAAlB,MACAlK,iBAAoBoI,EAAGA,MAAvBpI,WAGJ,IAAImK,EAAOtQ,KAAX,WACIqQ,EAAM9B,EAAGA,OAAO+B,uBAApB,QACA,MAAID,SACA,YAEJrQ,KAAA,iBACA,IAAIuQ,EAAe5L,qBACF3E,KAAKmQ,SADHxL,iCAEE3E,KAAKmQ,SAFPxL,iCAGFP,EAHEO,uBAAnB,GAKA3E,KAAA,gBACA,IAAImG,EAAIoI,EAAGA,OAAO8B,uBAAlB,MAOA,OANAA,UACKrQ,KAAL,SACIwQ,eAEJxQ,KAAA,mBAA0ByQ,gBAAcJ,EAAxC,QAEA,KAGG,cAOH,IAAIK,EAAiB1Q,KAArB,aACI2Q,EAAW3Q,KAAf,OACI4Q,EAAiBhM,UAArB,YACIiM,EAAWjM,UAAf,MACI6B,EAAIgK,gBAAczQ,KAAK8Q,eAA3B,QAOA,OANA,IAEIrK,GADAA,EAAIA,QAAQ,EAAZA,IACIA,WAAaiK,EAAbjK,GAAgCiK,EAApCjK,IAGJA,GADAA,EAAIA,YAAYmK,EAAZnK,EAA8BmK,EAAlCnK,IACIA,MAAJA,GAIG,cAOHzG,KAAA,wBAA6BA,KAA7B,eAAkD+Q,YAPI,IAUtD/Q,KAAA,aAAoB4E,UAApB,YACA5E,KAAA,OAAc4E,UAXwC,MAetD5E,KAAA,mBAA0BgR,yBAAuBpM,sBAAvBoM,EAAwDpM,sBAAxDoM,SAA+FpM,UAAzH,OAGG,cAGH,IAAIA,EAAY5E,KAAhB,eAQA,OAPA,IACI4E,EAAYA,aAAZA,IAGJA,OACU5E,KAAKiR,cADfrM,UACwC5E,KADxC4E,oBAGA,KAGG,cAIH,OAFA5E,KAAA,2BAEA,KAGG,cAIH,OAFAA,KAAA,+BAEA,KAGG,aACL,OAAOA,KAAKiR,eAAZ,KAGK,aACL,OAAOjR,KAAK8Q,gBAAZ,KClHK,gBACH,OAAO,WACH,IAAMI,EAAqBtD,EAAA,KAAW,YAClC,OAAOxJ,cAAY,CAACgC,KAAD,GAAUA,KAAX,IAAqB,CAACA,KAAD,GAAUA,KAAjD,QAEJ,OAAO,YACH,OAAOK,IAAQ,IAAMyK,EAAA,KAAuB,YAAc,OAAO9K,EAAP,MAArC,KAAdK,KAAP,IAKL,oBAUH,IATA,IAAM0K,EAAN,EACMC,EAAQD,EAAd,YACME,EAAKF,EAAX,iBACMG,GAAMF,sBAAD,GAJ2D,iBAOhEG,EAAY,CAAlB,GACIhL,EAAJ,EACMiL,EAAKC,EAAsBC,EAAYA,EAAYlO,WAAzD,IACQ+C,GAAD,GAAP,GACEgL,UAUF,OARAA,OAbsE,GAgBvDA,EAAA,KAAc,YACzB,IAAMjM,EAAK6L,mBAAuB1K,EAAlC,GACMlB,EAAK6L,mBAAuB3K,EAAlC,GACA,MAAQ,CAAC,CAACnB,EAAD,EAAOA,EAAR,GAAe,CAACC,EAAD,EAAOA,EAA9B,OChCO,aACX,OAAOvF,KAAK2R,OAAZ,KAGG,cACH,MAAQrE,4BACJA,iBACIA,cAFR,QAGQA,iCAIL,cACH,OAAOA,UAAgBsE,EAAoBtE,EAA3C,QAGG,cACH,cAAIA,0BACOA,EAAP,OAEOA,gBAAP,OAID,cACH,OAAOuE,EAAA,kBAAkC,SAAU1P,GAC/C,eAAOA,SCdA,cAEX,OAAInC,KAAJ,OACIA,KAAA,YAAiBA,KAAK8R,OAAOC,KAAK/R,KAAlC,IACA,OAEJA,KAAA,6BAAAA,MAEIA,KAAJ,mBACIgS,UAAQ,WACJhS,KAAA,YAAmB0F,aAAW1F,KAA9B,sBACAiS,gBAFI,KAAD,MAAPD,GAKAC,eAEJ,MAGJ,cAEI,IAAIC,EAAqBlS,KAAzB,YACImS,EAAOnS,KAAKmQ,SAASgC,MAAzB,MAAiCD,EAC7BE,EAAapS,KAAKmQ,SAAtB,WACIkC,EAAcrS,KAAKmQ,SAAvB,YACImC,EAA4BtS,KAAKmQ,SAArC,0BACIoC,EAAoBvS,KAAKmQ,SAASoC,mBAAtC,MAA2DL,EACvDM,EAAaxS,KAAjB,YACIyS,EAAJ,KAEA,cACI,IAAIjE,EAAWhB,EAAA,WAAkB,WAC7B,OAAOA,SAAP,cASAgC,GANJhB,EAAWA,EAAA,MACH,SAAUH,GACZ,OAAOA,EAAP,YACD,SAAUA,GACT,OAAOA,EAAP,QAEc,gBAEV,YACJ,IAAIb,EAAUsB,EAAd,GAIA,MAHIT,gBAAJ,IACIb,YAAoBa,EAApBb,MAEJ,MAGF2E,GAASI,GAAqBX,EAAoBpE,EAAtD,WAC6BgC,EAAA,QACb,YACJ,MAAOnB,mBAAP,QAFiB,MAIf,SAAUA,GAEZ,IADA,IAAIqE,EAAanE,EAAGA,OAApB,MACA,MAA0BQ,YAAYV,EAAtC,2BAAqD,CAAhD,IAAIW,EAAa,EAAjB,GACGC,EAAiBZ,aAArB,GACAqE,gBAIZC,QACU,YACF,MAAOtE,mBAAkBA,MAAlBA,KAAP,QAFRsE,mBAMJ,IAAIlD,EAAejB,EAAnB,OAEA,GACIiB,UAEJ,IACIA,EAAeA,aAAfA,GAEA,GACIA,UACU,YACJ,MAAOpB,mBAAP,QAFNoB,oBAORA,EAAeA,EAAfA,UAEAjB,EAAWgB,QAAXhB,IAEAA,QAGJ,cACI,IAAIhB,EAAUe,EAAGA,OAAjB,MACA,UAAII,MAAmB,CACnB,IAAIiE,EAAUH,EAAd,SACA,GAAIG,eAAJ,MAA6BA,SAAwB,CACjD,IAAItQ,EAAQsQ,EAAZ,MACInQ,EAASmQ,EAAb,OACA,MAAItQ,EACAA,EAAQqM,sCAARrM,GAEAkL,kBAEAmB,sBAEJ,MAAIlM,EACAA,EAASkM,uCAATlM,GAEA+K,mBAEAmB,uBAECiE,EAAL,MACIpF,+BAC4BlL,MAAgBsQ,EAD5CpF,kBAC6D/K,MAAiBmQ,EAD9EpF,QAEAmB,mCAAiCrM,MAAgBsQ,EAAjDjE,kBAAkElM,MAAiBmQ,EAAnFjE,QAGJiE,aAAuBA,OAAgBA,eAA3C,MAAoEA,YAChEtQ,EAAQqM,gCAARrM,GACAG,EAASkM,gCAATlM,GACA+K,+BAC4BlL,EAAQsQ,EADpCpF,kBACqD/K,EAASmQ,EAD9DpF,QAEAmB,mCAAiCrM,EAAQsQ,EAAzCjE,kBAA0DlM,EAASmQ,EAAnEjE,QAGR,GACInB,UAEJ,IAAID,EAAMoB,EAAV,IACIlB,EAAakB,EAAjB,WACImB,EAAoBtC,SAAxB,WACA,KACI,IAAK,IAAIjH,EAAT,EAAgBA,EAAIuJ,EAApB,OAA8CvJ,IAAK,CAC/C,IAAIwJ,EAAmBD,EAAvB,GACInC,EAAOoC,EAAX,KACA,GAAIpC,0BAAiCoC,EAArC,aAAoE,CAChE,IAAIC,EAAoBD,qBAAxB,KAEApC,EADgBqC,EAAkBA,SAAlC,GACOC,IAAPtC,EAEEA,KAAN,IACIF,WAIZ,IAAIoF,GAAJ,EACIC,GAAJ,EACA,GAAIT,GAAJ,EAAuC,CAOnC,GANsB,WAAjBrS,KAAK+S,UAAN,WAA+B/S,KAAK+S,WAA0BpE,EAAlE,iBACImE,MAECvF,cAAD,WAAqBA,IAAqBoB,EAA9C,iBACIkE,MAEiB,WAAjB7S,KAAK+S,UAAL,WAA8BxF,GAAoBoB,EAAtD,eAA2E,CACvE,IACIqE,EADW1E,EAAf,GACiB2E,WAAjB,OACA,MAAgC,CAC5B,IAAIC,EAAcF,aAAlB,QACIpF,EAASe,aAAb,QACcf,WAAd,QACA,IACIiF,KACAC,OAIZ,KAAsB,CAClB,IAAIK,EAAexE,EAAnB,eACIyE,EAAcC,EAAe7F,EAAjC,GACA4F,OAAiB,CAAjBA,IAAyB,WACrB,OAAOzE,EAAP,OAEJnB,IAEJ,IAEID,SACAE,EAFkBkB,EAAlB,eAEAlB,YAGR,IAAI6F,EAAJ,EAqBA,GApBA,IACIA,EAAoBA,aAApBA,GAEA,GACIA,UACU,YACJ,MAAOjF,mBAAP,QAFNiF,mBAMJA,UACU,YACJ,MAAOjF,mBAAP,QAFNiF,UAIe,YACP/E,4BACoBF,GAAKA,EAALA,YAAqBA,aAAtB,OADnBE,UAIOgE,WAAqBhF,GAAiBoB,EAAzD,OACkB,CACd,IAAI4E,EAAc5E,EAAlB,YACAnB,0BAC8B+F,MAD9B/F,gDAGuB,aAAemB,SAAf,MAAqCA,SAArC,EAHvBnB,KAIAC,yBACAA,EAAU,UAAVA,iBACA6F,2BAC+B7F,EAD/B6F,uCAEuB7F,EAAU,WAFjC6F,YAGiB,WACT/E,wCAJR+E,UAOe,WACP/E,sGAOZ,GADsBgE,cAAqBhF,GAAoBiG,EAAzCjB,IAAgE5D,EAAhE4D,QAAtB,QAAqG5D,yBAChF,CACjB,IAAI8E,EAAWlF,EAAGA,OAAOf,kCAAzB,SACIlI,EAAKmO,0BAAT,GACIlO,EAAKkO,0BAAiC9E,EAA1C,aACI+E,EAAKD,0BAAiC9E,cAA1C,GACIgF,EAASnQ,eAAW+B,IAAOmO,EAAlBlQ,EAAwB+B,IAAOmO,EAA/BlQ,GAA6CA,KAA1D,GACI7D,EAAI2F,IAAOC,EAAPD,EAAcqJ,SAAtB,EACIxO,EAAImF,IAAOC,EAAPD,EAAcqJ,SAAtB,EACAnB,mBACuB,aAAe7N,EAAI,IAAMQ,EADhDqN,KAEA8F,yBAC4B,WACpB,OAAO,SAAU7M,GACb,IAAIL,EAAIqN,0BAAiC9E,cAAzC,GACI+E,EAAKD,0BAAiC9E,gBAA1C,GACIiF,EAAQpQ,eAAWkQ,IAAOtN,EAAlB5C,EAAuBkQ,IAAOtN,EAA9B5C,GAA2CA,KAA3CA,GAAZ,EAGA,OAFA7D,EAAIyG,IAAMb,EAANa,EAAauI,YAAiB,EAAlChP,GACAQ,EAAIiG,IAAMb,EAANa,EAAauI,YAAiB,EAAlCxO,GACO,aAAeR,EAAI,IAAMQ,EAAI,YAAcyT,EAAQ,IAAMrO,EAAzD,MAAsEA,EAAtE,EAAP,QARZ+N,YAWiB,WACT/E,wCAZR+E,UAee,WACP/E,yCAIZ,IADA,IAAIsF,EAAgBzB,cAAoC7E,GAAxD,MAAyEC,YACzE,MAA0BuB,YAA1B,kBAAmD,CAA9C,IAAIC,EAAa,EAAjB,GACGC,EAAiBxB,EAArB,GACA,GAAIoG,GAAJ,KAAqB7E,EAAsB,CACvC,IAAIpB,MAAUe,kBAAD,GAAb,SAEI2E,gBACoBQ,EAAUlG,EAD9B0F,QAGD,CACH,GAAItE,gBAAgCL,EAApC,YACI,KAAwB,CACpB,IAAIoF,EAAQT,KAAZ,OACAA,cACiB,WACLb,EAAJ,eAGIa,0BAC6B,WACrB,IAAI9R,EAAJ,KACA,OAAO,YACHA,2BAA+BwS,0BAAwBvD,gBAAcgC,iBAAdhC,QAAD,WAAmEM,YAA1FiD,YAA/BxS,WATxB8R,UAce,WACPS,OADmB,MAGftB,EAAJ,eACIjC,oBAIRiC,EAAJ,gBAEIjC,YACAvB,EAAiB8B,YAAjB9B,YAIZqE,aAIR,GACIA,YACe,SAAUjF,EAAG9H,EAAG0N,GAENZ,EADjBD,EAAc7E,EAAGA,OAAjB6E,MACA,GACA/D,KAAgB,CAAhBA,IAAqB,WACjB,OAAOhB,EAAP,UAIZM,EAAJ,MACI2E,OACU3E,EADV2E,MAGJpD,KAGJ,IAAII,EAAOtQ,KAAX,WAEA,SAAIkS,EAA4B,CAE5B,IAAIgC,EAAOlU,KAAX,MACA,GAAIyS,EAAJ,QAEI,OADAyB,aACA,KAEA5D,mDAIgB,WACRmC,aACA,GAAIyB,WACAA,UACAzB,eAGZzS,KAAA,WAIR,MAAIkS,GACA5B,4BAEkB,WACVmC,yCAHRnC,UAKgB,WACRmC,uCANRnC,qCAUkB,WACVmC,iCACAA,0BACA,GACI0B,aAKhB,IAAIxF,EAAO3O,KAAX,MAEIqQ,EAAMC,EAAA,sBAEA,CAFA,IAEQ,SAAUjC,GAAI,OAAOA,EAAP,OAsBhC,OArBAgC,EAAMA,8BAANA,GAKAR,OAAsBQ,EAAtBR,UAGI7P,KAAKmQ,SAASxL,OAAS3E,KAA3B,eACIoQ,aAGJqC,gCAEA,MAAIP,IACAlS,KAAA,qBAAAA,MACA,GACImU,cAIR,KC/YG,gBACH,cAAIC,MAA+B,EAC3BC,EAAUC,EAAd,IACAD,WACA,IACIE,EAAgBD,EADhBE,EAAqBJ,EAAzB,YAEIK,EAAkBD,EAAtB,OACA,cAAIE,MAA4B,EACxBtG,EAAOgG,EAAX,MACAhG,GAAUA,IAASA,QAAnBA,EACAA,KAAUA,IAASA,SAAnBA,EAMA,IALA,IACIuG,EADeH,EAAnB,OACmBI,MAAnB,KACIC,EAAaF,EAAA,KAAiB,YAAa,IAAIG,EAAK1O,QAAT,KAAuB,MAAO,CAAC0O,KAAQ1G,EAAT,GAAkB0G,KAAQ1G,EAAjC,OAClEvG,EAAKgN,EAAWA,SAAXA,GAAT,GACI9M,EAAK8M,EAAWA,SAAXA,GAAT,GACStO,EAAT,EAAgBA,EAAIsO,EAApB,OAAuCtO,IAAKsB,EAAJ,EAAaE,EAArD,EAA8D,CAC1D,IAEII,GAFAkD,EAAKwJ,KAAT,IAEA,EAEA,OADIzM,GAFAkD,EAAKuJ,KAAT,IAEA,IAMI,IAFIrJ,EAAK3D,EAAKE,IAAd,IAEWyD,EAAX,MAA8B3D,MAAY2D,GAAb,GAA2BH,MAAYG,GAAxE,GACI,MAGR,IAAIuJ,EAAkB,CAAC,CAAC3G,KAAD,EAAeA,KAAf,QAAvB,MAGAqG,GADAM,GADAA,EAAkBA,SAAuBJ,QAAzCI,KACkBA,OAAuBJ,UAAzCI,KACkBA,KAAlBN,KAEJF,EAAa,EAAQ,IAAME,EAA3BF,WACOA,EAAP,OACAF,mBAC4C,CAC5C,IAAIA,KAAUC,EAAd,IACAD,WAEIE,EAAgBD,EADhBE,EAAqBJ,EAAzB,gBAAII,EAuBAnJ,EACAC,EACAE,EAvBAwJ,EAAKR,EAAT,GACIvG,EAAKuG,EAAT,GACIS,EAAKT,EAAT,GACIU,EAAKV,EAAT,GACA,cAAIE,MAA4B,CAC5B,IAAItG,KAAOsG,EAAX,MACAtG,GAAUA,IAASA,QAAnBA,EACAA,KAAUA,IAASA,SAAnBA,EACA,IAAIhI,EAAIsO,wCAAR,KACIS,EAAK/O,EAAT,GACIgP,EAAKhP,EAAT,GAEIgC,GADAD,EAAKgN,EAAK/G,EAAd,GACSgH,EAAKhH,EAAd,IACI1H,EAAIlD,UAAUA,cAAkBA,WAApC,IACI6R,EAAOlN,EAAX,EACImN,GAAQlN,EAAZ,OAGIiN,EAAJ,EACIC,EAAJ,EAMAnN,GAFAqD,EAAKyJ,GAAT,IAFI5J,EAAK4J,EAAT,GAKI7M,GAFM8M,GAAV,GAFI5J,GAAM4J,EAAV,GAKAX,EAAa,EAAQ,6FAArBA,WACOA,EAAP,UACOA,EAAP,UACOA,EAAP,UACOA,EAAP,GACAF,eAEJ,SAGG,kBACH,IAGIM,EAFA/G,GADA+G,EAAeC,QAAnB,MACa,KAAiB,YAAa,OAAOxO,QAAP,QAI3C,OAHIwH,EAAS+G,EAAA,KAAiB,YAAa,MAAO,CAACY,GAAkB5V,IAAKyG,aAAxB,IAA0CmP,GAAkBpV,IAAKiG,aAAxE,QAEvCwO,GADAD,EAAe/G,EAAA,KAAW,YAAa,OAAOxH,OAAP,SACxBuO,KAAnB,KAIG,mBACCA,EAAetG,QAAnB,WACAsG,QACA,IAAIa,EAAWnH,QAAf,aAGIsG,GAFSA,EAAA,KAAiB,YAAa,OAAOvO,QAAP,QAC9BuO,EAAA,KAAiB,YAAa,MAAO,CAACY,GAAkB5V,IAAKyG,aAAxB,IAA0CmP,GAAkBpV,IAAKiG,aAAxE,QACxB,KAAW,YAAa,OAAOA,OAAP,SAI3C,OAHAiI,EAAImH,EAAA,QAAgB,gBAChB,OAAOC,WAAcd,EAArB,MADA,SAAJtG,ICzFG,aAAmB,WAGtB,IACIqH,wCAAuC,WACnCC,uBAAoB,YAChB,aAAkBC,cAAlB,GACA,MAAI,WACA,8BAEA,EAAJ,YACI,qBAId,UAEF,SAAI5V,KAAK6V,QAAiB,CACtB,IAAIC,EAAS9V,KAAb,QACIyS,EAAJ,KACAzS,KAAA,sBAA6B,YACVyS,mBAAf,QACA0B,WAEC2B,QAAL,yBAEIA,EAAU,IAAIC,OAAJ,MAAuBnH,kBAAxB,MAATkH,MAEJE,YAAuB,CAACC,IAAD,GAAUC,OAAV,MAAyBJ,OAAQA,IAAS,YAC7D,OAAQnU,OAAR,MACA,WACI8Q,sCAOhB,gBACIzS,KAAA,yBACAA,KAAA,2BAGG,oBAGH,GADaA,KAAb,QACIA,KAAJ,QACIgW,YAAuB,CACnBC,IADmB,EAEnBC,OAFmB,EAGnBtD,QAASuD,IACV,SAAUxU,GACTwS,YAAoBxS,EAApBwS,cAGJ,IACI,IAAIiC,EAASpW,KAAKqW,WAAWC,EAAK,MAAOJ,EAAzC,GACA/B,YAAoB,CAACrU,KAAD,OAAeuQ,IAAK+F,IAE5C,SACIjC,YAAoB,CAACrU,KAAD,QAAgByW,MAAOA,EAAMC,WAK9C,gBAEX,IAAI/D,EAAJ,KAEIyD,GADSlW,KAAb,QACaA,KAAKmQ,SAAlB,QACIsG,EAASzW,KAAb,QAEAA,KAAA,uBAAAA,MACAA,KAAA,SACAA,KAAA,6BAAAA,MACA,IAAImW,EAAa,CACbM,OAAQA,GAEZ,OAAKzW,KAAD,SAAJ,MAAqBA,KAAKqW,YAI1BrW,KAAA,cAAqC,SAAU2O,GAC3C,OAAQA,EAAR,MACA,YACI,IAAI8D,EAAJ,SAGI,MAAM9D,QAAN,QAFA8D,WAA0B9D,EAA1B8D,OAIJ,MACJ,WACI,IAAI2D,EAASzH,EAAb,IACA+H,qBAKR,OAnBI1W,KAAA,WAAkBA,KAAKiW,IAAIlE,KAAK/R,KAAMsW,EAAtC,GACA,MAqBR,gBACI,IAAIK,EAAU3W,KAAKmQ,SAAnB,QACIiC,EAAapS,KAAKmQ,SAAtB,WACIkC,EAAcrS,KAAKmQ,SAAvB,YACA,GAAI,iBAAOnQ,KAAKmQ,SAAZ,gBAAmDnQ,KAAKmQ,SAASyG,eAAeC,SAApF,KACI,IAAID,GAAkB5W,KAAKmQ,SAASyG,eAAeE,MAAM,KAApC,GAArB,IACIC,EAA2B/W,KAAKmQ,SAASyG,eAAeC,SAA5D,UAEID,EAAiB5W,KAAKmQ,SAA1B,eACI4G,GAAJ,EAEJ,IAAIxE,EAAoBvS,KAAKmQ,SAA7B,kBACI6G,EAAJ,GACIC,EAAiBjX,KAAKkX,aAA1B,GACIC,EAAJ,GACIC,EAAqBpX,KAAKqX,iBAA9B,GAEA,gBACI,IAAI9J,EAAMD,EAAV,IACA,YAAIqJ,EACArJ,aACG,QAAIC,KACP,SAAIoJ,EACArJ,MAAYA,aAAZA,QACG,YAAIqJ,EAAoB,CAC3B,IAAIW,EAAQhK,EAAA,eAAoB,SAAUmB,GACtC,eAAOA,SAEX,IACQ6I,kBAAJ,EACIhK,MAAYgK,cAAZhK,KAEAA,UAKhB,MAAIA,QACA,IACQC,cAAJ,WAAwBA,IACpBA,WAGRD,MAAYC,MAAZD,GAIR,gBACI,IAAIiK,GAAMC,EAAaA,KAAH,IAAX,IAA0ClK,EAAnD,IACAA,OAGJ,cACI0J,EAAW1J,EAAX0J,MAGJ,gBACQ3E,GAAe/E,QAAnB,IACSmK,6BAA8BA,OAA/B,QAA6DA,OAA6BA,OAAiBnK,EAAjBmK,KAA9F,WAA4HnK,QACxH,QAAImK,QACAnK,iBAAuBoK,EAAkBD,EAAzCnK,IAEJ,QAAIA,QACAA,iBAAuBoK,EAAkBpK,EAAzCA,MAMhB,gBACI,GAAI8E,OAA4BqF,eAA4BnK,kBAA5D,QAAoFA,sBAAsC,CACtH,IAAIqK,GAAerK,kBAAD,cAAlB,EACA,GAAIA,EAAJ,eACI,IAAIsK,EAAUxI,EAA4B9B,EAA1C,qBAEIsK,EAAUxI,EAAd,IAEH9B,mBAAyBA,iBAA1B,YAA+DuK,EAAgBD,EAASD,EAAaf,EAArG,IAIR,cAA+D,IAAZY,EAAY,uCAC3DM,EAAOxK,EADoD,uDAAf,GAE5CyK,EAAMzK,EAANyK,GACA,IAAIR,EAAKjK,EAAT,GACImK,EAAYR,EAAhB,GACAe,KACAC,EAA8B3K,EAA9B2K,GACAC,EAAyB5K,EAAzB4K,GACA,IAAIxI,EAAJ,GACApC,oBAAuB,SAAUmB,GAC7B,IAAIkB,EAAWlB,EAAf,IACIkB,cAAJ,WAA6BA,IACzBA,UAEJ,MAAID,OACAA,QAGJyI,EAA0B1J,EADTiB,EAAjB,KACAyI,MAIR,cACI,IAAI5K,EAAMD,EAAV,IACA,GAAIiF,GAAqBjF,EAAzB,QACI,QAAIA,2BACA,SAAIC,EAAgB,CAChB,GAAID,kBAAJ,EACE,IACI8K,EADQ9K,WAAZ,GACA,UAEI8K,EAAJ,GAEFjB,KAAyB7J,EAAzB6J,QAMhB,cACI,IAAII,EAAKjK,EAAT,GACIC,EAAMD,EAAV,IACImK,EAAYR,EAAhB,GACA,GAAI1E,OAAmCjF,EAAvC,QACQkG,EAAJ,KACQjG,WAAJ,WAAqBA,GAAkB,CACnC,cAAIA,EAAkB,CAClB,IAAIvC,EAAOsC,EAAA,sBAA2B,SAAUnL,GAC5C,cAAOA,SAEX,IACImL,cAAoBtC,EAApBsC,aAGR,IACI+K,EADQC,EAAZ,GACYhB,SAAZ,GACIiB,EAAUF,aAAd,MACA,GAAIE,WACAA,EAAUF,aAAVE,OAEJ,IAAIC,EAAcD,EAAlB,GACIE,EAAYtB,EAAhB,GACIuB,EAAgBtB,EAApB,GACA,KAAmB,CAIf,IAHI7Q,EAAIkS,EAAA,oBAA6B,SAAUjL,EAAS1G,GACpD,WAAO0G,WAEX,EAAY,CACR,IAAImL,EAAIF,EAAA,gCAAyC,SAAUjL,EAAS1G,GAChE,WAAO0G,SAEXiL,EAAYA,uBAAZA,IAEAlS,EAAImS,EAAA,oBAAiC,SAAUlL,EAAS1G,GACxD,WAAO0G,WAEX,IACQmL,EAAID,EAAA,gCAA6C,SAAUlL,EAAS1G,GACpE,WAAO0G,SAEXkL,EAAgBA,uBAAhBA,IAGJ,IADA,IAAIE,EAAcH,EAAlB,SACSlS,EAAT,EAAgBA,EAAIqS,EAApB,OAAwCrS,IACpC,GAAIqS,gCAAmCA,UAAnCA,QAAsEA,UAA1E,QAA0GA,SAA8B,CACpI,IAAIC,EAAaD,EAAjB,GACA,MAGR,IAAIE,EAAkBJ,EAAtB,SACA,IAASnS,EAAT,EAAgBA,EAAIuS,EAApB,OAA4CvS,IACxC,GAAIuS,gCAAuCA,UAAvCA,QAA8EA,UAAlF,QAAsHA,SAAkC,CACpJ,IAAIC,EAAiBD,EAArB,GACA,MAIJxL,SADAyL,GAAJ,EACmB,CACXpZ,EAAGoZ,WAA0BF,SADlB,EAEX1Y,EAAG4Y,WAA0BF,SAAkB1Y,GAGpC,CAACR,EAAD,EAAOQ,EAAG,KAQjD,cACI6Y,KACAC,KACA3L,oBAAuB,SAAUmB,GAC7ByK,QAIRlZ,KAAA,2BAAAA,MAEA,IAAImZ,EAAS5K,EAAGA,OAAOK,SAAVL,iCAAb,OAII6K,GADS,IAAIrD,OAAjB,WACUsD,kBAAV,iBAEAF,UACY,WACJ,OAAOC,EAAP,mBAGR,IAGIzK,EAAOD,EAHEyK,SAAb,QAIAnZ,KAAA,gCAAAA,MACAmY,KACAnY,KAAA,qCAAAA,MACAkZ,KACAlZ,KAAA,qCAAAA,MACAA,KAAA,QACAA,KAAA,cACAA,KAAA,kBAEAA,KAAA,aAAoB,SAAUwN,EAASoC,EAAY4H,GAC/C,IAAI7I,EAAOD,EAAX,GAGA,OAFAyJ,EAA0BxJ,EAAMiB,EAAhCuI,GACAe,KACA,GAEJlZ,KAAA,SACAA,KAAA,gCAAAA,MACA,GACImU,aAEAnU,KAAKsZ,OAAO1S,OAAhB,GACc5G,KAAKsZ,OAAf,QACAC,WC7VO,gBAEX,IAAI9G,EAAJ,KAKA,aACIA,YAIJ,OARAzS,KAAA,SAQA,KCTW,cAQX,OANI2N,aAAJ,SACI3N,KAAA,qBAEAA,KAAA,YAAmB0F,aAAnB,GAGJ,KAGG,eAEH,IACI2K,EADOrQ,KAAX,WACUsQ,6BAAV,OACA,UAAID,SACOmJ,SAAUnJ,EAAD,OAAhB,GAEA,KCrBO,eAEX,uBAAWuC,EACP,OAAO7D,iBAAkB/O,KAAzB,UAEA,cAAmB+O,YAAnB,kBAAyC,CAApC,IAAI0K,EAAM,EAAV,GACDzZ,KAAA,YAAwB4S,EAAxB,GAEJ,YCRO,eAIX,OAFA5S,KAAA,iBAEA,KCJW,eAIX,OAFAA,KAAA,kBAEA,KCJW,eAIX,OAFAA,KAAA,iBAEA,KCJW,eAIX,OAFAA,KAAA,eAEA,KCJW,eAIX,OAFAA,KAAA,cAEA,KCJW,eAIX,OAFAA,KAAA,kBAEA,KCJW,mBAIX,OAFAA,KAAA,aAAkB,CAACgL,KAAD,EAAY1I,MAAZ,EAA0BG,OAAOA,IAEnD,KCJW,eAEX,IAAKzC,KAAK0Z,UAAUC,IAApB,GACI,MAAM1N,MAAM,oBAAZ,GAEJ,GAAI0K,GAAW3W,KAAKmQ,SAAhBwG,SAAJ,MAAwC3W,KAAK2R,MACzC,MAAM1F,MAAN,8BAIJ,OAFAjM,KAAA,mBAEA,KCVW,eAIX,OAFAA,KAAA,gBAEA,KCJW,eAIX,OAFAA,KAAA,sBAEA,KCJW,eAOX,OALAA,KAAA,uBACA,IACIA,KAAA,wBAGJ,KCPW,eAIX,OAFAA,KAAA,qCAEA,KCJW,eAIX,OAFAA,KAAA,0BAEA,KCJW,eAIX,OAFAA,KAAA,6BAEA,KCJW,iBAIX,OAFAA,KAAA,kBAEA,KCJW,eAIX,OAFAA,KAAA,WAEA,KCFW,eAMX,IAN4B,WAExBsI,EAAKsR,KAAT,MACIC,EAAJ,GACIC,EAAa9Z,KAAjB,YACI+Z,EAAqBvW,oBAAI,EAASsW,EAAA,KAAe,SAAAE,GAAS,OAAIA,EAAJ,YALlC,cAOxB,IAAIA,EAAYF,EAAhB,GACAD,QACIpH,EAToB,EAYxB,KACQuH,EADR,OAC4BC,EAAS,WAC7B,IAAIxT,EAAImT,KAAR,MACIM,EAAQL,KAAZ,OACAA,aACA,IAAIM,EAAJ,GAgBA,GAfAA,YACAA,GAAUC,mBAAVD,IACAA,GAAUH,EAAY,IAAIK,OAAON,EAAqBC,EAAtDG,QACAA,GAAUC,gBAAc3T,EAAd2T,GAAVD,IACA,WAAIH,IACAG,GAAUC,gBAAc3T,EAAIoT,EAAK,MAAjCM,KAEJ,kBAAIH,IACAG,GAAU,4BAA8BC,gBAAe3T,EAAIoT,EAAK,UAAhEM,KAEAH,gBAA4BvH,EAAhC,cACI0H,GAAU,4BAA8BC,gBAAc3H,uBAAwChM,EAAIoT,EAAK,YAAvGM,KACAG,EAAgB7H,cAAhB6H,QACAC,EAAmB9H,cAAnB8H,YAEJ,mBAAIP,EAAgC,CAChC,IAAIQ,EAAe/T,EAAIoT,EAAK,YAA5B,GACAM,GAAU,4BAA8BC,gBAAc3T,EAAIoT,EAAK,YAA/DM,IACAA,GAAU,aAAeC,gBAAzBD,GACAA,GAAU,SAAWC,gBAAcI,EAAnCL,GAEJ,oBAAIH,EAA8B,CAC9B,IAAIS,EAAiBhU,EAAIoT,EAAK,gBAA9B,GACAM,GAAU,4BAA8BC,gBAAxCD,GACAA,GAAU,aAAeC,gBAAzBD,GACAA,GAAU,SAAWC,gBAAcK,EAAnCN,GAEJO,eACApS,KAlCR,OANK/B,EAAT,EAAgBA,EAAIuT,EAApB,OAAuCvT,IAAK,aAAnCA,GA2CT,YCnDW,cAMX,cAJOvG,KAAK2a,WAAWnZ,OAAvB,aACIxB,KAAJ,SACIA,KAAA,mBAEJ,KCNG,qBAAkC,MAI5B,CAACL,KAFVQ,OACAmV,MAC+B3V,IAAWQ,EAJL,GAMrC,MAAO,CAFNR,EAJoC,KAKrCQ,IADIA,EAJiC,OCOlC,uBAA0D,IAAZyS,EAAY,uDAAJ,GAEzD,IADAnF,EAAasB,iBAAbtB,IACIA,OAAoBA,iBAAxB,SACI,IAAImN,EAAUrM,EAAGA,OAAjB,UACG,CACH,IAEIsM,EAFO7a,KAAX,WACUsQ,6BAAV,OACaD,6BAAb,KAEIyK,EAAWpM,EADAqM,aAAf,IAEIH,EAAUC,mBACJ,CADV,IAEAhL,OAAsB+K,EAAtB/K,UACAmL,4BAWJ,OATAhb,KAAA,WAAkB,CACdmG,EADc,EAEdkF,GAFc,EAGdC,GAHc,EAIdE,GAJc,EAKdC,GALc,EAMdgC,WAAYA,GAGhB,KAGG,qBAAoE,IAA3BA,EAA2B,uDAAhB,GAAImF,EAAY,uDAAJ,GACnE,IAAK5S,KAAL,WACI,MAAMiM,MAAN,0BAEJ,IAAIgP,EAAOjb,KAAKkb,WAAhB,EAiBA,OAhBAzN,EAAasB,cAAc/O,KAAKkb,WAAnBnM,WAAbtB,GACAzN,KAAA,gBACAA,KAAA,gBACAA,KAAA,gBACAA,KAAA,iBACIib,WAAkBxN,SAAoBA,iBAA1C,WAIQwN,EAHOjb,KAAX,WACUsQ,6BAAV,OACaD,6BAAb,KACWwK,OAAX,KACA7a,KAAA,gBAECib,EAAL,SACED,4BAGF,KAGJ,2BAEI,IACIF,EAAWpM,EADDqM,aAAd,IAEAE,OAAU,CAAVA,IACApL,OAAsBoL,EAAtBpL,UACAsL,GAAUF,EAAM5P,EAAIC,EAAIE,EAAIC,EAAIgC,EAAhC0N,GAGJ,2BAEI,IAAIC,EAAaxI,cAAjB,EACIyI,EAAJ,GACIC,EAAJ,EACIC,EAAJ,GAEIC,EAAkB,CAClB,CAAC,GAAIF,EADa,GAElB,CAACD,EAFiB,GAGlB,CAAC,EAAGC,EAHc,GAIlB,CAAC,GAAIA,EAJT,IAOInT,EAAKqD,EAAT,EACIpD,EAAKqD,EAAT,EACI7E,EAASpD,UAAU2E,IAAUC,EAAjC,GACA,MAAIxB,EACA,IAAIyO,EAAJ,EACIC,EAAJ,OAEID,EAAOlN,EAAX,EACImN,EAAOlN,EAAX,EAKJ,GAHAoD,EAAKH,GAAMzE,MAAD,GAAV4E,EACAC,EAAKH,GAAM1E,MAAD,GAAV6E,EAEIgC,OAAkBA,EAAtB,QACI,IAAIpH,EAAI4U,iEAAR,KACIQ,EAAOpV,+BAAX,QACIqV,EAAYrV,+BAAhB,gBAEIoV,EAAOR,+BAAX,QACIS,EAAYT,+BAAhB,WAGJ,IAAI7J,EAAQuK,EAAZ,OACAvK,cACAA,cAEAqK,cAGAjQ,EAAKH,GAAMzE,IAAD,GAAV4E,EACAC,EAAKH,GAAM1E,IAAD,GAAV6E,EACA,IAAK,IAAIlF,EAAT,EAAgBA,EAAIiV,EAApB,OAA4CjV,IAAK,CAC7C,IAAI9F,EAAQ+a,EAAZ,GACAA,KAAqBI,GAAOnb,EAAD,GAAWA,EAAX,KAA3B+a,GAEJ,IAASjV,EAAT,EAAgBA,EAAIiV,EAApB,OAA4CjV,IACpC9F,EAAQ+a,EAAZ,GACAA,KAAqB,CAAChQ,EAAK/K,EAAN,GAAgBgL,EAAKhL,EAA1C+a,IAEJ,IAAIK,EAAJ,GACA,IAAStV,EAAT,EAAgBA,EAAIiV,EAApB,OAA4CjV,IACpC9F,EAAQ+a,EAAZ,GACAK,OAAepb,OAAfob,MAEJ,IAAIC,EAAaD,OAAjB,KAKA,OAHAH,mBAGA,KAGG,iBAAmD,IAAZ9I,EAAY,uDAAJ,GAElD,IAAK5S,KAAL,WACI,MAAMiM,MAAN,0BAEJ,IAAIgP,EAAOjb,KAAKkb,WAAhB,EACI7P,EAAKrL,KAAKkb,WAAd,GACI5P,EAAKtL,KAAKkb,WAAd,GACIzN,EAAazN,KAAKkb,WAAtB,WAMA,OAJAlb,KAAA,gBACAA,KAAA,gBACAmb,GAAUF,EAAM5P,EAAIC,EAAIE,EAAIC,EAAIgC,EAAhC0N,GAEA,KAGG,cAEH,OAAKnb,KAAL,YAIWA,KAAKkb,WAAhB,EAEAD,SAEAjb,KAAA,gBAEA,MATI,KAYD,eAEH,IAAKA,KAAL,WACI,MAAMiM,MAAN,0BAGJ,IAAIgP,EAAOjb,KAAKkb,WAAhB,EACA,GAAID,EAAJ,QACI,YAEajb,KAAKkb,WAAtB,WAEYD,+BAAZ,SACA3D,QAGA,IAEIuD,EAFO7a,KAAX,WACUsQ,6BAAV,OACaD,6BAAb,KACI0L,EAAclB,EAAlB,QACIC,EAAW9a,KAAKgc,aAAaf,EAAMc,WAAxB,OAAqDlB,EAApE,SAOA,OANAkB,mBAEAxM,EAAsB0L,EAAtB1L,GAEAvP,KAAA,gBAEA,KAIG,cAEL,OAAIA,KAAJ,WACSA,KAAKkb,WAAZ,EAEO3M,EAAGA,OAAV,MAMJ,eAEI,IADA,IAAI0N,EAAJ,GACA,MAAiBlN,YAAjB,kBAA0C,CAArC,IAAIpB,EAAI,EAAR,GACD,MAAIF,OACAwO,GAAoB,KAAOtO,EAAO,MAAQF,EAAtB,GAApBwO,KAGR,IAAIC,EAAS,oBAAsBD,EAAnC,KACI7F,EAASpW,KAAKqW,WAAW6F,EAAQ,MAArC,OAEI9C,GADS,IAAIrD,OAAjB,WACUsD,kBAAV,iBAOA,OANa9K,EAAG9G,OAAOmH,SAAV,kCACD,WACJ,OAAOwK,EAAP,mBAEGD,OAAX,SCrNG,mBAA2D,IAA3B1L,EAA2B,uDAAhB,GAAImF,EAAY,uDAAJ,GAE1D,IADAnF,EAAasB,iBAAbtB,IACIA,OAAoBA,iBAAxB,SACI,IAAI0O,EAAU5N,EAAGA,OAAjB,UACG,CACH,IAEIsM,EAFO7a,KAAX,WACUsQ,6BAAV,OACaD,6BAAb,KAEI+L,EAAW1N,EADA2N,eAAf,IAEIF,EAAUtB,mBACJ,CADV,IAEAhL,OAAsBsM,EAAtBtM,UACAyM,0BAUJ,OARAtc,KAAA,WAAkB,CACdmG,EADc,EAEdiS,OAFc,EAGdzY,EAHc,EAIdQ,EAJc,EAKdsN,WAAYA,GAGhB,KAGG,mBAAkE,IAA3BA,EAA2B,uDAAhB,GAAImF,EAAY,uDAAJ,GACjE,IAAK5S,KAAL,WACI,MAAMiM,MAAN,0BAGJ,IAAIzK,EAAOxB,KAAKuc,WAAhB,EAmBA,OAlBA,MAAInE,IACAA,EAASpY,KAAKuc,WAAdnE,QAEJ3K,EAAasB,cAAc/O,KAAKuc,WAAnBxN,WAAbtB,GACAzN,KAAA,oBACAA,KAAA,eACAA,KAAA,gBACIwB,WAAkBiM,SAAoBA,iBAA1C,WAIQjM,EAHOxB,KAAX,WACUsQ,6BAAV,OACaD,6BAAb,KACWwK,OAAX,KACA7a,KAAA,gBAECwB,EAAL,SACE8a,0BAGF,KAGJ,yBAEI,IACIF,EAAW1N,EADD2N,eAAd,IAMA,OAJA7a,OAAU,CAAVA,IACAqO,OAAsBrO,EAAtBqO,UACA2M,GAAUhb,EAAM7B,EAAGQ,EAAnBqc,GAEA,KAGJ,uBACI,GAAI/O,OAAkBA,EAAtB,QACI,IAAIgP,EAAYjb,iEAAhB,UAEIib,EAAJ,EAEJ,IAAIC,EAAcD,YAAlB,iCACIE,EAAOnb,+BAAX,QAEA,MAAIkb,SAAyB,CACzB,IAAItO,EAAOsO,SAAX,UACAtO,KAAUA,IAASA,QAAnBA,EACAA,KAAUA,IAASA,SAAnBA,OACG,GAAIuO,WACPvO,EAAO,CACHzO,GAAIgd,OADD,KAEHxc,GAAIwc,OAFD,KAGHra,MAHG,EAIHG,OAJG,EAKHuS,IAAK2H,OALF,KAMH1O,IAAK0O,cAyBb,OAtBAD,QAAiB,cACb,IAAIE,EAAarO,EAAGA,OAApB,MACA,GAAIqO,OAAJ,MACIA,YACgBrH,EADhBqH,cAEgBrH,EAFhBqH,SAGG,GAAIA,OAAJ,UAA+B,CAClC,IAAIhI,EAAegI,iBAAnB,OACAA,gBACoBC,EAAyBjI,EAAcjV,EAAIyO,EAAnB,GAA4BjO,EAAIiO,EAD5EwO,SAEG,CACH,IAAIvO,EAAIuO,OAAR,KACAA,WACeE,EAAoBzO,EAAG1O,EAAIyO,EAAR,GAAiBjO,EAAIiO,EADvDwO,SAKR,GAAID,UACAA,WACepH,GAAkBoH,OAAD,OAAsBvO,EADtDuO,cAEepH,GAAkBoH,OAAD,OAAsBvO,EAFtDuO,KAIJ,KAGG,iBAEH,IAAK3c,KAAL,WACI,MAAMiM,MAAN,0BAEJ,IAAIzK,EAAOxB,KAAKuc,WAAhB,EACI9O,EAAazN,KAAKuc,WAAtB,WASA,OAPAvc,KAAA,eACAA,KAAA,eAEKwB,EAAL,SACIgb,GAAUhb,EAAM7B,EAAGQ,EAAnBqc,GAGJ,KAGG,cAEH,IAAKxc,KAAL,WACI,YAGJ,IAAIwB,EAAOxB,KAAKuc,WAAhB,EAQA,OANK/a,EAAL,SACIA,WAGJxB,KAAA,gBAEA,KAGG,eAEH,IAAKA,KAAL,WACI,MAAMiM,MAAN,0BAGJ,MAAImM,IACAA,EAASpY,KAAKuc,WAAdnE,QAEJ,IAAI5W,EAAOxB,KAAKuc,WAAhB,EACA,GAAI/a,EAAJ,QACI,YAEJ,IAAIiM,EAAazN,KAAKuc,WAAtB,WAKA,GAHY/a,+BAAZ,SACA8V,QAEI7J,OAAkBA,EAAtB,QACI,IACIpH,EADK7E,+BAAT,KACQub,6BAAR,KAEIJ,GADatW,+BAAjB,iCACWA,+BAAX,cAEiB7E,+BAAjB,iCACImb,EAAOnb,+BAAX,QAEJmb,OACUlP,SADVkP,GAGA,IAEI9B,EAFO7a,KAAX,WACUsQ,6BAAV,OACaD,6BAAb,KACI0L,EAAclB,EAAlB,QACIuB,EAAWpc,KAAKgc,aAAaxa,EAAMua,WAAxB,OAAqDlB,EAApE,SAOA,OANAkB,mBAEAxM,EAAsB/N,EAAtB+N,GAEAvP,KAAA,gBAEA,KAIG,cAEL,OAAIA,KAAJ,WACSA,KAAKuc,WAAZ,EAEOhO,EAAGA,OAAV,MAKJ,iBAEI,IADA,IAAI0N,EAAJ,GACA,MAAiBlN,YAAjB,kBAA0C,CAArC,IAAIpB,EAAI,EAAR,GACD,MAAIF,OACAwO,GAAoB,KAAOtO,EAAO,MAAQF,EAAtB,GAApBwO,KAGR,IAAIC,EAAS,WAAa9D,EAAS,MAAQ6D,EAA3C,KACI7F,EAASpW,KAAKqW,WAAW6F,EAAQ,MAArC,OAEI9C,GADS,IAAIrD,OAAjB,WACUsD,kBAAV,iBAOA,OANa9K,EAAG9G,OAAOmH,SAAV,kCACD,WACJ,OAAOwK,EAAP,mBAEGD,OAAX,SC5NG,eAEH6D,cAFiC,GAIjCC,8BAAiC,YAC7B,IAAIC,EAAWF,KAAf,sBACIE,MAAyBvb,OAA7B,SACIwb,cAAcxb,OAAdwb,SACAD,EAAWF,KAAXE,kBACAA,WAAoBvb,4BAHwB,KAOhDub,kBAAyBvb,OAAzBub,UAAgDvb,OAAhDub,OAAmEvb,OAAnEub,eAA4F,YACxF,EACID,cAAiB,CACbnd,KADa,OAEbuQ,IAAKA,IAEF1O,OAAJ,OACHsb,cAAiB,CACbnd,KAAM,SAGVmd,cAAiB,CACbnd,KAAM,YAZlBod,OAeS,SAAA3G,GACL0G,cAAiB,CACbnd,KADa,QAEbyW,MAAOA,EAAMC,gBAQtB,cAGH4G,GADA,MAMG,cACHJ,eAAiB,YACb,IAAMC,EAAO9a,QAAb,GACAib,MACAH,W,OCND,iBAoBH,GAnBAjd,KAAA,SAAgB,CACZqd,WADY,EAEZC,iBAFY,EAGZpH,OAHY,MAIZS,QAJY,QAKZxE,MALY,EAMZC,YANY,EAOZC,aAPY,EAQZC,2BARY,EASZsE,eATY,EAUZrE,mBAVY,EAWZ5N,MAXY,EAYZ4Y,gBAAiB,CAAC,GAZN,IAaZC,oBAAqB,CAAC,EAAC,KAAW,KAAY,CAAC,IAAW,MAC1Dlb,MAdY,KAeZG,OAfY,KAgBZnC,MAhBY,EAiBZmd,KAAK,GAEL7K,aAAJ,OACI,cAAmB7D,YAAnB,kBAAyC,CAApC,IAAI0K,EAAM,EAAV,GACDzZ,KAAA,YAAwB4S,EAAxB,OAED,kBAAWA,IACd5S,KAAA,sBAEJ,IAAIqd,EAAYrd,KAAKmQ,SAArB,UACImN,EAAkBtd,KAAKmQ,SAA3B,gBAOA,GANA,oBAAWuN,SACPL,MAEJ,oBAAWM,eACPL,MAEAD,GAAJ,EAAkC,CAC9B,IACIO,EADUrP,EAAGA,UAAjB,UACgB,QAAe,WAC3B,MAAuCA,qBAAhCA,EAAGA,OAAOA,MAAMA,KAAKA,SAAmCA,EAAGA,OAAOA,MAAMA,KAAKA,QAAUA,EAAGA,OAAOA,MAAMA,KAAKA,OAAOA,MAA1H,yBAEJ,GAAIqP,UACAlD,mHACA2C,KACAC,OAEAtd,KAAA,QAAe4d,OAAf,OACK5d,KAAL,UACI0a,qIACA2C,KACAC,OAIZ,KAAqB,CACjB,IAAMO,EAAM,sCAAwCC,KAAKV,kBAAkCW,GAAlCX,WAAzD,OACApd,KAAA,QAAeA,KAAK6V,QAAU,IAAI8H,aAAlC,GACA3d,KAAA,YAAmBA,KAAK6V,QAAxB,KACA7V,KAAA,iBAAwBA,KAAK6V,QAAQoH,KAAKe,MAAMjM,KAAK/R,KAArD,aACAA,KAAA,qBACAA,KAAA,yBAEC,GAAIqd,EAAW,CAChB,IAAIY,EAAO,IAAIC,KAAK,CAACd,kBAAkCe,GAAlCf,WAArB,QACIgB,EAAUrI,2BAAd,GACA/V,KAAA,QAAe,IAAI0d,OAAnB,GACA1d,KAAA,YAAmBA,KAAnB,QACAA,KAAA,iBAAwBA,KAAK6V,QAAQwI,UAAUtM,KAAK/R,KAApD,SACAA,KAAA,oBAEJA,KAAA,aACAA,KAAA,WACAA,KAAA,SACAA,KAAA,SACAA,KAAA,UACAA,KAAA,UAAiB,IAAIse,IAAI,CAAC,QAAD,iBAAzB,UAMAte,KAAA,WACAA,KAAA,oBACAA,KAAA,cACAA,KAAA,YAAmB,CAAC,UAAD,yLAAnB,OAgBAA,KAAA,UAAiBwE,0BAAYxE,KAA7B,cACAue,aACA3Z,2BAGW,iBAEX,OADQ2J,EAAGA,OAAOA,GAAUA,SAA5B,GCzJW,eAEX,IAAIpI,EAAInG,KAAKwB,OAAb,aAUA,OATA,GACI2E,UADG,GAGH6L,UAAQ,WACJ7L,kCADI,KAAD,MAAP6L,IAIA7L,EAAI,IAAIqY,GAASxe,KAAjBmG,GAEJ,ECbW,eAEX,OAAOoI,EAAGA,OAAOvO,KAAKye,OAAS,EAAIze,KAAKwB,OAAOkd,cAA9B,GAAjB,MF4JJF,aAAqB9I,GAAA,iBACjBrV,YADiB,GAEjB6V,OAFiB,GAGjByI,SAHiB,GAIjBhI,QAJiB,GAKjBxE,KALiB,GAMjBC,WANiB,GAOjBC,YAPiB,GAQjBC,0BARiB,GASjBsE,eATiB,GAUjBrE,kBAViB,GAWjB5N,KAXiB,EAYjBia,UAZiB,EAajBrO,aAbiB,EAcjBsO,cAdiB,EAejBtB,gBAfiB,EAgBjBC,oBAhBiB,EAiBjB1L,OAjBiB,EAkBjBgN,OAlBiB,EAmBjB7I,IAnBiB,EAoBjBtH,KApBiB,EAqBjBoQ,UArBiB,EAsBjBrZ,WAtBiB,EAuBjBqB,OAvBiB,GAwBjB6L,QAxBiB,GAyBjBtQ,MAzBiB,GA0BjBG,OA1BiB,GA2BjBnC,MA3BiB,GA4BjBmd,IA5BiB,GA6BjBjL,WA7BiB,GA8BjB1N,GA9BiB,GA+BjBka,QA/BiB,GAgCjBC,UAhCiB,GAiCjBC,QAjCiB,GAkCjBC,SAlCiB,GAmCjBC,gBAnCiB,GAoCjBC,sBApCiB,GAqCjBC,gBArCiB,GAsCjBC,oBAtCiB,uSAArBf,IG5JA5Z,kCACAA,sD","file":"static/js/19.1f8e9f4d.chunk.js","sourcesContent":["export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function ZoomEvent(target, type, transform) {\n  this.target = target;\n  this.type = type;\n  this.transform = transform;\n}\n","export function Transform(k, x, y) {\n  this.k = k;\n  this.x = x;\n  this.y = y;\n}\n\nTransform.prototype = {\n  constructor: Transform,\n  scale: function(k) {\n    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n  },\n  translate: function(x, y) {\n    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n  },\n  apply: function(point) {\n    return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n  },\n  applyX: function(x) {\n    return x * this.k + this.x;\n  },\n  applyY: function(y) {\n    return y * this.k + this.y;\n  },\n  invert: function(location) {\n    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n  },\n  invertX: function(x) {\n    return (x - this.x) / this.k;\n  },\n  invertY: function(y) {\n    return (y - this.y) / this.k;\n  },\n  rescaleX: function(x) {\n    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n  },\n  rescaleY: function(y) {\n    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n  },\n  toString: function() {\n    return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n  }\n};\n\nexport var identity = new Transform(1, 0, 0);\n\ntransform.prototype = Transform.prototype;\n\nexport default function transform(node) {\n  return node.__zoom || identity;\n}\n","import {event} from \"d3-selection\";\n\nexport function nopropagation() {\n  event.stopImmediatePropagation();\n}\n\nexport default function() {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolateZoom} from \"d3-interpolate\";\nimport {event, customEvent, select, mouse, touch} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant\";\nimport ZoomEvent from \"./event\";\nimport {Transform, identity} from \"./transform\";\nimport noevent, {nopropagation} from \"./noevent\";\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter() {\n  return !event.button;\n}\n\nfunction defaultExtent() {\n  var e = this, w, h;\n  if (e instanceof SVGElement) {\n    e = e.ownerSVGElement || e;\n    w = e.width.baseVal.value;\n    h = e.height.baseVal.value;\n  } else {\n    w = e.clientWidth;\n    h = e.clientHeight;\n  }\n  return [[0, 0], [w, h]];\n}\n\nfunction defaultTransform() {\n  return this.__zoom || identity;\n}\n\nfunction defaultWheelDelta() {\n  return -event.deltaY * (event.deltaMode ? 120 : 1) / 500;\n}\n\nfunction defaultTouchable() {\n  return \"ontouchstart\" in this;\n}\n\nfunction defaultConstrain(transform, extent, translateExtent) {\n  var dx0 = transform.invertX(extent[0][0]) - translateExtent[0][0],\n      dx1 = transform.invertX(extent[1][0]) - translateExtent[1][0],\n      dy0 = transform.invertY(extent[0][1]) - translateExtent[0][1],\n      dy1 = transform.invertY(extent[1][1]) - translateExtent[1][1];\n  return transform.translate(\n    dx1 > dx0 ? (dx0 + dx1) / 2 : Math.min(0, dx0) || Math.max(0, dx1),\n    dy1 > dy0 ? (dy0 + dy1) / 2 : Math.min(0, dy0) || Math.max(0, dy1)\n  );\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      extent = defaultExtent,\n      constrain = defaultConstrain,\n      wheelDelta = defaultWheelDelta,\n      touchable = defaultTouchable,\n      scaleExtent = [0, Infinity],\n      translateExtent = [[-Infinity, -Infinity], [Infinity, Infinity]],\n      duration = 250,\n      interpolate = interpolateZoom,\n      gestures = [],\n      listeners = dispatch(\"start\", \"zoom\", \"end\"),\n      touchstarting,\n      touchending,\n      touchDelay = 500,\n      wheelDelay = 150,\n      clickDistance2 = 0;\n\n  function zoom(selection) {\n    selection\n        .property(\"__zoom\", defaultTransform)\n        .on(\"wheel.zoom\", wheeled)\n        .on(\"mousedown.zoom\", mousedowned)\n        .on(\"dblclick.zoom\", dblclicked)\n      .filter(touchable)\n        .on(\"touchstart.zoom\", touchstarted)\n        .on(\"touchmove.zoom\", touchmoved)\n        .on(\"touchend.zoom touchcancel.zoom\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  zoom.transform = function(collection, transform) {\n    var selection = collection.selection ? collection.selection() : collection;\n    selection.property(\"__zoom\", defaultTransform);\n    if (collection !== selection) {\n      schedule(collection, transform);\n    } else {\n      selection.interrupt().each(function() {\n        gesture(this, arguments)\n            .start()\n            .zoom(null, typeof transform === \"function\" ? transform.apply(this, arguments) : transform)\n            .end();\n      });\n    }\n  };\n\n  zoom.scaleBy = function(selection, k) {\n    zoom.scaleTo(selection, function() {\n      var k0 = this.__zoom.k,\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return k0 * k1;\n    });\n  };\n\n  zoom.scaleTo = function(selection, k) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t0 = this.__zoom,\n          p0 = centroid(e),\n          p1 = t0.invert(p0),\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return constrain(translate(scale(t0, k1), p0, p1), e, translateExtent);\n    });\n  };\n\n  zoom.translateBy = function(selection, x, y) {\n    zoom.transform(selection, function() {\n      return constrain(this.__zoom.translate(\n        typeof x === \"function\" ? x.apply(this, arguments) : x,\n        typeof y === \"function\" ? y.apply(this, arguments) : y\n      ), extent.apply(this, arguments), translateExtent);\n    });\n  };\n\n  zoom.translateTo = function(selection, x, y) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t = this.__zoom,\n          p = centroid(e);\n      return constrain(identity.translate(p[0], p[1]).scale(t.k).translate(\n        typeof x === \"function\" ? -x.apply(this, arguments) : -x,\n        typeof y === \"function\" ? -y.apply(this, arguments) : -y\n      ), e, translateExtent);\n    });\n  };\n\n  function scale(transform, k) {\n    k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], k));\n    return k === transform.k ? transform : new Transform(k, transform.x, transform.y);\n  }\n\n  function translate(transform, p0, p1) {\n    var x = p0[0] - p1[0] * transform.k, y = p0[1] - p1[1] * transform.k;\n    return x === transform.x && y === transform.y ? transform : new Transform(transform.k, x, y);\n  }\n\n  function centroid(extent) {\n    return [(+extent[0][0] + +extent[1][0]) / 2, (+extent[0][1] + +extent[1][1]) / 2];\n  }\n\n  function schedule(transition, transform, center) {\n    transition\n        .on(\"start.zoom\", function() { gesture(this, arguments).start(); })\n        .on(\"interrupt.zoom end.zoom\", function() { gesture(this, arguments).end(); })\n        .tween(\"zoom\", function() {\n          var that = this,\n              args = arguments,\n              g = gesture(that, args),\n              e = extent.apply(that, args),\n              p = center || centroid(e),\n              w = Math.max(e[1][0] - e[0][0], e[1][1] - e[0][1]),\n              a = that.__zoom,\n              b = typeof transform === \"function\" ? transform.apply(that, args) : transform,\n              i = interpolate(a.invert(p).concat(w / a.k), b.invert(p).concat(w / b.k));\n          return function(t) {\n            if (t === 1) t = b; // Avoid rounding error on end.\n            else { var l = i(t), k = w / l[2]; t = new Transform(k, p[0] - l[0] * k, p[1] - l[1] * k); }\n            g.zoom(null, t);\n          };\n        });\n  }\n\n  function gesture(that, args) {\n    for (var i = 0, n = gestures.length, g; i < n; ++i) {\n      if ((g = gestures[i]).that === that) {\n        return g;\n      }\n    }\n    return new Gesture(that, args);\n  }\n\n  function Gesture(that, args) {\n    this.that = that;\n    this.args = args;\n    this.index = -1;\n    this.active = 0;\n    this.extent = extent.apply(that, args);\n  }\n\n  Gesture.prototype = {\n    start: function() {\n      if (++this.active === 1) {\n        this.index = gestures.push(this) - 1;\n        this.emit(\"start\");\n      }\n      return this;\n    },\n    zoom: function(key, transform) {\n      if (this.mouse && key !== \"mouse\") this.mouse[1] = transform.invert(this.mouse[0]);\n      if (this.touch0 && key !== \"touch\") this.touch0[1] = transform.invert(this.touch0[0]);\n      if (this.touch1 && key !== \"touch\") this.touch1[1] = transform.invert(this.touch1[0]);\n      this.that.__zoom = transform;\n      this.emit(\"zoom\");\n      return this;\n    },\n    end: function() {\n      if (--this.active === 0) {\n        gestures.splice(this.index, 1);\n        this.index = -1;\n        this.emit(\"end\");\n      }\n      return this;\n    },\n    emit: function(type) {\n      customEvent(new ZoomEvent(zoom, type, this.that.__zoom), listeners.apply, listeners, [type, this.that, this.args]);\n    }\n  };\n\n  function wheeled() {\n    if (!filter.apply(this, arguments)) return;\n    var g = gesture(this, arguments),\n        t = this.__zoom,\n        k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], t.k * Math.pow(2, wheelDelta.apply(this, arguments)))),\n        p = mouse(this);\n\n    // If the mouse is in the same location as before, reuse it.\n    // If there were recent wheel events, reset the wheel idle timeout.\n    if (g.wheel) {\n      if (g.mouse[0][0] !== p[0] || g.mouse[0][1] !== p[1]) {\n        g.mouse[1] = t.invert(g.mouse[0] = p);\n      }\n      clearTimeout(g.wheel);\n    }\n\n    // If this wheel event wont trigger a transform change, ignore it.\n    else if (t.k === k) return;\n\n    // Otherwise, capture the mouse point and location at the start.\n    else {\n      g.mouse = [p, t.invert(p)];\n      interrupt(this);\n      g.start();\n    }\n\n    noevent();\n    g.wheel = setTimeout(wheelidled, wheelDelay);\n    g.zoom(\"mouse\", constrain(translate(scale(t, k), g.mouse[0], g.mouse[1]), g.extent, translateExtent));\n\n    function wheelidled() {\n      g.wheel = null;\n      g.end();\n    }\n  }\n\n  function mousedowned() {\n    if (touchending || !filter.apply(this, arguments)) return;\n    var g = gesture(this, arguments),\n        v = select(event.view).on(\"mousemove.zoom\", mousemoved, true).on(\"mouseup.zoom\", mouseupped, true),\n        p = mouse(this),\n        x0 = event.clientX,\n        y0 = event.clientY;\n\n    dragDisable(event.view);\n    nopropagation();\n    g.mouse = [p, this.__zoom.invert(p)];\n    interrupt(this);\n    g.start();\n\n    function mousemoved() {\n      noevent();\n      if (!g.moved) {\n        var dx = event.clientX - x0, dy = event.clientY - y0;\n        g.moved = dx * dx + dy * dy > clickDistance2;\n      }\n      g.zoom(\"mouse\", constrain(translate(g.that.__zoom, g.mouse[0] = mouse(g.that), g.mouse[1]), g.extent, translateExtent));\n    }\n\n    function mouseupped() {\n      v.on(\"mousemove.zoom mouseup.zoom\", null);\n      dragEnable(event.view, g.moved);\n      noevent();\n      g.end();\n    }\n  }\n\n  function dblclicked() {\n    if (!filter.apply(this, arguments)) return;\n    var t0 = this.__zoom,\n        p0 = mouse(this),\n        p1 = t0.invert(p0),\n        k1 = t0.k * (event.shiftKey ? 0.5 : 2),\n        t1 = constrain(translate(scale(t0, k1), p0, p1), extent.apply(this, arguments), translateExtent);\n\n    noevent();\n    if (duration > 0) select(this).transition().duration(duration).call(schedule, t1, p0);\n    else select(this).call(zoom.transform, t1);\n  }\n\n  function touchstarted() {\n    if (!filter.apply(this, arguments)) return;\n    var g = gesture(this, arguments),\n        touches = event.changedTouches,\n        started,\n        n = touches.length, i, t, p;\n\n    nopropagation();\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = touch(this, touches, t.identifier);\n      p = [p, this.__zoom.invert(p), t.identifier];\n      if (!g.touch0) g.touch0 = p, started = true;\n      else if (!g.touch1) g.touch1 = p;\n    }\n\n    // If this is a dbltap, reroute to the (optional) dblclick.zoom handler.\n    if (touchstarting) {\n      touchstarting = clearTimeout(touchstarting);\n      if (!g.touch1) {\n        g.end();\n        p = select(this).on(\"dblclick.zoom\");\n        if (p) p.apply(this, arguments);\n        return;\n      }\n    }\n\n    if (started) {\n      touchstarting = setTimeout(function() { touchstarting = null; }, touchDelay);\n      interrupt(this);\n      g.start();\n    }\n  }\n\n  function touchmoved() {\n    var g = gesture(this, arguments),\n        touches = event.changedTouches,\n        n = touches.length, i, t, p, l;\n\n    noevent();\n    if (touchstarting) touchstarting = clearTimeout(touchstarting);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = touch(this, touches, t.identifier);\n      if (g.touch0 && g.touch0[2] === t.identifier) g.touch0[0] = p;\n      else if (g.touch1 && g.touch1[2] === t.identifier) g.touch1[0] = p;\n    }\n    t = g.that.__zoom;\n    if (g.touch1) {\n      var p0 = g.touch0[0], l0 = g.touch0[1],\n          p1 = g.touch1[0], l1 = g.touch1[1],\n          dp = (dp = p1[0] - p0[0]) * dp + (dp = p1[1] - p0[1]) * dp,\n          dl = (dl = l1[0] - l0[0]) * dl + (dl = l1[1] - l0[1]) * dl;\n      t = scale(t, Math.sqrt(dp / dl));\n      p = [(p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2];\n      l = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];\n    }\n    else if (g.touch0) p = g.touch0[0], l = g.touch0[1];\n    else return;\n    g.zoom(\"touch\", constrain(translate(t, p, l), g.extent, translateExtent));\n  }\n\n  function touchended() {\n    var g = gesture(this, arguments),\n        touches = event.changedTouches,\n        n = touches.length, i, t;\n\n    nopropagation();\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, touchDelay);\n    for (i = 0; i < n; ++i) {\n      t = touches[i];\n      if (g.touch0 && g.touch0[2] === t.identifier) delete g.touch0;\n      else if (g.touch1 && g.touch1[2] === t.identifier) delete g.touch1;\n    }\n    if (g.touch1 && !g.touch0) g.touch0 = g.touch1, delete g.touch1;\n    if (g.touch0) g.touch0[1] = this.__zoom.invert(g.touch0[0]);\n    else g.end();\n  }\n\n  zoom.wheelDelta = function(_) {\n    return arguments.length ? (wheelDelta = typeof _ === \"function\" ? _ : constant(+_), zoom) : wheelDelta;\n  };\n\n  zoom.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), zoom) : filter;\n  };\n\n  zoom.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), zoom) : touchable;\n  };\n\n  zoom.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), zoom) : extent;\n  };\n\n  zoom.scaleExtent = function(_) {\n    return arguments.length ? (scaleExtent[0] = +_[0], scaleExtent[1] = +_[1], zoom) : [scaleExtent[0], scaleExtent[1]];\n  };\n\n  zoom.translateExtent = function(_) {\n    return arguments.length ? (translateExtent[0][0] = +_[0][0], translateExtent[1][0] = +_[1][0], translateExtent[0][1] = +_[0][1], translateExtent[1][1] = +_[1][1], zoom) : [[translateExtent[0][0], translateExtent[0][1]], [translateExtent[1][0], translateExtent[1][1]]];\n  };\n\n  zoom.constrain = function(_) {\n    return arguments.length ? (constrain = _, zoom) : constrain;\n  };\n\n  zoom.duration = function(_) {\n    return arguments.length ? (duration = +_, zoom) : duration;\n  };\n\n  zoom.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, zoom) : interpolate;\n  };\n\n  zoom.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? zoom : value;\n  };\n\n  zoom.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, zoom) : Math.sqrt(clickDistance2);\n  };\n\n  return zoom;\n}\n","var pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path;\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? Were done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nexport default path;\n","import * as d3 from \"d3-selection\";\n\nexport function extractElementData(element) {\n\n    var datum = {};\n    var tag = element.node().nodeName;\n    datum.tag = tag;\n    if (tag == '#text') {\n        datum.text = element.text();\n    } else if (tag == '#comment') {\n        datum.comment = element.text();\n    }\n    datum.attributes = {};\n    var attributes = element.node().attributes;\n    if (attributes) {\n        for (var i = 0; i < attributes.length; i++) {\n            var attribute = attributes[i];\n            var name = attribute.name;\n            var value = attribute.value;\n            datum.attributes[name] = value;\n        }\n    }\n    var transform = element.node().transform;\n    if (transform && transform.baseVal.numberOfItems != 0) {\n        var matrix = transform.baseVal.consolidate().matrix;\n        datum.translation = {x: matrix.e, y: matrix.f};\n        datum.scale = matrix.a;\n    }\n    if (tag == 'ellipse') {\n        datum.center = {\n            x: datum.attributes.cx,\n            y: datum.attributes.cy,\n        };\n    }\n    if (tag == 'polygon') {\n        var points = element.attr('points').split(' ');\n        var x = points.map(function(p) {return p.split(',')[0]});\n        var y = points.map(function(p) {return p.split(',')[1]});\n        var xmin = Math.min.apply(null, x);\n        var xmax = Math.max.apply(null, x);\n        var ymin = Math.min.apply(null, y);\n        var ymax = Math.max.apply(null, y);\n        var bbox = {\n            x: xmin,\n            y: ymin,\n            width: xmax - xmin,\n            height: ymax - ymin,\n        };\n        datum.bbox = bbox;\n        datum.center = {\n            x: (xmin + xmax) / 2,\n            y: (ymin + ymax) / 2,\n        };\n    }\n    if (tag == 'path') {\n        var d = element.attr('d');\n        var points = d.split(/[A-Z ]/);\n        points.shift();\n        var x = points.map(function(p) {return +p.split(',')[0]});\n        var y = points.map(function(p) {return +p.split(',')[1]});\n        var xmin = Math.min.apply(null, x);\n        var xmax = Math.max.apply(null, x);\n        var ymin = Math.min.apply(null, y);\n        var ymax = Math.max.apply(null, y);\n        var bbox = {\n            x: xmin,\n            y: ymin,\n            width: xmax - xmin,\n            height: ymax - ymin,\n        };\n        datum.bbox = bbox;\n        datum.center = {\n            x: (xmin + xmax) / 2,\n            y: (ymin + ymax) / 2,\n        };\n        datum.totalLength = element.node().getTotalLength();\n    }\n    if (tag == 'text') {\n        datum.center = {\n            x: element.attr('x'),\n            y: element.attr('y'),\n        };\n    }\n    if (tag == '#text') {\n        datum.text = element.text();\n    } else if (tag == '#comment') {\n        datum.comment = element.text();\n    }\n    return datum\n}\n\nexport function extractAllElementsData(element) {\n\n    var datum = extractElementData(element);\n    datum.children = [];\n    var children = d3.selectAll(element.node().childNodes);\n    children.each(function () {\n        var childData = extractAllElementsData(d3.select(this));\n        childData.parent = datum;\n        datum.children.push(childData);\n    });\n    return datum;\n}\n\nexport function createElement(data) {\n\n    if (data.tag == '#text') {\n        return document.createTextNode(\"\");\n    } else if (data.tag == '#comment') {\n        return document.createComment(data.comment);\n    } else {\n        return document.createElementNS('http://www.w3.org/2000/svg', data.tag);\n    }\n}\n\nexport function createElementWithAttributes(data) {\n\n    var elementNode = createElement(data);\n    var element = d3.select(elementNode);\n    var attributes = data.attributes;\n    for (var attributeName of Object.keys(attributes)) {\n        var attributeValue = attributes[attributeName];\n        element.attr(attributeName, attributeValue);\n    }\n    return elementNode;\n}\n\nexport function replaceElement(element, data) {\n    var parent = d3.select(element.node().parentNode);\n    var newElementNode = createElementWithAttributes(data);\n    var newElement = parent.insert(function () {\n        return newElementNode;\n    }, function () {\n        return element.node();\n    });\n    element.remove();\n    return newElement;\n}\n\nexport function insertElementData(element, datum) {\n    element.datum(datum);\n    element.data([datum], function (d) {\n        return d.key;\n    });\n}\n\nexport function insertAllElementsData(element, datum) {\n    insertElementData(element, datum);\n    var children = d3.selectAll(element.node().childNodes);\n    children.each(function (d, i) {\n        insertAllElementsData(d3.select(this), datum.children[i]);\n    });\n}\n\nfunction insertChildren(element, index) {\n    var children = element.selectAll(function () {\n        return element.node().childNodes;\n    });\n\n    children = children\n      .data(function (d) {\n          return d.children;\n      }, function (d) {\n        return d.tag + '-' + index;\n      });\n    var childrenEnter = children\n      .enter()\n      .append(function(d) {\n          return createElement(d);\n      });\n\n    var childrenExit = children\n      .exit();\n    childrenExit = childrenExit\n        .remove()\n    children = childrenEnter\n        .merge(children);\n    var childTagIndexes = {};\n    children.each(function(childData) {\n        var childTag = childData.tag;\n        if (childTagIndexes[childTag] == null) {\n          childTagIndexes[childTag] = 0;\n        }\n        var childIndex = childTagIndexes[childTag]++;\n        attributeElement.call(this, childData, childIndex);\n    });\n}\n\nexport function attributeElement(data, index=0) {\n    var element = d3.select(this);\n    var tag = data.tag;\n    var attributes = data.attributes;\n    var currentAttributes = element.node().attributes;\n    if (currentAttributes) {\n        for (var i = 0; i < currentAttributes.length; i++) {\n            var currentAttribute = currentAttributes[i];\n            var name = currentAttribute.name;\n            if (name.split(':')[0] != 'xmlns' && currentAttribute.namespaceURI) {\n                var namespaceURIParts = currentAttribute.namespaceURI.split('/');\n                var namespace = namespaceURIParts[namespaceURIParts.length - 1];\n                name = namespace + ':' + name;\n            }\n            if (!(name in attributes)) {\n                attributes[name] = null;\n            }\n        }\n    }\n    for (var attributeName of Object.keys(attributes)) {\n        element\n            .attr(attributeName, attributes[attributeName]);\n    }\n    if (data.text) {\n        element\n            .text(data.text);\n    }\n    insertChildren(element, index);\n}\n","export function shallowCopyObject(obj) {\n    return Object.assign({}, obj);\n}\n\nexport function roundTo2Decimals(x) {\n    return Math.round(x * 100.0) / 100.0\n}\n","import * as d3 from \"d3-selection\";\nimport {zoom, zoomTransform, zoomIdentity} from \"d3-zoom\";\nimport {interpolate} from \"d3-interpolate\";\n\nexport default function(enable) {\n\n    this._options.zoom = enable;\n\n    if (this._options.zoom && !this._zoomBehavior) {\n        createZoomBehavior.call(this);\n    }\n\n    return this;\n}\n\nexport function createZoomBehavior() {\n\n    function zoomed() {\n        var g = d3.select(svg.node().querySelector(\"g\"));\n        g.attr('transform', d3.event.transform);\n    }\n\n    var root = this._selection;\n    var svg = d3.select(root.node().querySelector(\"svg\"));\n    if (svg.size() == 0) {\n        return this;\n    }\n    this._zoomSelection = svg;\n    var zoomBehavior = zoom()\n        .scaleExtent(this._options.zoomScaleExtent)\n        .translateExtent(this._options.zoomTranslateExtent)\n        .interpolate(interpolate)\n        .on(\"zoom\", zoomed);\n    this._zoomBehavior = zoomBehavior;\n    var g = d3.select(svg.node().querySelector(\"g\"));\n    svg.call(zoomBehavior);\n    if (!this._active) {\n        translateZoomBehaviorTransform.call(this, g);\n    }\n    this._originalTransform = zoomTransform(svg.node());\n\n    return this;\n};\n\nexport function getTranslatedZoomTransform(selection) {\n\n    // Get the current zoom transform for the top level svg and\n    // translate it uniformly with the given selection, using the\n    // difference between the translation specified in the selection's\n    // data and it's saved previous translation. The selection is\n    // normally the top level g element of the graph.\n    var oldTranslation = this._translation;\n    var oldScale = this._scale;\n    var newTranslation = selection.datum().translation;\n    var newScale = selection.datum().scale;\n    var t = zoomTransform(this._zoomSelection.node());\n    if (oldTranslation) {\n        t = t.scale(1 / oldScale);\n        t = t.translate(-oldTranslation.x, -oldTranslation.y);\n    }\n    t = t.translate(newTranslation.x, newTranslation.y);\n    t = t.scale(newScale);\n    return t;\n}\n\nexport function translateZoomBehaviorTransform(selection) {\n\n    // Translate the current zoom transform for the top level svg\n    // uniformly with the given selection, using the difference\n    // between the translation specified in the selection's data and\n    // it's saved previous translation. The selection is normally the\n    // top level g element of the graph.\n    this._zoomBehavior.transform(this._zoomSelection, getTranslatedZoomTransform.call(this, selection));\n\n    // Save the selections's new translation and scale.\n    this._translation = selection.datum().translation;\n    this._scale = selection.datum().scale;\n\n    // Set the original zoom transform to the translation and scale specified in\n    // the selection's data.\n    this._originalTransform = zoomIdentity.translate(selection.datum().translation.x, selection.datum().translation.y).scale(selection.datum().scale);\n}\n\nexport function resetZoom(transition) {\n\n    // Reset the zoom transform to the original zoom transform.\n    var selection = this._zoomSelection;\n    if (transition) {\n        selection = selection\n            .transition(transition);\n    }\n    selection\n        .call(this._zoomBehavior.transform, this._originalTransform);\n\n    return this;\n}\n\nexport function zoomScaleExtent(extent) {\n\n    this._options.zoomScaleExtent = extent;\n\n    return this;\n}\n\nexport function zoomTranslateExtent(extent) {\n\n    this._options.zoomTranslateExtent = extent;\n\n    return this;\n}\n\nexport function zoomBehavior() {\n  return this._zoomBehavior || null;\n}\n\nexport function zoomSelection() {\n  return this._zoomSelection || null;\n}\n","import {interpolate} from \"d3-interpolate\";\n\nexport function pathTween(points, d1) {\n    return function() {\n        const pointInterpolators = points.map(function(p) {\n            return interpolate([p[0][0], p[0][1]], [p[1][0], p[1][1]]);\n        });\n        return function(t) {\n            return t < 1 ? \"M\" + pointInterpolators.map(function(p) { return p(t); }).join(\"L\") : d1;\n        };\n    };\n}\n\nexport function pathTweenPoints(node, d1, precision, precisionIsRelative) {\n    const path0 = node;\n    const path1 = path0.cloneNode();\n    const n0 = path0.getTotalLength();\n    const n1 = (path1.setAttribute(\"d\", d1), path1).getTotalLength();\n\n    // Uniform sampling of distance based on specified precision.\n    const distances = [0];\n    let i = 0;\n    const dt = precisionIsRelative ? precision : precision / Math.max(n0, n1);\n    while ((i += dt) < 1) {\n      distances.push(i);\n    }\n    distances.push(1);\n\n    // Compute point-interpolators at each distance.\n    const points = distances.map(function(t) {\n        const p0 = path0.getPointAtLength(t * n0);\n        const p1 = path1.getPointAtLength(t * n1);\n        return ([[p0.x, p0.y], [p1.x, p1.y]]);\n    });\n    return points;\n}\n","export default function() {\n    return this._data || null;\n}\n\nexport function isEdgeElementParent(datum) {\n    return (datum.attributes.class == 'edge' || (\n        datum.tag == 'a' &&\n            datum.parent.tag == 'g' &&\n            datum.parent.parent.attributes.class == 'edge'\n    ));\n}\n\nexport function isEdgeElement(datum) {\n    return datum.parent && isEdgeElementParent(datum.parent);\n}\n\nexport function getEdgeGroup(datum) {\n    if (datum.parent.attributes.class == 'edge') {\n        return datum.parent;\n    } else { // datum.parent.tag == 'g' && datum.parent.parent.tag == 'g' && datum.parent.parent.parent.attributes.class == 'edge'\n        return datum.parent.parent.parent;\n    }\n}\n\nexport function getEdgeTitle(datum) {\n    return getEdgeGroup(datum).children.find(function (e) {\n        return e.tag == 'title';\n    });\n}\n","import * as d3 from \"d3-selection\";\nimport {transition} from \"d3-transition\";\nimport {timeout} from \"d3-timer\";\nimport {interpolateTransformSvg} from \"d3-interpolate\";\nimport {zoomTransform} from \"d3-zoom\";\nimport {createElement, extractElementData, replaceElement} from \"./element\";\nimport {shallowCopyObject} from \"./utils\";\nimport {createZoomBehavior, getTranslatedZoomTransform, translateZoomBehaviorTransform} from \"./zoom\";\nimport {pathTween} from \"./tweening\";\nimport {isEdgeElement} from \"./data\";\nimport {isEdgeElementParent} from \"./data\";\n\nexport default function(callback) {\n\n    if (this._busy) {\n        this._queue.push(this.render.bind(this, callback));\n        return this;\n    }\n    this._dispatch.call('renderStart', this);\n\n    if (this._transitionFactory) {\n        timeout(function () { // Decouple from time spent. See https://github.com/d3/d3-timer/issues/27\n            this._transition = transition(this._transitionFactory());\n            _render.call(this, callback);\n        }.bind(this), 0);\n    } else {\n        _render.call(this, callback);\n    }\n    return this;\n}\n\nfunction _render(callback) {\n\n    var transitionInstance = this._transition;\n    var fade = this._options.fade && transitionInstance != null;\n    var tweenPaths = this._options.tweenPaths;\n    var tweenShapes = this._options.tweenShapes;\n    var convertEqualSidedPolygons = this._options.convertEqualSidedPolygons;\n    var growEnteringEdges = this._options.growEnteringEdges && transitionInstance != null;\n    var attributer = this._attributer;\n    var graphvizInstance = this;\n\n    function insertChildren(element) {\n        var children = element.selectAll(function () {\n            return element.node().childNodes;\n        });\n\n        children = children\n          .data(function (d) {\n              return d.children;\n          }, function (d) {\n              return d.key;\n          });\n        var childrenEnter = children\n          .enter()\n          .append(function(d) {\n              var element = createElement(d);\n              if (d.tag == '#text' && fade) {\n                  element.nodeValue = d.text;\n              }\n              return element;\n          });\n\n        if (fade || (growEnteringEdges && isEdgeElementParent(element.datum()))) {\n            var childElementsEnter = childrenEnter\n                .filter(function(d) {\n                    return d.tag[0] == '#' ? null : this;\n                })\n                .each(function (d) {\n                    var childEnter = d3.select(this);\n                    for (var attributeName of Object.keys(d.attributes)) {\n                        var attributeValue = d.attributes[attributeName];\n                        childEnter\n                            .attr(attributeName, attributeValue);\n                    }\n                });\n            childElementsEnter\n              .filter(function(d) {\n                    return d.tag == 'svg' || d.tag == 'g' ? null : this;\n              })\n                .style(\"opacity\", 0.0);\n        }\n        var childrenExit = children\n          .exit();\n        if (attributer) {\n            childrenExit.each(attributer);\n        }\n        if (transitionInstance) {\n            childrenExit = childrenExit\n                .transition(transitionInstance);\n            if (fade) {\n                childrenExit\n                  .filter(function(d) {\n                      return d.tag[0] == '#' ? null : this;\n                  })\n                    .style(\"opacity\", 0.0);\n            }\n        }\n        childrenExit = childrenExit\n            .remove()\n        children = childrenEnter\n            .merge(children);\n        children.each(attributeElement);\n    }\n\n    function attributeElement(data) {\n        var element = d3.select(this);\n        if (data.tag == \"svg\") {\n            var options = graphvizInstance._options;\n            if (options.width != null || options.height != null) {\n                var width = options.width;\n                var height = options.height;\n                if (width == null) {\n                    width = data.attributes.width.replace('pt', '') * 4 / 3;\n                } else {\n                    element\n                        .attr(\"width\", width);\n                    data.attributes.width = width;\n                }\n                if (height == null) {\n                    height = data.attributes.height.replace('pt', '') * 4 / 3;\n                } else {\n                    element\n                        .attr(\"height\", height);\n                    data.attributes.height = height;\n                }\n                if (!options.fit) {\n                    element\n                        .attr(\"viewBox\", `0 0 ${width * 3 / 4 / options.scale} ${height * 3 / 4 / options.scale}`);\n                    data.attributes.viewBox = `0 0 ${width * 3 / 4 / options.scale} ${height * 3 / 4 / options.scale}`;\n                }\n            }\n            if (options.scale != 1 && (options.fit || (options.width == null && options.height == null))) {\n                width = data.attributes.viewBox.split(' ')[2];\n                height = data.attributes.viewBox.split(' ')[3];\n                element\n                    .attr(\"viewBox\", `0 0 ${width / options.scale} ${height / options.scale}`);\n                data.attributes.viewBox = `0 0 ${width / options.scale} ${height / options.scale}`;\n            }\n        }\n        if (attributer) {\n            element.each(attributer);\n        }\n        var tag = data.tag;\n        var attributes = data.attributes;\n        var currentAttributes = element.node().attributes;\n        if (currentAttributes) {\n            for (var i = 0; i < currentAttributes.length; i++) {\n                var currentAttribute = currentAttributes[i];\n                var name = currentAttribute.name;\n                if (name.split(':')[0] != 'xmlns' && currentAttribute.namespaceURI) {\n                    var namespaceURIParts = currentAttribute.namespaceURI.split('/');\n                    var namespace = namespaceURIParts[namespaceURIParts.length - 1];\n                    name = namespace + ':' + name;\n                }\n                if (!(name in attributes)) {\n                    attributes[name] = null;\n                }\n            }\n        }\n        var convertShape = false;\n        var convertPrevShape = false;\n        if (tweenShapes && transitionInstance) {\n            if ((this.nodeName == 'polygon' || this.nodeName == 'ellipse') && data.alternativeOld) {\n                convertPrevShape = true;\n            }\n            if ((tag == 'polygon' || tag == 'ellipse') && data.alternativeNew) {\n                convertShape = true;\n            }\n            if (this.nodeName == 'polygon' && tag == 'polygon' && data.alternativeOld) {\n                var prevData = extractElementData(element);\n                var prevPoints = prevData.attributes.points;\n                if (!convertEqualSidedPolygons) {\n                    var nPrevPoints = prevPoints.split(' ').length;\n                    var points = data.attributes.points;\n                    var nPoints = points.split(' ').length;\n                    if (nPoints == nPrevPoints) {\n                        convertShape = false;\n                        convertPrevShape = false;\n                    }\n                }\n            }\n            if (convertPrevShape) {\n                var prevPathData = data.alternativeOld;\n                var pathElement = replaceElement(element, prevPathData);\n                pathElement.data([data], function () {\n                    return data.key;\n                });\n                element = pathElement;\n            }\n            if (convertShape) {\n                var newPathData = data.alternativeNew;\n                tag = 'path';\n                attributes = newPathData.attributes;\n            }\n        }\n        var elementTransition = element;\n        if (transitionInstance) {\n            elementTransition = elementTransition\n                .transition(transitionInstance);\n            if (fade) {\n                elementTransition\n                  .filter(function(d) {\n                      return d.tag[0] == '#' ? null : this;\n                  })\n                    .style(\"opacity\", 1.0);\n            }\n            elementTransition\n              .filter(function(d) {\n                  return d.tag[0] == '#' ? null : this;\n              })\n                .on(\"end\", function(d) {\n                    d3.select(this)\n                        .attr('style', (d && d.attributes && d.attributes.style) || null);\n                });\n        }\n        var growThisPath = growEnteringEdges && tag == 'path' && data.offset;\n        if (growThisPath) {\n            var totalLength = data.totalLength;\n            element\n                .attr(\"stroke-dasharray\", totalLength + \" \" + totalLength)\n                .attr(\"stroke-dashoffset\", totalLength)\n                .attr('transform', 'translate(' + data.offset.x + ',' + data.offset.y + ')');\n            attributes[\"stroke-dashoffset\"] = 0;\n            attributes['transform'] = 'translate(0,0)';\n            elementTransition\n                .attr(\"stroke-dashoffset\", attributes[\"stroke-dashoffset\"])\n                .attr('transform', attributes['transform'])\n                .on(\"start\", function() {\n                    d3.select(this)\n                        .style('opacity', null);\n                })\n                .on(\"end\", function() {\n                    d3.select(this)\n                        .attr('stroke-dashoffset', null)\n                        .attr('stroke-dasharray', null)\n                        .attr('transform', null);\n                });\n        }\n        var moveThisPolygon = growEnteringEdges && tag == 'polygon' && isEdgeElement(data) && data.offset && data.parent.children[3].tag == 'path';\n        if (moveThisPolygon) {\n            var edgePath = d3.select(element.node().parentNode.querySelector(\"path\"));\n            var p0 = edgePath.node().getPointAtLength(0);\n            var p1 = edgePath.node().getPointAtLength(data.totalLength);\n            var p2 = edgePath.node().getPointAtLength(data.totalLength - 1);\n            var angle1 = Math.atan2(p1.y - p2.y, p1.x - p2.x) * 180 / Math.PI;\n            var x = p0.x - p1.x + data.offset.x;\n            var y = p0.y - p1.y + data.offset.y;\n            element\n                .attr('transform', 'translate(' + x + ',' + y + ')');\n            elementTransition\n                .attrTween(\"transform\", function () {\n                    return function (t) {\n                        var p = edgePath.node().getPointAtLength(data.totalLength * t);\n                        var p2 = edgePath.node().getPointAtLength(data.totalLength * t + 1);\n                        var angle = Math.atan2(p2.y - p.y, p2.x - p.x) * 180 / Math.PI - angle1;\n                        x = p.x - p1.x + data.offset.x * (1 - t);\n                        y = p.y - p1.y + data.offset.y * (1 - t);\n                        return 'translate(' + x + ',' + y + ') rotate(' + angle + ' ' + p1.x + ' ' + p1.y + ')';\n                    }\n                })\n                .on(\"start\", function() {\n                    d3.select(this)\n                        .style('opacity', null);\n                })\n                .on(\"end\", function() {\n                    d3.select(this).attr('transform', null);\n                });\n        }\n        var tweenThisPath = tweenPaths && transitionInstance && tag == 'path' && element.attr('d') != null;\n        for (var attributeName of Object.keys(attributes)) {\n            var attributeValue = attributes[attributeName];\n            if (tweenThisPath && attributeName == 'd') {\n                var points = (data.alternativeOld || data).points;\n                if (points) {\n                    elementTransition\n                        .attrTween(\"d\", pathTween(points, attributeValue));\n                }\n            } else {\n                if (attributeName == 'transform' && data.translation) {\n                    if (transitionInstance) {\n                        var onEnd = elementTransition.on(\"end\");\n                        elementTransition\n                            .on(\"start\", function () {\n                                if (graphvizInstance._zoomBehavior) {\n                                    // Update the transform to transition to, just before the transition starts\n                                    // in order to catch changes between the transition scheduling to its start.\n                                    elementTransition\n                                        .tween(\"attr.transform\", function() {\n                                            var node = this;\n                                            return function(t) {\n                                                node.setAttribute(\"transform\", interpolateTransformSvg(zoomTransform(graphvizInstance._zoomSelection.node()).toString(), getTranslatedZoomTransform.call(graphvizInstance, element).toString())(t));\n                                            };\n                                        });\n                                }\n                            })\n                            .on(\"end\", function () {\n                                onEnd.call(this);\n                                // Update the zoom transform to the new translated transform\n                                if (graphvizInstance._zoomBehavior) {\n                                    translateZoomBehaviorTransform.call(graphvizInstance, element);\n                                }\n                            })\n                    } else {\n                        if (graphvizInstance._zoomBehavior) {\n                            // Update the transform attribute to set with the current pan translation\n                            translateZoomBehaviorTransform.call(graphvizInstance, element);\n                            attributeValue = getTranslatedZoomTransform.call(graphvizInstance, element).toString();\n                        }\n                    }\n                }\n                elementTransition\n                    .attr(attributeName, attributeValue);\n            }\n        }\n        if (convertShape) {\n            elementTransition\n                .on(\"end\", function (d, i, nodes) {\n                    pathElement = d3.select(this);\n                    var newElement = replaceElement(pathElement, d);\n                    newElement.data([d], function () {\n                        return d.key;\n                    });\n                })\n        }\n        if (data.text) {\n            elementTransition\n                .text(data.text);\n        }\n        insertChildren(element);\n    }\n\n    var root = this._selection;\n\n    if (transitionInstance != null) {\n        // Ensure original SVG shape elements are restored after transition before rendering new graph\n        var jobs = this._jobs;\n        if (graphvizInstance._active) {\n            jobs.push(null);\n            return this;\n        } else {\n            root\n              .transition(transitionInstance)\n              .transition()\n                .duration(0)\n                .on(\"end\" , function () {\n                    graphvizInstance._active = false;\n                    if (jobs.length != 0) {\n                        jobs.shift();\n                        graphvizInstance.render();\n                    }\n                });\n            this._active = true;\n        }\n    }\n\n    if (transitionInstance != null) {\n        root\n          .transition(transitionInstance)\n            .on(\"start\" , function () {\n                graphvizInstance._dispatch.call('transitionStart', graphvizInstance);\n            })\n            .on(\"end\" , function () {\n                graphvizInstance._dispatch.call('transitionEnd', graphvizInstance);\n            })\n          .transition()\n            .duration(0)\n            .on(\"start\" , function () {\n                graphvizInstance._dispatch.call('restoreEnd', graphvizInstance);\n                graphvizInstance._dispatch.call('end', graphvizInstance);\n                if (callback) {\n                    callback.call(graphvizInstance);\n                }\n            });\n    }\n\n    var data = this._data;\n\n    var svg = root\n      .selectAll(\"svg\")\n        .data([data], function (d) {return d.key});\n    svg = svg\n      .enter()\n      .append(\"svg\")\n      .merge(svg);\n\n    attributeElement.call(svg.node(), data);\n\n\n    if (this._options.zoom && !this._zoomBehavior) {\n        createZoomBehavior.call(this);\n    }\n\n    graphvizInstance._dispatch.call('renderEnd', graphvizInstance);\n\n    if (transitionInstance == null) {\n        this._dispatch.call('end', this);\n        if (callback) {\n            callback.call(this);\n        }\n    }\n\n    return this;\n};\n","import {shallowCopyObject} from \"./utils\";\nimport {roundTo2Decimals} from \"./utils\";\n\nexport function convertToPathData(originalData, guideData) {\n    if (originalData.tag == 'polygon') {\n        var newData = shallowCopyObject(originalData);\n        newData.tag = 'path';\n        var originalAttributes = originalData.attributes;\n        var newAttributes = shallowCopyObject(originalAttributes);\n        var newPointsString = originalAttributes.points;\n        if (guideData.tag == 'polygon') {\n            var bbox = originalData.bbox;\n            bbox.cx = bbox.x + bbox.width / 2;\n            bbox.cy = bbox.y + bbox.height / 2;\n            var pointsString = originalAttributes.points;\n            var pointStrings = pointsString.split(' ');\n            var normPoints = pointStrings.map(function(p) {var xy = p.split(','); return [xy[0] - bbox.cx, xy[1] - bbox.cy]});\n            var x0 = normPoints[normPoints.length - 1][0];\n            var y0 = normPoints[normPoints.length - 1][1];\n            for (var i = 0; i < normPoints.length; i++, x0 = x1, y0 = y1) {\n                var x1 = normPoints[i][0];\n                var y1 = normPoints[i][1];\n                var dx = x1 - x0;\n                var dy = y1 - y0;\n                if (dy == 0) {\n                    continue;\n                } else {\n                    var x2 = x0 - y0 * dx / dy;\n                }\n                if (0 <= x2 && x2 < Infinity && ((x0 <= x2 && x2 <= x1) || (x1 <= x2 && x2 <= x0))) {\n                    break;\n                }\n            }\n            var newPointStrings = [[bbox.cx + x2, bbox.cy + 0].join(',')];\n            newPointStrings = newPointStrings.concat(pointStrings.slice(i));\n            newPointStrings = newPointStrings.concat(pointStrings.slice(0, i));\n            newPointsString = newPointStrings.join(' ');\n        }\n        newAttributes['d'] = 'M' + newPointsString + 'z';\n        delete newAttributes.points;\n        newData.attributes = newAttributes;\n    } else /* if (originalData.tag == 'ellipse') */ {\n        var newData = shallowCopyObject(originalData);\n        newData.tag = 'path';\n        var originalAttributes = originalData.attributes;\n        var newAttributes = shallowCopyObject(originalAttributes);\n        var cx = originalAttributes.cx;\n        var cy = originalAttributes.cy;\n        var rx = originalAttributes.rx;\n        var ry = originalAttributes.ry;\n        if (guideData.tag == 'polygon') {\n            var bbox = guideData.bbox;\n            bbox.cx = bbox.x + bbox.width / 2;\n            bbox.cy = bbox.y + bbox.height / 2;\n            var p = guideData.attributes.points.split(' ')[0].split(',');\n            var sx = p[0];\n            var sy = p[1];\n            var dx = sx - bbox.cx;\n            var dy = sy - bbox.cy;\n            var l = Math.sqrt(Math.pow(dx, 2) + Math.pow(dy, 2));\n            var cosA = dx / l;\n            var sinA = -dy / l;\n        } else { // if (guideData.tag == 'path') {\n            // FIXME: add support for getting start position from path\n            var cosA = 1;\n            var sinA = 0;\n        }\n        var x1 = rx * cosA;\n        var y1 = -ry * sinA;\n        var x2 = rx * (-cosA);\n        var y2 = -ry * (-sinA);\n        var dx = x2 - x1;\n        var dy = y2 - y1;\n        newAttributes['d'] = 'M '  +  cx + ' ' + cy + ' m ' + x1 + ',' + y1 + ' a ' + rx + ',' + ry + ' 0 1,0 ' + dx + ',' + dy + ' a ' + rx + ',' + ry + ' 0 1,0 ' + -dx + ',' + -dy + 'z';\n        delete newAttributes.cx;\n        delete newAttributes.cy;\n        delete newAttributes.rx;\n        delete newAttributes.ry;\n        newData.attributes = newAttributes;\n    }\n    return newData;\n}\n\nexport function translatePointsAttribute(pointsString, x, y) {\n    var pointStrings = pointsString.split(' ');\n    var points = pointStrings.map(function(p) {return p.split(',')});\n    var points = pointStrings.map(function(p) {return [roundTo2Decimals(+x + +p.split(',')[0]), roundTo2Decimals(+y + +p.split(',')[1])]});\n    var pointStrings = points.map(function(p) {return p.join(',')});\n    var pointsString = pointStrings.join(' ');\n    return pointsString;\n}\n\nexport function translateDAttribute(d, x, y) {\n    var pointStrings = d.split(/[A-Z ]/);\n    pointStrings.shift();\n    var commands = d.split(/[^[A-Z ]+/);\n    var points = pointStrings.map(function(p) {return p.split(',')});\n    var points = pointStrings.map(function(p) {return [roundTo2Decimals(+x + +p.split(',')[0]), roundTo2Decimals(+y + +p.split(',')[1])]});\n    var pointStrings = points.map(function(p) {return p.join(',')});\n    d = commands.reduce(function(arr, v, i) {\n        return arr.concat(v, pointStrings[i]);\n    }, []).join('');\n    return d;\n}\n","import { graphviz } from \"@hpcc-js/wasm\";\nimport { graphvizSync } from \"@hpcc-js/wasm\";\nimport * as d3 from \"d3-selection\";\nimport {extractAllElementsData, extractElementData, createElementWithAttributes} from \"./element\";\nimport {convertToPathData} from \"./svg\";\nimport {pathTweenPoints} from \"./tweening\";\nimport {isEdgeElement} from \"./data\";\nimport {getEdgeTitle} from \"./data\";\n\n\nexport function initViz() {\n\n    // force JIT compilation of Viz.js\n    try {\n        graphviz.layout(\"\", \"svg\", \"dot\").then(() => {\n            graphvizSync().then((graphviz1) => {\n                this.layoutSync = graphviz1.layout.bind(graphviz1);\n                if (this._worker == null) {\n                    this._dispatch.call(\"initEnd\", this);\n                }\n                if (this._afterInit) {\n                    this._afterInit();\n                }\n            });\n        });\n    } catch(error) {\n    }\n    if (this._worker != null) {\n        var vizURL = this._vizURL;\n        var graphvizInstance = this;\n        this._workerPort.onmessage = function(event) {\n            var callback = graphvizInstance._workerCallbacks.shift();\n            callback.call(graphvizInstance, event);\n        }\n        if (!vizURL.match(/^https?:\\/\\/|^\\/\\//i)) {\n            // Local URL. Prepend with local domain to be usable in web worker\n            vizURL = (new window.URL(vizURL, document.location.href)).href;\n        }\n        postMessage.call(this, {dot: \"\", engine: 'dot', vizURL: vizURL}, function(event) {\n            switch (event.data.type) {\n            case \"init\":\n                graphvizInstance._dispatch.call(\"initEnd\", this);\n                break;\n            }\n        });\n    }\n}\n\nfunction postMessage(message, callback) {\n    this._workerCallbacks.push(callback);\n    this._workerPort.postMessage(message);\n}\n\nexport function layout(src, engine, vizOptions, callback) {\n    var graphvizInstance = this;\n    var worker = this._worker;\n    if (this._worker) {\n        postMessage.call(this, {\n            dot: src,\n            engine: engine,\n            options: vizOptions,\n        }, function (event) {\n            callback.call(this, event.data);\n        });\n    } else {\n        try {\n            var svgDoc = this.layoutSync(src, \"svg\", engine, vizOptions);\n            callback.call(this, {type: 'done', svg: svgDoc});\n        }\n        catch(error) {\n            callback.call(this, {type: 'error', error: error.message});\n        }\n    }\n}\n\nexport default function(src, callback) {\n\n    var graphvizInstance = this;\n    var worker = this._worker;\n    var engine = this._options.engine;\n    var images = this._images;\n\n    this._dispatch.call(\"start\", this);\n    this._busy = true;\n    this._dispatch.call(\"layoutStart\", this);\n    var vizOptions = {\n        images: images,\n    };\n    if (!this._worker && this.layoutSync == null) {\n        this._afterInit = this.dot.bind(this, src, callback);\n        return this;\n    }\n    this.layout(src, engine, vizOptions, function (data) {\n        switch (data.type) {\n        case \"error\":\n            if (graphvizInstance._onerror) {\n                graphvizInstance._onerror(data.error);\n            } else {\n                throw data.error.message\n            }\n            break;\n        case \"done\":\n            var svgDoc = data.svg;\n            layoutDone.call(this, svgDoc, callback);\n            break;\n        }\n    });\n\n    return this;\n};\n\nfunction layoutDone(svgDoc, callback) {\n    var keyMode = this._options.keyMode;\n    var tweenPaths = this._options.tweenPaths;\n    var tweenShapes = this._options.tweenShapes;\n    if (typeof this._options.tweenPrecision == 'string' && this._options.tweenPrecision.includes('%')) {\n        var tweenPrecision = +this._options.tweenPrecision.split('%')[0] / 100;\n        var tweenPrecisionIsRelative = this._options.tweenPrecision.includes('%');\n    } else {\n        var tweenPrecision = this._options.tweenPrecision;\n        var tweenPrecisionIsRelative = false;\n    }\n    var growEnteringEdges = this._options.growEnteringEdges;\n    var dictionary = {};\n    var prevDictionary = this._dictionary || {};\n    var nodeDictionary = {};\n    var prevNodeDictionary = this._nodeDictionary || {};\n\n    function setKey(datum, index) {\n        var tag = datum.tag;\n        if (keyMode == 'index') {\n            datum.key = index;\n        } else if (tag[0] != '#') {\n            if (keyMode == 'id') {\n                datum.key = datum.attributes.id;\n            } else if (keyMode == 'title') {\n                var title = datum.children.find(function (childData) {\n                    return childData.tag == 'title';\n                });\n                if (title) {\n                    if (title.children.length > 0) {\n                        datum.key = title.children[0].text;\n                    } else {\n                        datum.key = '';\n                    }\n                }\n            }\n        }\n        if (datum.key == null) {\n            if (tweenShapes) {\n                if (tag == 'ellipse' || tag == 'polygon') {\n                    tag = 'path';\n                }\n            }\n            datum.key = tag + '-' + index;\n        }\n    }\n\n    function setId(datum, parentData) {\n        var id = (parentData ? parentData.id + '.' : '') + datum.key;\n        datum.id = id;\n    }\n\n    function addToDictionary(datum) {\n        dictionary[datum.id] = datum;\n    }\n\n    function calculateAlternativeShapeData(datum, prevDatum) {\n        if (tweenShapes && datum.id in prevDictionary) {\n            if ((prevDatum.tag == 'polygon' || prevDatum.tag == 'ellipse' || prevDatum.tag == 'path') && (prevDatum.tag != datum.tag || datum.tag == 'polygon')) {\n                if (prevDatum.tag != 'path') {\n                    datum.alternativeOld = convertToPathData(prevDatum, datum);\n                }\n                if (datum.tag != 'path') {\n                    datum.alternativeNew = convertToPathData(datum, prevDatum);\n                }\n            }\n        }\n    }\n\n    function calculatePathTweenPoints(datum, prevDatum) {\n        if (tweenPaths && prevDatum && (prevDatum.tag == 'path' || (datum.alternativeOld && datum.alternativeOld.tag == 'path'))) {\n            var attribute_d = (datum.alternativeNew || datum).attributes.d;\n            if (datum.alternativeOld) {\n                var oldNode = createElementWithAttributes(datum.alternativeOld);\n            } else {\n                var oldNode = createElementWithAttributes(prevDatum);\n            }\n            (datum.alternativeOld || (datum.alternativeOld = {})).points = pathTweenPoints(oldNode, attribute_d, tweenPrecision, tweenPrecisionIsRelative);\n        }\n    }\n\n    function postProcessDataPass1Local(datum, index=0, parentData) {\n        setKey(datum, index);\n        setId(datum, parentData);\n        var id = datum.id;\n        var prevDatum = prevDictionary[id];\n        addToDictionary(datum);\n        calculateAlternativeShapeData(datum, prevDatum);\n        calculatePathTweenPoints(datum, prevDatum);\n        var childTagIndexes = {};\n        datum.children.forEach(function (childData) {\n            var childTag = childData.tag;\n            if (childTag == 'ellipse' || childTag == 'polygon') {\n                childTag = 'path';\n            }\n            if (childTagIndexes[childTag] == null) {\n                childTagIndexes[childTag] = 0;\n            }\n            var childIndex = childTagIndexes[childTag]++;\n            postProcessDataPass1Local(childData, childIndex, datum);\n        });\n    }\n\n    function addToNodeDictionary(datum) {\n        var tag = datum.tag;\n        if (growEnteringEdges && datum.parent) {\n            if (datum.parent.attributes.class == 'node') {\n                if (tag == 'title') {\n                    if (datum.children.length > 0) {\n                      var child = datum.children[0];\n                      var nodeId = child.text;\n                    } else {\n                      var nodeId = '';\n                    }\n                    nodeDictionary[nodeId] = datum.parent;\n                }\n            }\n        }\n    }\n\n    function extractGrowingEdgesData(datum) {\n        var id = datum.id;\n        var tag = datum.tag;\n        var prevDatum = prevDictionary[id];\n        if (growEnteringEdges && !prevDatum && datum.parent) {\n            if (isEdgeElement(datum)) {\n                if (tag == 'path' || tag == 'polygon') {\n                    if (tag == 'polygon') {\n                        var path = datum.parent.children.find(function (e) {\n                            return e.tag == 'path';\n                        });\n                        if (path) {\n                            datum.totalLength = path.totalLength;\n                        }\n                    }\n                    var title = getEdgeTitle(datum);\n                    var child = title.children[0];\n                    var nodeIds = child.text.split('->');\n                    if (nodeIds.length != 2) {\n                        nodeIds = child.text.split('--');\n                    }\n                    var startNodeId = nodeIds[0];\n                    var startNode = nodeDictionary[startNodeId];\n                    var prevStartNode = prevNodeDictionary[startNodeId];\n                    if (prevStartNode) {\n                        var i = startNode.children.findIndex(function (element, index) {\n                            return element.tag == 'g';\n                        });\n                        if (i >= 0) {\n                            var j = startNode.children[i].children.findIndex(function (element, index) {\n                                return element.tag == 'a';\n                            });\n                            startNode = startNode.children[i].children[j];\n                        }\n                        var i = prevStartNode.children.findIndex(function (element, index) {\n                            return element.tag == 'g';\n                        });\n                        if (i >= 0) {\n                            var j = prevStartNode.children[i].children.findIndex(function (element, index) {\n                                return element.tag == 'a';\n                            });\n                            prevStartNode = prevStartNode.children[i].children[j];\n                        }\n                        var startShapes = startNode.children;\n                        for (var i = 0; i < startShapes.length; i++) {\n                            if (startShapes[i].tag == 'polygon' || startShapes[i].tag == 'ellipse' || startShapes[i].tag == 'path' || startShapes[i].tag == 'text') {\n                                var startShape = startShapes[i];\n                                break;\n                            }\n                        }\n                        var prevStartShapes = prevStartNode.children;\n                        for (var i = 0; i < prevStartShapes.length; i++) {\n                            if (prevStartShapes[i].tag == 'polygon' || prevStartShapes[i].tag == 'ellipse' || prevStartShapes[i].tag == 'path' || prevStartShapes[i].tag == 'text') {\n                                var prevStartShape = prevStartShapes[i];\n                                break;\n                            }\n                        }\n                        if (prevStartShape && startShape) {\n                            datum.offset = {\n                                x: prevStartShape.center.x - startShape.center.x,\n                                y: prevStartShape.center.y - startShape.center.y,\n                            }\n                        } else {\n                            datum.offset = {x: 0, y: 0};\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    function postProcessDataPass2Global(datum) {\n        addToNodeDictionary(datum);\n        extractGrowingEdgesData(datum);\n        datum.children.forEach(function (childData) {\n            postProcessDataPass2Global(childData);\n        });\n    }\n\n    this._dispatch.call(\"layoutEnd\", this);\n\n    var newDoc = d3.select(document.createDocumentFragment())\n        .append('div');\n\n    var parser = new window.DOMParser();\n    var doc = parser.parseFromString(svgDoc, \"image/svg+xml\");\n\n    newDoc\n        .append(function() {\n            return doc.documentElement;\n        });\n\n    var newSvg = newDoc\n      .select('svg');\n\n    var data = extractAllElementsData(newSvg);\n    this._dispatch.call('dataExtractEnd', this);\n    postProcessDataPass1Local(data);\n    this._dispatch.call('dataProcessPass1End', this);\n    postProcessDataPass2Global(data);\n    this._dispatch.call('dataProcessPass2End', this);\n    this._data = data;\n    this._dictionary = dictionary;\n    this._nodeDictionary = nodeDictionary;\n\n    this._extractData = function (element, childIndex, parentData) {\n        var data = extractAllElementsData(element);\n        postProcessDataPass1Local(data, childIndex, parentData);\n        postProcessDataPass2Global(data);\n        return data;\n    }\n    this._busy = false;\n    this._dispatch.call('dataProcessEnd', this);\n    if (callback) {\n        callback.call(this);\n    }\n    if (this._queue.length > 0) {\n        var job = this._queue.shift();\n        job.call(this);\n    }\n}\n","export default function(src, callback) {\n\n    var graphvizInstance = this;\n\n    this\n        .dot(src, render);\n\n    function render() {\n        graphvizInstance\n            .render(callback);\n    }\n\n    return this;\n};\n","import {transition} from \"d3-transition\";\nimport {active as d3_active} from \"d3-transition\";\n\nexport default function(name) {\n\n    if (name instanceof Function) {\n        this._transitionFactory = name;\n    } else {\n        this._transition = transition(name);\n    }\n\n    return this;\n};\n\nexport function active(name) {\n\n    var root = this._selection;\n    var svg = root.selectWithoutDataPropagation(\"svg\");\n    if (svg.size() != 0) {\n        return d3_active(svg.node(), name);\n    } else {\n        return null;\n    }\n};\n","export default function(options) {\n\n    if (typeof options == 'undefined') {\n        return Object.assign({}, this._options);\n    } else {\n        for (var option of Object.keys(options)) {\n            this._options[option] = options[option];\n        }\n        return this;\n    }\n};\n","export default function(width) {\n\n    this._options.width = width;\n\n    return this;\n};\n","export default function(height) {\n\n    this._options.height = height;\n\n    return this;\n};\n","export default function(scale) {\n\n    this._options.scale = scale;\n\n    return this;\n};\n","export default function(fit) {\n\n    this._options.fit = fit;\n\n    return this;\n};\n","export default function(callback) {\n\n    this._attributer = callback;\n\n    return this;\n};\n","export default function(engine) {\n\n    this._options.engine = engine;\n\n    return this;\n};\n","export default function(path, width, height) {\n\n    this._images.push({path:path, width: width, height:height})\n\n    return this;\n};\n","export default function(keyMode) {\n\n    if (!this._keyModes.has(keyMode)) {\n        throw Error('Illegal keyMode: ' + keyMode);\n    }\n    if (keyMode != this._options.keyMode && this._data != null) {\n        throw Error('Too late to change keyMode');\n    }\n    this._options.keyMode = keyMode;\n\n    return this;\n};\n","export default function(enable) {\n\n    this._options.fade = enable\n\n    return this;\n};\n","export default function(enable) {\n\n    this._options.tweenPaths = enable;\n\n    return this;\n};\n","export default function(enable) {\n\n    this._options.tweenShapes = enable;\n    if (enable) {\n        this._options.tweenPaths = true;\n    }\n\n    return this;\n};\n","export default function(enable) {\n\n    this._options.convertEqualSidedPolygons = enable;\n\n    return this;\n};\n","export default function(precision) {\n\n    this._options.tweenPrecision = precision;\n\n    return this;\n};\n","export default function(enable) {\n\n    this._options.growEnteringEdges = enable;\n\n    return this;\n};\n","export default function(typenames, callback) {\n\n    this._dispatch.on(typenames, callback);\n\n    return this;\n};\n","export default function(callback) {\n\n    this._onerror = callback\n\n    return this;\n};\n","import {format} from \"d3-format\";\n\nexport default function(enable) {\n\n    var t0 = Date.now();\n    var times = {};\n    var eventTypes = this._eventTypes;\n    var maxEventTypeLength = Math.max(...(eventTypes.map(eventType => eventType.length)));\n    for (let i = 0; i < eventTypes.length; i++) {\n        let eventType = eventTypes[i];\n        times[eventType] = [];\n        var graphvizInstance = this;\n        var expectedDelay;\n        var expectedDuration;\n        this\n            .on(eventType + '.log', enable ? function () {\n                var t = Date.now();\n                var seqNo = times[eventType].length;\n                times[eventType].push(t);\n                var string = '';\n                string += 'Event ';\n                string += format(' >2')(i) + ' ';\n                string += eventType + ' '.repeat(maxEventTypeLength - eventType.length);\n                string += format(' >5')(t - t0) + ' ';\n                if (eventType != 'initEnd') {\n                    string += format(' >5')(t - times['start'][seqNo]);\n                }\n                if (eventType == 'dataProcessEnd') {\n                    string += ' prepare                 ' + format(' >5')((t - times['layoutEnd'][seqNo]));\n                }\n                if (eventType == 'renderEnd' && graphvizInstance._transition) {\n                    string += ' transition start margin ' + format(' >5')(graphvizInstance._transition.delay() - (t - times['renderStart'][seqNo]));\n                    expectedDelay = graphvizInstance._transition.delay();\n                    expectedDuration = graphvizInstance._transition.duration();\n                }\n                if (eventType == 'transitionStart') {\n                    var actualDelay = (t - times['renderStart'][seqNo])\n                    string += ' transition delay        ' + format(' >5')(t - times['renderStart'][seqNo]);\n                    string += ' expected ' + format(' >5')(expectedDelay);\n                    string += ' diff ' + format(' >5')(actualDelay - expectedDelay);\n                }\n                if (eventType == 'transitionEnd') {\n                    var actualDuration = t - times['transitionStart'][seqNo]\n                    string += ' transition duration     ' + format(' >5')(actualDuration);\n                    string += ' expected ' + format(' >5')(expectedDuration);\n                    string += ' diff ' + format(' >5')(actualDuration - expectedDuration);\n                }\n                console.log(string);\n                t0 = t;\n            } : null);\n    }\n    return this;\n}\n","export default function() {\n\n    delete this._selection.node().__graphviz__;\n    if (this._worker) {\n        this._workerPortClose();\n    }\n    return this;\n};\n","export function rotate(x, y, cosA, sinA) {\n    // (x + j * y) * (cosA + j * sinA) = x * cosA - y * sinA + j * (x * sinA + y * cosA)\n    y = -y;\n    sinA = -sinA;\n    [x, y] = [x * cosA - y * sinA, x * sinA + y * cosA];\n    y = -y;\n    return [x, y];\n}\n","import * as d3 from \"d3-selection\";\nimport {path as d3_path} from \"d3-path\";\nimport {rotate} from \"./geometry\";\nimport {extractAllElementsData} from \"./element\";\nimport {attributeElement} from \"./element\";\nimport {insertAllElementsData} from \"./element\";\n\nexport function drawEdge(x1, y1, x2, y2, attributes, options={}) {\n    attributes = Object.assign({}, attributes);\n    if (attributes.style && attributes.style.includes('invis')) {\n        var newEdge = d3.select(null);\n    } else {\n        var root = this._selection;\n        var svg = root.selectWithoutDataPropagation(\"svg\");\n        var graph0 = svg.selectWithoutDataPropagation(\"g\");\n        var newEdge0 = createEdge.call(this, attributes);\n        var edgeData = extractAllElementsData(newEdge0);\n        var newEdge = graph0.append('g')\n            .data([edgeData]);\n        attributeElement.call(newEdge.node(), edgeData);\n        _updateEdge.call(this, newEdge, x1, y1, x2, y2, attributes, options);\n    }\n    this._drawnEdge = {\n        g: newEdge,\n        x1: x1,\n        y1: y1,\n        x2: x2,\n        y2: y2,\n        attributes: attributes,\n    };\n\n    return this;\n}\n\nexport function updateDrawnEdge(x1, y1, x2, y2, attributes={}, options={}) {\n    if (!this._drawnEdge)  {\n        throw Error('No edge has been drawn');\n    }\n    var edge = this._drawnEdge.g\n    attributes = Object.assign(this._drawnEdge.attributes, attributes);\n    this._drawnEdge.x1 = x1;\n    this._drawnEdge.y1 = y1;\n    this._drawnEdge.x2 = x2;\n    this._drawnEdge.y2 = y2;\n    if (edge.empty() && !(attributes.style && attributes.style.includes('invis'))) {\n        var root = this._selection;\n        var svg = root.selectWithoutDataPropagation(\"svg\");\n        var graph0 = svg.selectWithoutDataPropagation(\"g\");\n        var edge = graph0.append('g');\n        this._drawnEdge.g = edge;\n    }\n    if (!edge.empty())  {\n      _updateEdge.call(this, edge, x1, y1, x2, y2, attributes, options);\n    }\n\n    return this;\n}\n\nfunction _updateEdge(edge, x1, y1, x2, y2, attributes, options) {\n\n    var newEdge = createEdge.call(this, attributes);\n    var edgeData = extractAllElementsData(newEdge);\n    edge.data([edgeData]);\n    attributeElement.call(edge.node(), edgeData);\n    _moveEdge(edge, x1, y1, x2, y2, attributes, options);\n}\n\nfunction _moveEdge(edge, x1, y1, x2, y2, attributes, options) {\n\n    var shortening = options.shortening || 0;\n    var arrowHeadLength = 10;\n    var arrowHeadWidth = 7;\n    var margin = 0.1;\n\n    var arrowHeadPoints = [\n        [0, -arrowHeadWidth / 2],\n        [arrowHeadLength, 0],\n        [0, arrowHeadWidth / 2],\n        [0, -arrowHeadWidth / 2],\n    ];\n\n    var dx = x2 - x1;\n    var dy = y2 - y1;\n    var length = Math.sqrt(dx * dx + dy * dy);\n    if (length == 0) {\n        var cosA = 1;\n        var sinA = 0;\n    } else {\n        var cosA = dx / length;\n        var sinA = dy / length;\n    }\n    x2 = x1 + (length - shortening - arrowHeadLength - margin) * cosA;\n    y2 = y1 + (length - shortening - arrowHeadLength - margin) * sinA;\n\n    if (attributes.URL || attributes.tooltip) {\n        var a = edge.selectWithoutDataPropagation(\"g\").selectWithoutDataPropagation(\"a\");\n        var line = a.selectWithoutDataPropagation(\"path\");\n        var arrowHead = a.selectWithoutDataPropagation(\"polygon\");\n    } else {\n        var line = edge.selectWithoutDataPropagation(\"path\");\n        var arrowHead = edge.selectWithoutDataPropagation(\"polygon\");\n    }\n\n    var path1 = d3_path();\n    path1.moveTo(x1, y1);\n    path1.lineTo(x2, y2);\n\n    line\n        .attr(\"d\", path1);\n\n    x2 = x1 + (length - shortening - arrowHeadLength) * cosA;\n    y2 = y1 + (length - shortening - arrowHeadLength) * sinA;\n    for (var i = 0; i < arrowHeadPoints.length; i++) {\n        var point = arrowHeadPoints[i];\n        arrowHeadPoints[i] = rotate(point[0], point[1], cosA, sinA);\n    }\n    for (var i = 0; i < arrowHeadPoints.length; i++) {\n        var point = arrowHeadPoints[i];\n        arrowHeadPoints[i] = [x2 + point[0], y2 + point[1]];\n    }\n    var allPoints = [];\n    for (var i = 0; i < arrowHeadPoints.length; i++) {\n        var point = arrowHeadPoints[i];\n        allPoints.push(point.join(','));\n    }\n    var pointsAttr = allPoints.join(' ');\n\n    arrowHead\n        .attr(\"points\", pointsAttr);\n\n    return this;\n}\n\nexport function moveDrawnEdgeEndPoint(x2, y2, options={}) {\n\n    if (!this._drawnEdge)  {\n        throw Error('No edge has been drawn');\n    }\n    var edge = this._drawnEdge.g;\n    var x1 = this._drawnEdge.x1;\n    var y1 = this._drawnEdge.y1;\n    var attributes = this._drawnEdge.attributes;\n\n    this._drawnEdge.x2 = x2;\n    this._drawnEdge.y2 = y2;\n    _moveEdge(edge, x1, y1, x2, y2, attributes, options);\n\n    return this\n}\n\nexport function removeDrawnEdge() {\n\n    if (!this._drawnEdge)  {\n        return this;\n    }\n\n    var edge = this._drawnEdge.g;\n\n    edge.remove();\n\n    this._drawnEdge = null;\n\n    return this\n}\n\nexport function insertDrawnEdge(name) {\n\n    if (!this._drawnEdge)  {\n        throw Error('No edge has been drawn');\n    }\n\n    var edge = this._drawnEdge.g;\n    if (edge.empty())  {\n        return this;\n    }\n    var attributes = this._drawnEdge.attributes;\n\n    var title = edge.selectWithoutDataPropagation(\"title\");\n    title\n        .text(name);\n\n    var root = this._selection;\n    var svg = root.selectWithoutDataPropagation(\"svg\");\n    var graph0 = svg.selectWithoutDataPropagation(\"g\");\n    var graph0Datum = graph0.datum();\n    var edgeData = this._extractData(edge, graph0Datum.children.length, graph0.datum());\n    graph0Datum.children.push(edgeData);\n\n    insertAllElementsData(edge, edgeData);\n\n    this._drawnEdge = null;\n\n    return this\n\n}\n\nexport function drawnEdgeSelection() {\n\n  if (this._drawnEdge) {\n    return this._drawnEdge.g;\n  } else {\n    return d3.select(null);\n  }\n\n}\n\n\nfunction createEdge(attributes) {\n    var attributesString = ''\n    for (var name of Object.keys(attributes)) {\n        if (attributes[name] != null) {\n            attributesString += ' \"' + name + '\"=\"' + attributes[name] + '\"';\n        }\n    }\n    var dotSrc = 'digraph {a -> b [' + attributesString + ']}';\n    var svgDoc = this.layoutSync(dotSrc, 'svg', 'dot');\n    var parser = new window.DOMParser();\n    var doc = parser.parseFromString(svgDoc, \"image/svg+xml\");\n    var newDoc = d3.select(document.createDocumentFragment())\n        .append(function() {\n            return doc.documentElement;\n        });\n    var edge = newDoc.select('.edge');\n\n    return edge;\n}\n","import * as d3 from \"d3-selection\";\nimport {rotate} from \"./geometry\";\nimport {extractAllElementsData} from \"./element\";\nimport {translatePointsAttribute} from \"./svg\";\nimport {translateDAttribute} from \"./svg\";\nimport {insertAllElementsData} from \"./element\";\nimport {attributeElement} from \"./element\";\nimport {roundTo2Decimals} from \"./utils\";\n\nexport function drawNode(x, y, nodeId, attributes={}, options={}) {\n    attributes = Object.assign({}, attributes);\n    if (attributes.style && attributes.style.includes('invis')) {\n        var newNode = d3.select(null);\n    } else {\n        var root = this._selection;\n        var svg = root.selectWithoutDataPropagation(\"svg\");\n        var graph0 = svg.selectWithoutDataPropagation(\"g\");\n        var newNode0 = createNode.call(this, nodeId, attributes);\n        var nodeData = extractAllElementsData(newNode0);\n        var newNode = graph0.append('g')\n            .data([nodeData]);\n        attributeElement.call(newNode.node(), nodeData);\n        _updateNode.call(this, newNode, x, y, nodeId, attributes, options);\n    }\n    this._drawnNode = {\n        g: newNode,\n        nodeId: nodeId,\n        x: x,\n        y: y,\n        attributes: attributes,\n    };\n\n    return this;\n}\n\nexport function updateDrawnNode(x, y, nodeId, attributes={}, options={}) {\n    if (!this._drawnNode)  {\n        throw Error('No node has been drawn');\n    }\n\n    var node = this._drawnNode.g\n    if (nodeId == null) {\n        nodeId = this._drawnNode.nodeId;\n    }\n    attributes = Object.assign(this._drawnNode.attributes, attributes);\n    this._drawnNode.nodeId = nodeId;\n    this._drawnNode.x = x;\n    this._drawnNode.y = y;\n    if (node.empty() && !(attributes.style && attributes.style.includes('invis'))) {\n        var root = this._selection;\n        var svg = root.selectWithoutDataPropagation(\"svg\");\n        var graph0 = svg.selectWithoutDataPropagation(\"g\");\n        var node = graph0.append('g');\n        this._drawnNode.g = node;\n    }\n    if (!node.empty())  {\n      _updateNode.call(this, node, x, y, nodeId, attributes, options);\n    }\n\n    return this;\n}\n\nfunction _updateNode(node, x, y, nodeId, attributes, options) {\n\n    var newNode = createNode.call(this, nodeId, attributes);\n    var nodeData = extractAllElementsData(newNode);\n    node.data([nodeData]);\n    attributeElement.call(node.node(), nodeData);\n    _moveNode(node, x, y, attributes, options);\n\n    return this;\n}\n\nfunction _moveNode(node, x, y, attributes, options) {\n    if (attributes.URL || attributes.tooltip) {\n        var subParent = node.selectWithoutDataPropagation(\"g\").selectWithoutDataPropagation(\"a\");\n    } else {\n        var subParent = node;\n    }\n    var svgElements = subParent.selectAll('ellipse,polygon,path,polyline');\n    var text = node.selectWithoutDataPropagation(\"text\");\n\n    if (svgElements.size() != 0) {\n        var bbox = svgElements.node().getBBox();\n        bbox.cx = bbox.x + bbox.width / 2;\n        bbox.cy = bbox.y + bbox.height / 2;\n    } else if (text.size() != 0) {\n        bbox = {\n            x: +text.attr('x'),\n            y: +text.attr('y'),\n            width: 0,\n            height: 0,\n            cx: +text.attr('x'),\n            cy: +text.attr('y'),\n        }\n    }\n    svgElements.each(function(data, index) {\n        var svgElement = d3.select(this);\n        if (svgElement.attr(\"cx\")) {\n            svgElement\n                .attr(\"cx\", roundTo2Decimals(x))\n                .attr(\"cy\", roundTo2Decimals(y));\n        } else if (svgElement.attr(\"points\")) {\n            var pointsString = svgElement.attr('points').trim();\n            svgElement\n                .attr(\"points\", translatePointsAttribute(pointsString, x - bbox.cx, y - bbox.cy));\n        } else {\n            var d = svgElement.attr('d');\n            svgElement\n                .attr(\"d\", translateDAttribute(d, x - bbox.cx, y - bbox.cy));\n        }\n    });\n\n    if (text.size() != 0) {\n        text\n            .attr(\"x\", roundTo2Decimals(+text.attr(\"x\") + x - bbox.cx))\n            .attr(\"y\", roundTo2Decimals(+text.attr(\"y\") + y - bbox.cy));\n    }\n    return this;\n}\n\nexport function moveDrawnNode(x, y, options={}) {\n\n    if (!this._drawnNode)  {\n        throw Error('No node has been drawn');\n    }\n    var node = this._drawnNode.g;\n    var attributes = this._drawnNode.attributes;\n\n    this._drawnNode.x = x;\n    this._drawnNode.y = y;\n\n    if (!node.empty())  {\n        _moveNode(node, x, y, attributes, options);\n    }\n\n    return this\n}\n\nexport function removeDrawnNode() {\n\n    if (!this._drawnNode)  {\n        return this;\n    }\n\n    var node = this._drawnNode.g;\n\n    if (!node.empty())  {\n        node.remove();\n    }\n\n    this._drawnNode = null;\n\n    return this\n}\n\nexport function insertDrawnNode(nodeId) {\n\n    if (!this._drawnNode)  {\n        throw Error('No node has been drawn');\n    }\n\n    if (nodeId == null) {\n        nodeId = this._drawnNode.nodeId;\n    }\n    var node = this._drawnNode.g;\n    if (node.empty())  {\n        return this;\n    }\n    var attributes = this._drawnNode.attributes;\n\n    var title = node.selectWithoutDataPropagation(\"title\");\n    title\n        .text(nodeId);\n    if (attributes.URL || attributes.tooltip) {\n        var ga = node.selectWithoutDataPropagation(\"g\");\n        var a = ga.selectWithoutDataPropagation(\"a\");\n        var svgElement = a.selectWithoutDataPropagation('ellipse,polygon,path,polyline');\n        var text = a.selectWithoutDataPropagation('text');\n    } else {\n        var svgElement = node.selectWithoutDataPropagation('ellipse,polygon,path,polyline');\n        var text = node.selectWithoutDataPropagation('text');\n    }\n    text\n        .text(attributes.label || nodeId);\n\n    var root = this._selection;\n    var svg = root.selectWithoutDataPropagation(\"svg\");\n    var graph0 = svg.selectWithoutDataPropagation(\"g\");\n    var graph0Datum = graph0.datum();\n    var nodeData = this._extractData(node, graph0Datum.children.length, graph0.datum());\n    graph0Datum.children.push(nodeData);\n\n    insertAllElementsData(node, nodeData);\n\n    this._drawnNode = null;\n\n    return this\n\n}\n\nexport function drawnNodeSelection() {\n\n  if (this._drawnNode) {\n    return this._drawnNode.g;\n  } else {\n    return d3.select(null);\n  }\n\n}\n\nfunction createNode(nodeId, attributes) {\n    var attributesString = ''\n    for (var name of Object.keys(attributes)) {\n        if (attributes[name] != null) {\n            attributesString += ' \"' + name + '\"=\"' + attributes[name] + '\"';\n        }\n    }\n    var dotSrc = 'graph {\"' + nodeId + '\" [' + attributesString + ']}';\n    var svgDoc = this.layoutSync(dotSrc, 'svg', 'dot');\n    var parser = new window.DOMParser();\n    var doc = parser.parseFromString(svgDoc, \"image/svg+xml\");\n    var newDoc = d3.select(document.createDocumentFragment())\n        .append(function() {\n            return doc.documentElement;\n        });\n    var node = newDoc.select('.node');\n\n    return node;\n}\n","/* This file is excluded from coverage because the intrumented code\n * translates \"self\" which gives a reference error.\n */\n\n/* istanbul ignore next */\n\nexport function workerCodeBody(port) {\n\n    self.document = {}; // Workaround for \"ReferenceError: document is not defined\" in hpccWasm\n\n    port.addEventListener('message', function(event) {\n        let hpccWasm = self[\"@hpcc-js/wasm\"];\n        if (hpccWasm == undefined && event.data.vizURL) {\n            importScripts(event.data.vizURL);\n            hpccWasm = self[\"@hpcc-js/wasm\"];\n            hpccWasm.wasmFolder(event.data.vizURL.match(/.*\\//)[0]);\n            // This is an alternative workaround where wasmFolder() is not needed\n//                                    document = {currentScript: {src: event.data.vizURL}};\n        }\n        hpccWasm.graphviz.layout(event.data.dot, \"svg\", event.data.engine, event.data.options).then((svg) => {\n            if (svg) {\n                port.postMessage({\n                    type: \"done\",\n                    svg: svg,\n                });\n            } else if (event.data.vizURL) {\n                port.postMessage({\n                    type: \"init\",\n                });\n            } else {\n                port.postMessage({\n                    type: \"skip\",\n                });\n            }\n        }).catch(error => {\n            port.postMessage({\n                type: \"error\",\n                error: error.message,\n            });\n        });\n    });\n}\n\n/* istanbul ignore next */\n\nexport function workerCode() {\n\n    const port = self;\n    workerCodeBody(port);\n}\n\n/* istanbul ignore next */\n\nexport function sharedWorkerCode() {\n    self.onconnect = function(e) {\n        const port = e.ports[0];\n        workerCodeBody(port);\n        port.start();\n    }\n}\n","import * as d3 from \"d3-selection\";\nimport {dispatch} from \"d3-dispatch\";\nimport render from \"./render\";\nimport {layout} from \"./dot\";\nimport dot from \"./dot\";\nimport data from \"./data\";\nimport {initViz} from \"./dot\";\nimport renderDot from \"./renderDot\";\nimport transition from \"./transition\";\nimport {active} from \"./transition\";\nimport options from \"./options\";\nimport width from \"./width\";\nimport height from \"./height\";\nimport scale from \"./scale\";\nimport fit from \"./fit\";\nimport attributer from \"./attributer\";\nimport engine from \"./engine\";\nimport images from \"./images\";\nimport keyMode from \"./keyMode\";\nimport fade from \"./fade\";\nimport tweenPaths from \"./tweenPaths\";\nimport tweenShapes from \"./tweenShapes\";\nimport convertEqualSidedPolygons from \"./convertEqualSidedPolygons\";\nimport tweenPrecision from \"./tweenPrecision\";\nimport growEnteringEdges from \"./growEnteringEdges\";\nimport zoom from \"./zoom\";\nimport {resetZoom} from \"./zoom\";\nimport {zoomBehavior} from \"./zoom\";\nimport {zoomSelection} from \"./zoom\";\nimport {zoomScaleExtent} from \"./zoom\";\nimport {zoomTranslateExtent} from \"./zoom\";\nimport on from \"./on\";\nimport onerror from \"./onerror\";\nimport logEvents from \"./logEvents\";\nimport destroy from \"./destroy\";\nimport {drawEdge} from \"./drawEdge\";\nimport {updateDrawnEdge} from \"./drawEdge\";\nimport {moveDrawnEdgeEndPoint} from \"./drawEdge\";\nimport {insertDrawnEdge} from \"./drawEdge\";\nimport {removeDrawnEdge} from \"./drawEdge\";\nimport {drawnEdgeSelection} from \"./drawEdge\";\nimport {drawNode} from \"./drawNode\";\nimport {updateDrawnNode} from \"./drawNode\";\nimport {moveDrawnNode} from \"./drawNode\";\nimport {insertDrawnNode} from \"./drawNode\";\nimport {removeDrawnNode} from \"./drawNode\";\nimport {drawnNodeSelection} from \"./drawNode\";\nimport {workerCode} from \"./workerCode\";\nimport {sharedWorkerCode} from \"./workerCode\";\nimport {workerCodeBody} from \"./workerCode\";\n\nexport function Graphviz(selection, options) {\n    this._options = {\n        useWorker: true,\n        useSharedWorker: false,\n        engine: 'dot',\n        keyMode: 'title',\n        fade: true,\n        tweenPaths: true,\n        tweenShapes: true,\n        convertEqualSidedPolygons: true,\n        tweenPrecision: 1,\n        growEnteringEdges: true,\n        zoom: true,\n        zoomScaleExtent: [0.1, 10],\n        zoomTranslateExtent: [[-Infinity, -Infinity], [+Infinity, +Infinity]],\n        width: null,\n        height: null,\n        scale: 1,\n        fit: false,\n    };\n    if (options instanceof Object) {\n        for (var option of Object.keys(options)) {\n            this._options[option] = options[option];\n        }\n    } else if (typeof options == 'boolean') {\n        this._options.useWorker = options;\n    }\n    var useWorker = this._options.useWorker;\n    var useSharedWorker = this._options.useSharedWorker;\n    if (typeof Worker == 'undefined') {\n        useWorker = false;\n    }\n    if (typeof SharedWorker == 'undefined') {\n        useSharedWorker = false;\n    }\n    if (useWorker || useSharedWorker) {\n        var scripts = d3.selectAll('script');\n        var vizScript = scripts.filter(function() {\n            return d3.select(this).attr('type') == 'javascript/worker' || (d3.select(this).attr('src') && d3.select(this).attr('src').match(/.*\\/@hpcc-js\\/wasm/));\n        });\n        if (vizScript.size() == 0) {\n            console.warn('No script tag of type \"javascript/worker\" was found and \"useWorker\" is true. Not using web worker.');\n            useWorker = false;\n            useSharedWorker = false;\n        } else {\n            this._vizURL = vizScript.attr('src');\n            if (!this._vizURL) {\n                console.warn('No \"src\" attribute of was found on the \"javascript/worker\" script tag and \"useWorker\" is true. Not using web worker.');\n                useWorker = false;\n                useSharedWorker = false;\n            }\n        }\n    }\n    if (useSharedWorker) {\n        const url = 'data:application/javascript;base64,' + btoa(workerCodeBody.toString() + '(' + sharedWorkerCode.toString() + ')()');\n        this._worker = this._worker = new SharedWorker(url);\n        this._workerPort = this._worker.port;\n        this._workerPortClose = this._worker.port.close.bind(this._workerPort);\n        this._worker.port.start();\n        this._workerCallbacks = [];\n    }\n    else if (useWorker) {\n        var blob = new Blob([workerCodeBody.toString() + '(' + workerCode.toString() + ')()']);\n        var blobURL = window.URL.createObjectURL(blob);\n        this._worker = new Worker(blobURL);\n        this._workerPort = this._worker;\n        this._workerPortClose = this._worker.terminate.bind(this._worker);\n        this._workerCallbacks = [];\n    }\n    this._selection = selection;\n    this._active = false;\n    this._busy = false;\n    this._jobs = [];\n    this._queue = [];\n    this._keyModes = new Set([\n        'title',\n        'id',\n        'tag-index',\n        'index'\n    ]);\n    this._images = [];\n    this._translation = undefined;\n    this._scale = undefined;\n    this._eventTypes = [\n        'initEnd',\n        'start',\n        'layoutStart',\n        'layoutEnd',\n        'dataExtractEnd',\n        'dataProcessPass1End',\n        'dataProcessPass2End',\n        'dataProcessEnd',\n        'renderStart',\n        'renderEnd',\n        'transitionStart',\n        'transitionEnd',\n        'restoreEnd',\n        'end'\n    ];\n    this._dispatch = dispatch(...this._eventTypes);\n    initViz.call(this);\n    selection.node().__graphviz__ = this;\n}\n\nexport default function graphviz(selector, options) {\n    var g = d3.select(selector).graphviz(options);\n    return g;\n}\n\nGraphviz.prototype = graphviz.prototype = {\n    constructor: Graphviz,\n    engine: engine,\n    addImage: images,\n    keyMode: keyMode,\n    fade: fade,\n    tweenPaths: tweenPaths,\n    tweenShapes: tweenShapes,\n    convertEqualSidedPolygons: convertEqualSidedPolygons,\n    tweenPrecision: tweenPrecision,\n    growEnteringEdges: growEnteringEdges,\n    zoom: zoom,\n    resetZoom: resetZoom,\n    zoomBehavior: zoomBehavior,\n    zoomSelection: zoomSelection,\n    zoomScaleExtent: zoomScaleExtent,\n    zoomTranslateExtent: zoomTranslateExtent,\n    render: render,\n    layout: layout,\n    dot: dot,\n    data: data,\n    renderDot: renderDot,\n    transition: transition,\n    active: active,\n    options: options,\n    width: width,\n    height: height,\n    scale: scale,\n    fit: fit,\n    attributer: attributer,\n    on: on,\n    onerror: onerror,\n    logEvents: logEvents,\n    destroy: destroy,\n    drawEdge: drawEdge,\n    updateDrawnEdge: updateDrawnEdge,\n    moveDrawnEdgeEndPoint,\n    insertDrawnEdge,\n    removeDrawnEdge, removeDrawnEdge,\n    drawnEdgeSelection, drawnEdgeSelection,\n    drawNode: drawNode,\n    updateDrawnNode: updateDrawnNode,\n    moveDrawnNode: moveDrawnNode,\n    insertDrawnNode,\n    removeDrawnNode, removeDrawnNode,\n    drawnNodeSelection, drawnNodeSelection,\n};\n","import {Graphviz} from \"../graphviz\";\nimport {timeout} from \"d3-timer\";\n\nexport default function(options) {\n\n    var g = this.node().__graphviz__;\n    if (g) {\n        g.options(options);\n        // Ensure a possible new initEnd event handler is attached before calling it\n        timeout(function () {\n            g._dispatch.call(\"initEnd\", this);\n        }.bind(this), 0);\n    } else {\n        g = new Graphviz(this, options);\n    }\n    return g;\n}\n","import * as d3 from \"d3-selection\";\n\nexport default function(name) {\n\n    return d3.select(this.size() > 0 ? this.node().querySelector(name) : null);\n}\n","import {selection} from \"d3-selection\";\nimport selection_graphviz from \"./graphviz\";\nimport selection_selectWithoutDataPropagation from \"./selectWithoutDataPropagation\";\n\nselection.prototype.graphviz = selection_graphviz;\nselection.prototype.selectWithoutDataPropagation = selection_selectWithoutDataPropagation;\n"],"sourceRoot":""}