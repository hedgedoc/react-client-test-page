{"version":3,"sources":["api/utils.ts","components/common/fork-awesome/fork-awesome-icon.tsx","components/common/show-if/show-if.tsx","redux/api-url/reducers.ts","redux/banner/reducers.ts","redux/config/reducers.ts","redux/dark-mode/reducers.ts","redux/editor/reducers.ts","redux/ui-notifications/reducers.ts","redux/index.ts","redux/user/reducers.ts","redux/history/reducers.ts","redux/history/types.ts","redux/ui-notifications/methods.ts","components/render-page/rendering-message.ts","components/common/links/external-link.tsx","components/login-page/auth/utils.ts","redux/editor/types.ts","api/auth/index.ts","redux/editor/methods.ts","components/common/modals/common-modal.tsx","components/common/links/translated-external-link.tsx","api/me/index.ts","redux/user/types.ts","redux/user/methods.ts","components/common/modals/deletion-modal.tsx","redux/note-details/types.ts","redux/ui-notifications/types.ts","redux/dark-mode/methods.ts","hooks/common/use-frontend-base-url.ts","components/common/copyable/copyable-field/copyable-field.tsx","components/landing-layout/navigation/sign-in-button.tsx","api/notes/index.ts","redux/api-url/types.ts","redux/banner/types.ts","redux/config/types.ts","redux/dark-mode/types.ts","redux/banner/methods.ts","components/register-page/register-page.tsx","utils/is-test-mode.ts","components/common/hedge-doc-logo/logo_text_bw_horizontal.svg","components/common/hedge-doc-logo/logo_text_color_vertical.svg","components/common/hedge-doc-logo/logo_text_wb_horizontal.svg","components/common/hedge-doc-logo/hedge-doc-logo-with-text.tsx","components/editor-page/note-frontmatter/note-frontmatter.ts","hooks/common/use-is-dark-mode-activated.ts","components/editor-page/app-bar/editor-view-mode.tsx","components/common/user-avatar/user-avatar.tsx","redux/note-details/reducers.ts","components/common/download/download.ts","components/common/motd-banner/motd-banner.tsx","components/common/links/internal-link.tsx","components/common/copyable/copy-overlay.tsx","components/markdown-renderer/replace-components/image/proxy-image-frame.tsx","components/markdown-renderer/replace-components/image/image-lightbox-modal.tsx","components/editor-page/renderer-pane/show-on-prop-change-image-lightbox.tsx","components/editor-page/renderer-pane/render-iframe.tsx","components/editor-page/renderer-pane/hooks/use-on-iframe-load.ts","hooks/common/use-document-title.ts","components/common/links/translated-internal-link.tsx","components/landing-layout/navigation/user-dropdown.tsx","components/common/branding/branding.tsx","components/render-page/iframe-communicator.ts","api/media/index.ts","components/common/wait-spinner/wait-spinner.tsx","components/notifications/ui-notification-toast.tsx","components/notifications/ui-notifications.tsx","components/render-page/iframe-editor-to-renderer-communicator.ts","components/editor-page/render-context/iframe-communicator-context-provider.tsx","components/common/hedge-doc-logo/logo_color.svg","api/config/index.ts","redux/api-url/methods.ts","redux/config/methods.ts","components/application-loader/initializers/configLoader.ts","components/application-loader/initializers/i18n.ts","api/history/index.ts","api/history/dto-methods.ts","redux/history/methods.ts","components/application-loader/initializers/index.ts","components/common/hedge-doc-logo/hedge-doc-logo.tsx","components/history-page/sort-button/sort-button.tsx","components/application-loader/loading-screen.tsx","components/application-loader/application-loader.tsx","components/landing-layout/footer/language-picker.tsx","components/landing-layout/footer/version-info/version-info-modal-column.tsx","components/landing-layout/footer/version-info/version-info-modal.tsx","components/landing-layout/footer/version-info/version-info-link.tsx","components/landing-layout/footer/powered-by-links.tsx","components/landing-layout/footer/social-links.tsx","components/landing-layout/footer/footer.tsx","components/landing-layout/navigation/header-nav-link.tsx","components/landing-layout/navigation/new-guest-note-button.tsx","components/landing-layout/navigation/new-user-note-button.tsx","components/landing-layout/navigation/header-bar/header-bar.tsx","components/landing-layout/landing-layout.tsx","components/common/routing/not-found-error-screen.tsx","components/common/routing/redirector.tsx","components/error-boundary/error-boundary.tsx","components/common/pagination/pager-item.tsx","components/common/pagination/pager-pagination.tsx","components/common/pagination/pager.tsx","components/history-page/entry-menu/dropdown-item-with-deletion-modal.tsx","components/history-page/entry-menu/delete-note-item.tsx","components/history-page/entry-menu/remove-note-entry-item.tsx","components/history-page/entry-menu/entry-menu.tsx","components/history-page/pin-button/pin-button.tsx","components/common/icon-button/icon-button.tsx","components/history-page/history-toolbar/history-toolbar.tsx","components/history-page/utils.ts","components/history-page/history-card/history-card.tsx","components/history-page/history-card/history-card-list.tsx","components/history-page/history-table/history-table-row.tsx","components/history-page/history-table/history-table.tsx","components/history-page/history-toolbar/clear-history-button.tsx","components/history-page/history-toolbar/export-history-button.tsx","components/common/modals/error-modal.tsx","components/history-page/history-toolbar/import-history-button.tsx","components/login-page/auth/via-one-click.tsx","components/history-page/history-content/history-content.tsx","components/history-page/history-page.tsx","components/intro-page/cover-buttons/cover-buttons.tsx","components/intro-page/feature-links.tsx","components/intro-page/requests.ts","components/intro-page/hooks/use-intro-page-content.ts","components/intro-page/intro-page.tsx","components/login-page/auth/via-internal.tsx","components/login-page/auth/via-ldap.tsx","components/login-page/auth/social-link-button/social-link-button.tsx","components/login-page/auth/via-openid.tsx","components/login-page/login-page.tsx","api/tokens/index.ts","components/profile-page/access-tokens/profile-access-tokens.tsx","components/profile-page/settings/profile-account-management.tsx","components/profile-page/settings/profile-change-password.tsx","components/profile-page/settings/profile-display-name.tsx","components/profile-page/profile-page.tsx","service-worker-registration.ts","index.tsx"],"names":["defaultFetchConfig","mode","cache","credentials","headers","redirect","referrerPolicy","method","getApiUrl","store","getState","apiUrl","expectResponseCode","response","code","status","Error","ForkAwesomeIcon","icon","fixedWidth","size","className","stacked","fixedWithClass","sizeClass","stackClass","extraClasses","ShowIf","children","condition","initialState","show","text","timestamp","allowAnonymous","allowRegister","authProviders","facebook","github","twitter","gitlab","dropbox","ldap","google","saml","oauth2","internal","openid","branding","name","logo","banner","customAuthNames","maxDocumentLength","useImageProxy","plantumlServer","specialLinks","privacy","termsOfUse","imprint","version","sourceCodeUrl","issueTrackerUrl","iframeCommunication","editorOrigin","rendererOrigin","getInitialState","initialMode","loadFromLocalStorage","determineDarkModeBrowserSetting","darkMode","saveToLocalStorage","editorMode","EditorMode","BOTH","ligatures","syncScroll","smartPaste","preferences","theme","keyMap","indentUnit","indentWithTabs","dismissNotification","notificationState","notificationIndex","newArray","oldNotification","dismissed","allReducers","combineReducers","user","state","action","type","UserActionType","SET_USER","CLEAR_USER","config","ConfigActionType","SET_CONFIG","BannerActionType","SET_BANNER","ApiUrlActionType","SET_API_URL","history","HistoryActionType","SET_ENTRIES","entries","UPDATE_ENTRY","filter","entry","identifier","noteId","newEntry","REMOVE_ENTRY","editorConfig","newState","EditorConfigActionType","SET_EDITOR_VIEW_MODE","SET_SYNC_SCROLL","SET_LIGATURES","SET_SMART_PASTE","MERGE_EDITOR_PREFERENCES","darkModeConfigState","DarkModeConfigActionType","SET_DARK_MODE","noteDetails","NoteDetailsReducer","uiNotifications","UiNotificationActionType","DISPATCH_NOTIFICATION","concat","notification","DISMISS_NOTIFICATION","notificationId","createStore","HistoryEntryOrigin","DEFAULT_DURATION_IN_SECONDS","dispatchUiNotification","title","content","durationInSecond","buttons","dispatch","date","DateTime","now","dismissUiNotification","showErrorNotification","message","error","console","i18n","t","RenderIframeMessageType","RendererType","ExternalLink","href","id","target","rel","dir","getAndSetUser","a","getMe","me","setUser","photo","provider","INTERACTIVE_LOGIN_METHODS","doInternalLogin","username","password","fetch","body","JSON","stringify","doInternalRegister","RegisterError","USERNAME_EXISTING","doLdapLogin","doOpenIdLogin","openId","stored","window","localStorage","getItem","parse","_","json","setItem","e","setEditorMode","setEditorSyncScroll","setEditorLigatures","setEditorSmartPaste","mergeEditorPreferences","CommonModal","onHide","titleI18nKey","closeButton","additionalClasses","props","useTranslation","data-cy","animation","dialogClassName","Header","Title","i18nKey","TranslatedExternalLink","i18nOption","updateDisplayName","displayName","changePassword","oldPassword","newPassword","deleteUser","LoginProvider","clearUser","getUser","DeletionModal","onConfirm","deletionButtonI18nKey","Body","Footer","variant","onClick","NoteDetailsActionType","setDarkMode","darkModeConfig","String","storedValue","matchMedia","matches","useFrontendBaseUrl","pathname","useLocation","location","cleanedPathName","replace","protocol","host","CopyableField","nativeShareButton","url","copyButton","useRef","doShareAction","useCallback","navigator","share","catch","err","sharingSupported","readOnly","value","Append","ref","clickComponent","SignInButton","useSelector","equal","authEnabled","useMemo","Object","values","includes","loginLink","activeProviders","map","activeOneClickProviders","length","to","getNote","deleteNote","setBanner","RegisterPage","userExists","useState","setUsername","setPassword","passwordAgain","setPasswordAgain","NONE","setError","ready","setReady","doRegisterSubmit","event","then","OTHER","preventDefault","useEffect","lg","onSubmit","Group","controlId","Label","Control","isValid","onChange","placeholder","autoComplete","autoFocus","required","Text","minLength","isInvalid","block","disabled","isTestMode","process","REACT_APP_TEST_MODE","_g","_extends","assign","i","arguments","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgLogoTextBwHorizontal","_ref","svgRef","titleId","clipRule","fillRule","height","strokeLinejoin","strokeMiterlimit","viewBox","width","xmlns","transform","d","fill","strokeWidth","_linearGradient","_g2","ForwardRef","SvgLogoTextColorVertical","gradientTransform","gradientUnits","x1","x2","y1","y2","offset","stopColor","SvgLogoTextWbHorizontal","stroke","HedgeDocLogoSize","HedgeDocLogoType","HedgeDocLogoWithText","MEDIUM","logoType","COLOR_VERTICAL","style","BW_HORIZONTAL","WB_HORIZONTAL","NoteType","NoteTextDirection","ISO6391","NoteFrontmatter","rawData","description","tags","deprecatedTagsSyntax","robots","lang","breaks","GA","disqus","opengraph","find","undefined","DOCUMENT","LTR","split","trim","tag","Map","useIsDarkModeActivated","EditorViewMode","PREVIEW","EDITOR","UserAvatar","showName","src","alt","markdownContent","createTime","fromSeconds","lastChange","userId","alias","preVersionTwoNote","viewCount","authorship","noteTitle","firstHeading","frontmatter","SET_DOCUMENT_CONTENT","UPDATE_NOTE_TITLE_BY_FIRST_HEADING","generateNoteTitle","SET_NOTE_DATA_FROM_SERVER","convertNoteToNoteDetails","note","SET_NOTE_FRONTMATTER","SET_CHECKBOX_IN_MARKDOWN_CONTENT","setCheckboxInMarkdownContent","lineInMarkdown","checked","TASK_REGEX","lines","results","exec","before","after","join","get","download","data","fileName","mimeType","file","Blob","downloadLink","URL","createObjectURL","helperElement","document","createElement","appendChild","click","setTimeout","remove","MotdBanner","bannerState","InternalLink","CopyOverlay","showCopiedTooltip","setShowCopiedTooltip","uuid","tooltipId","copyToClipboard","clipboard","writeText","finally","current","addEventListener","clickComponentSaved","removeEventListener","placement","ProxyImageFrame","imageUrl","setImageUrl","imageProxyEnabled","getProxiedUrl","proxyResponse","ImageLightboxModal","Modal","centered","ShowOnPropChangeImageLightbox","details","setShow","hideLightbox","RenderIframe","onTaskCheckedChange","onFrontmatterChange","scrollState","onFirstHeadingChange","onScroll","onMakeScrollSource","frameClasses","onRendererReadyChange","rendererType","forcedDarkMode","savedDarkMode","rendererReady","setRendererReady","lightboxDetails","setLightboxDetails","frameReference","renderPageUrl","resetRendererReady","iframeCommunicator","useContextOrStandaloneIframeCommunicator","onIframeLoad","onNavigateAway","sendToRenderPage","frame","contentWindow","setOtherSide","unsetOtherSide","useOnIframeLoad","frameHeight","setFrameHeight","unregisterEventListener","onSetScrollState","onSetScrollSourceToRenderer","onTaskCheckboxChange","onImageClicked","onRendererReady","sendSetBaseConfiguration","baseUrl","toString","onHeightChange","sendSetDarkmode","oldScrollState","sendScrollState","sendSetMarkdownContent","onLoad","sandbox","useDocumentTitle","brandingName","TranslatedInternalLink","UserDropdown","alignRight","Toggle","Menu","Item","Branding","inline","delimiter","showBranding","IframeCommunicator","otherSide","otherOrigin","handleEvent","bind","postMessage","uploadFile","contentType","media","WaitSpinner","UiNotificationToast","eta","setEta","interval","deleteInterval","clearInterval","dismissThisNotification","debug","useLayoutEffect","setInterval","lastETA","buttonsDom","button","Button","label","Toast","onClose","toRelative","ProgressBar","max","min","UiNotifications","notifications","aria-live","aria-atomic","IframeEditorToRendererCommunicator","onSetScrollSourceToRendererHandler","onTaskCheckboxChangeHandler","onFirstHeadingChangeHandler","onFrontmatterChangeHandler","onSetScrollStateHandler","onRendererReadyHandler","onImageClickedHandler","onHeightChangeHandler","handler","baseConfiguration","sendMessageToOtherSide","SET_BASE_CONFIGURATION","SET_MARKDOWN_CONTENT","darkModeActivated","SET_DARKMODE","activated","SET_SCROLL_STATE","renderMessage","RENDERER_READY","SET_SCROLL_SOURCE_TO_RENDERER","ON_FIRST_HEADING_CHANGE","ON_TASK_CHECKBOX_CHANGE","ON_SET_FRONTMATTER","IMAGE_CLICKED","ON_HEIGHT_CHANGE","IFrameEditorToRendererCommunicatorContext","React","createContext","contextCommunicator","useContext","IframeCommunicatorContextProvider","currentIFrameCommunicator","Provider","_path","getConfig","setApiUrl","setConfig","loadAllConfig","REACT_APP_BACKEND","Promise","reject","lastAcknowledgedTimestamp","setUpI18n","use","Backend","LanguageDetector","initReactI18next","init","fallbackLng","backend","loadPath","interpolation","escapeValue","Settings","defaultLocale","language","getHistory","postHistory","updateHistoryEntryPinStatus","deleteHistoryEntry","deleteHistory","historyEntryDtoToHistoryEntry","entryDto","origin","REMOTE","pinStatus","lastVisited","historyEntryToHistoryEntryPutDto","setHistoryEntries","storeLocalHistory","importHistoryEntries","storeRemoteHistory","updateHistoryEntryRedux","updateLocalHistoryEntry","removeHistoryEntry","entryToDelete","toggleHistoryEntryPinning","entryToUpdate","LOCAL","historyUpdateDto","downloadHistory","forEach","Date","mergeHistoryEntries","b","entryA","some","entryB","convertV1History","oldHistory","fromMillis","time","toISO","pinned","refreshHistoryState","localEntries","loadLocalHistory","loadRemoteHistory","remoteEntries","allEntries","entriesWithoutOrigin","resolve","remoteEntryDtos","localV1Json","localV1History","removeItem","localJson","localHistory","remoteHistory","customDelay","SvgLogoColor","SortModeEnum","HedgeDocLogo","LoadingScreen","failedTitle","BIG","Alert","ApplicationLoader","frontendUrl","setUpTasks","task","setFailedTitle","doneTasks","setDoneTasks","initTasks","runTask","prevDoneTasks","reason","fallback","languages","en","fr","de","ja","es","ca","el","pt","it","tr","ru","nl","hr","pl","uk","hi","sv","eo","da","ko","sr","vi","ar","cs","sk","LanguagePicker","onChangeLang","currentTarget","changeLanguage","languageCode","wantedLanguage","supportedLanguage","substr","findLanguageCode","languageOptions","languageName","Form","as","VersionInfoModalColumn","issueTrackerLink","sourceCodeLink","Col","md","Trans","VersionInfoModal","serverVersion","Row","frontendVersion","VersionInfoLink","closeModal","showModal","PoweredByLinks","links","webpage","SocialLink","components","githubOrg","community","chat","mastodon","translate","HeaderNavLink","Nav","Link","NewGuestNoteButton","NewUserNoteButton","HeaderBar","Navbar","LandingLayout","Container","NotFoundErrorScreen","Redirector","useParams","noteFromAPI","ErrorBoundary","hasError","errorInfo","reload","refreshPage","_error","Component","PagerItem","index","role","PagerPagination","numberOfPageButtonsToShowAfterAndBeforeCurrent","onPageChange","lastPageIndex","pageIndex","setPageIndex","correctedPageIndex","Math","wantedUpperPageIndex","wantedLowerPageIndex","correctedLowerPageIndex","correctedUpperPageIndex","paginationItemsBefore","Array","from","k","itemIndex","paginationItemsAfter","Pagination","Ellipsis","active","Pager","numberOfElementsPerPage","onLastPageIndexChange","maxPageIndex","ceil","Children","count","toArray","floor","DropdownItemWithDeletionModal","modalTitleI18nKey","modalButtonI18nKey","itemI18nKey","modalIcon","modalQuestionI18nKey","modalWarningI18nKey","showDialog","setShowDialog","Dropdown","DeleteNoteItem","RemoveNoteEntryItem","EntryMenu","isDark","onRemove","onDelete","Divider","PinButton","isPinned","onPinClick","IconButton","iconFixedWidth","border","ViewStateEnum","getIcon","direction","no","up","down","SortButton","onDirectionChange","toggleDirection","formatHistoryDate","fromISO","toFormat","filterBySelectedTags","selectedTags","arrayCommonCheck","array1","array2","element1","element2","filterByKeywordSearch","keywords","searchTerm","toLowerCase","sortEntries","viewState","sort","firstEntry","secondEntry","titleSortDirection","localeCompare","lastVisitedSortDirection","HistoryCard","onRemoveClick","onDeleteClick","Card","bg","Badge","HistoryCardList","HistoryTableRow","HistoryTable","Table","striped","bordered","hover","ClearHistoryButton","handleClose","ExportHistoryButton","ErrorModal","ImportHistoryButton","historyState","uploadInput","setFilename","setI18nKey","handleShow","onImportHistory","accept","validity","files","valid","fileReader","FileReader","onload","result","oldEntries","readAsText","OneClickType","initSortState","initToolbarState","CARD","keywordSearch","HistoryToolbar","onSettingsChange","historyEntries","allTags","flat","Set","previousState","useQueryState","searchState","setSearchState","tagsState","setTagsState","setViewState","sortState","setSortState","titleSortChanged","lastVisitedSortChanged","keywordSearchChanged","toggleViewChanged","newViewState","selectedTagsChanged","selected","refreshHistory","onUploadAllToRemote","InputGroup","options","multiple","FormControl","aria-label","ToggleButtonGroup","ToggleButton","TABLE","HistoryContent","setLastPageIndex","mapViewStateToComponent","HistoryPage","toolbarState","setToolbarState","entriesToShow","filteredBySelectedTagsEntries","filteredByKeywordSearchEntries","sortAndFilterEntries","CoverButtons","anyAuthProviderActivated","FeatureLinks","getFrontPageContent","MARKDOWN_IF_ERROR","IntroPage","introPageContent","setContent","frontendBaseUrl","useIntroPageContent","showSpinner","setShowSpinner","disableToc","INTRO","ViaInternal","onLoginSubmit","service","ViaLdap","ldapCustomName","SocialLinkButton","backgroundClass","ViaOneClick","oneClickType","optionalName","backendUrl","buildBackendAuthUrlWithFirstParameterSet","backendName","buildBackendAuthUrl","DROPBOX","FACEBOOK","GITHUB","GITLAB","GOOGLE","OAUTH2","SAML","TWITTER","getMetadata","ViaOpenId","setOpenId","doAsyncLogin","LoginPage","customSamlAuthName","customOauthAuthName","userLoggedIn","oneClickProviders","oneClickCustomName","xs","sm","getAccessTokenList","postNewAccessToken","deleteAccessToken","ProfileAccessTokens","showAddedModal","setShowAddedModal","showDeleteModal","setShowDeleteModal","accessTokens","setAccessTokens","newTokenLabel","setNewTokenLabel","newTokenSecret","setNewTokenSecret","selectedForDeletion","setSelectedForDeletion","addToken","token","secret","deleteToken","selectForDeletion","newTokenSubmittable","tokens","ListGroup","created","ProfileAccountManagement","deletionButtonActive","setDeletionButtonActive","countdown","setCountdown","stopCountdown","clearTimeout","handleModalClose","deleteUserAccount","oldValue","ProfileChangePassword","setOldPassword","setNewPassword","newPasswordAgain","setNewPasswordAgain","newPasswordValid","setNewPasswordValid","newPasswordAgainValid","setNewPasswordAgainValid","regexPassword","updatePasswordSubmit","test","ProfileDisplayName","regexInvalidDisplayName","userName","submittable","setSubmittable","setDisplayName","doAsyncChange","ProfilePage","userProvider","INTERNAL","Boolean","hostname","EditorPage","lazy","RenderPage","DocumentReadOnlyPage","ReactDOM","render","path","getElementById","log","serviceWorker","registration","unregister"],"mappings":"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","file":"static/js/main.3b5918bf.chunk.js","sourcesContent":["/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { store } from '../redux'\n\nexport const defaultFetchConfig: Partial<RequestInit> = {\n  mode: 'cors',\n  cache: 'no-cache',\n  credentials: 'same-origin',\n  headers: {\n    'Content-Type': 'application/json'\n  },\n  redirect: 'follow',\n  referrerPolicy: 'no-referrer',\n  method: 'GET'\n}\n\nexport const getApiUrl = (): string => {\n  return store.getState().apiUrl.apiUrl\n}\n\nexport const expectResponseCode = (response: Response, code = 200): void => {\n  if (response.status !== code) {\n    throw new Error(`response code is not ${ code }`)\n  }\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { IconName, IconSize } from './types'\n\nexport interface ForkAwesomeIconProps {\n  icon: IconName\n  className?: string\n  fixedWidth?: boolean\n  size?: IconSize\n  stacked?: boolean\n}\n\nexport const ForkAwesomeIcon: React.FC<ForkAwesomeIconProps> = ({ icon, fixedWidth = false, size, className, stacked = false }) => {\n  const fixedWithClass = fixedWidth ? 'fa-fw' : ''\n  const sizeClass = size ? `-${ size }` : (stacked ? '-1x' : '')\n  const stackClass = stacked ? '-stack' : ''\n  const extraClasses = `${ className ?? '' } ${ sizeClass || stackClass ? `fa${ stackClass }${ sizeClass }` : '' }`\n  return (\n    <i className={ `fa ${ fixedWithClass } fa-${ icon } ${ extraClasses }` }/>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { Fragment } from 'react'\n\nexport interface ShowIfProps {\n  condition: boolean\n}\n\nexport const ShowIf: React.FC<ShowIfProps> = ({ children, condition }) => {\n  return condition ? <Fragment>{ children }</Fragment> : null\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { Reducer } from 'redux'\nimport { ApiUrlActions, ApiUrlActionType, ApiUrlObject, SetApiUrlAction } from './types'\n\nexport const initialState: ApiUrlObject = {\n  apiUrl: ''\n}\n\nexport const ApiUrlReducer: Reducer<ApiUrlObject, ApiUrlActions> = (state: ApiUrlObject = initialState, action: ApiUrlActions) => {\n  switch (action.type) {\n    case ApiUrlActionType.SET_API_URL:\n      return (action as SetApiUrlAction).state\n    default:\n      return state\n  }\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { Reducer } from 'redux'\nimport { BannerActions, BannerActionType, BannerState, SetBannerAction } from './types'\n\nexport const initialState: BannerState = {\n  show: true,\n  text: '',\n  timestamp: ''\n}\n\nexport const BannerReducer: Reducer<BannerState, BannerActions> = (state: BannerState = initialState, action: BannerActions) => {\n  switch (action.type) {\n    case BannerActionType.SET_BANNER:\n      return (action as SetBannerAction).state\n    default:\n      return state\n  }\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { Reducer } from 'redux'\nimport { Config } from '../../api/config/types'\nimport { ConfigActions, ConfigActionType, SetConfigAction } from './types'\n\nexport const initialState: Config = {\n  allowAnonymous: true,\n  allowRegister: true,\n  authProviders: {\n    facebook: false,\n    github: false,\n    twitter: false,\n    gitlab: false,\n    dropbox: false,\n    ldap: false,\n    google: false,\n    saml: false,\n    oauth2: false,\n    internal: false,\n    openid: false\n  },\n  branding: {\n    name: '',\n    logo: ''\n  },\n  banner: {\n    text: '',\n    timestamp: ''\n  },\n  customAuthNames: {\n    ldap: '',\n    oauth2: '',\n    saml: ''\n  },\n  maxDocumentLength: 0,\n  useImageProxy: false,\n  plantumlServer: null,\n  specialLinks: {\n    privacy: '',\n    termsOfUse: '',\n    imprint: ''\n  },\n  version: {\n    version: '',\n    sourceCodeUrl: '',\n    issueTrackerUrl: ''\n  },\n  iframeCommunication: {\n    editorOrigin: '',\n    rendererOrigin: ''\n  }\n}\n\nexport const ConfigReducer: Reducer<Config, ConfigActions> = (state: Config = initialState, action: ConfigActions) => {\n  switch (action.type) {\n    case ConfigActionType.SET_CONFIG:\n      return (action as SetConfigAction).state\n    default:\n      return state\n  }\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { Reducer } from 'redux'\nimport { determineDarkModeBrowserSetting, loadFromLocalStorage, saveToLocalStorage } from './methods'\nimport { DarkModeConfig, DarkModeConfigActions, DarkModeConfigActionType, SetDarkModeConfigAction } from './types'\n\nexport const getInitialState = (): DarkModeConfig => {\n  const initialMode = loadFromLocalStorage() ?? determineDarkModeBrowserSetting() ?? {\n    darkMode: false\n  }\n  saveToLocalStorage(initialMode)\n  return initialMode\n}\n\nexport const DarkModeConfigReducer: Reducer<DarkModeConfig, DarkModeConfigActions> = (state: DarkModeConfig = getInitialState(), action: DarkModeConfigActions) => {\n  let darkModeConfigState: DarkModeConfig\n  switch (action.type) {\n    case DarkModeConfigActionType.SET_DARK_MODE:\n      darkModeConfigState = {\n        ...state,\n        darkMode: (action as SetDarkModeConfigAction).darkMode\n      }\n      saveToLocalStorage(darkModeConfigState)\n      return darkModeConfigState\n    default:\n      return state\n  }\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { Reducer } from 'redux'\nimport { EditorMode } from '../../components/editor-page/app-bar/editor-view-mode'\nimport { loadFromLocalStorage, saveToLocalStorage } from './methods'\nimport {\n  EditorConfig,\n  EditorConfigActions,\n  EditorConfigActionType,\n  SetEditorConfigAction,\n  SetEditorLigaturesAction,\n  SetEditorPreferencesAction,\n  SetEditorSmartPasteAction,\n  SetEditorSyncScrollAction\n} from './types'\n\nconst initialState: EditorConfig = {\n  editorMode: EditorMode.BOTH,\n  ligatures: true,\n  syncScroll: true,\n  smartPaste: true,\n  preferences: {\n    theme: 'one-dark',\n    keyMap: 'sublime',\n    indentUnit: 4,\n    indentWithTabs: false\n  }\n}\n\nconst getInitialState = (): EditorConfig => {\n  return { ...initialState, ...loadFromLocalStorage() }\n}\n\nexport const EditorConfigReducer: Reducer<EditorConfig, EditorConfigActions> = (state: EditorConfig = getInitialState(), action: EditorConfigActions) => {\n  let newState: EditorConfig\n  switch (action.type) {\n    case EditorConfigActionType.SET_EDITOR_VIEW_MODE:\n      newState = {\n        ...state,\n        editorMode: (action as SetEditorConfigAction).mode\n      }\n      saveToLocalStorage(newState)\n      return newState\n    case EditorConfigActionType.SET_SYNC_SCROLL:\n      newState = {\n        ...state,\n        syncScroll: (action as SetEditorSyncScrollAction).syncScroll\n      }\n      saveToLocalStorage(newState)\n      return newState\n    case EditorConfigActionType.SET_LIGATURES:\n      newState = {\n        ...state,\n        ligatures: (action as SetEditorLigaturesAction).ligatures\n      }\n      saveToLocalStorage(newState)\n      return newState\n    case EditorConfigActionType.SET_SMART_PASTE:\n      newState = {\n        ...state,\n        smartPaste: (action as SetEditorSmartPasteAction).smartPaste\n      }\n      saveToLocalStorage(newState)\n      return newState\n    case EditorConfigActionType.MERGE_EDITOR_PREFERENCES:\n      newState = {\n        ...state,\n        preferences: {\n          ...state.preferences, ...(action as SetEditorPreferencesAction).preferences\n        }\n      }\n      saveToLocalStorage(newState)\n      return newState\n    default:\n      return state\n  }\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\n\nimport { Reducer } from 'redux'\nimport {\n  DismissUiNotificationAction,\n  DispatchUiNotificationAction,\n  UiNotificationAction,\n  UiNotificationActionType,\n  UiNotificationState\n} from './types'\n\nexport const UiNotificationReducer: Reducer<UiNotificationState, UiNotificationAction> = (state: UiNotificationState = [], action: UiNotificationAction) => {\n  switch (action.type) {\n    case UiNotificationActionType.DISPATCH_NOTIFICATION:\n      return state.concat((action as DispatchUiNotificationAction).notification)\n    case UiNotificationActionType.DISMISS_NOTIFICATION:\n      return dismissNotification(state, (action as DismissUiNotificationAction).notificationId)\n    default:\n      return state\n  }\n}\n\nconst dismissNotification = (notificationState: UiNotificationState, notificationIndex: number): UiNotificationState => {\n  const newArray = [...notificationState]\n  const oldNotification = newArray[notificationIndex]\n  newArray[notificationIndex] = {\n    ...oldNotification,\n    dismissed: true\n  }\n  return newArray\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { combineReducers, createStore, Reducer } from 'redux'\nimport { Config } from '../api/config/types'\nimport { ApiUrlReducer } from './api-url/reducers'\nimport { ApiUrlObject } from './api-url/types'\nimport { BannerReducer } from './banner/reducers'\nimport { BannerState } from './banner/types'\nimport { ConfigReducer } from './config/reducers'\nimport { DarkModeConfigReducer } from './dark-mode/reducers'\nimport { DarkModeConfig } from './dark-mode/types'\nimport { EditorConfigReducer } from './editor/reducers'\nimport { EditorConfig } from './editor/types'\nimport { NoteDetailsReducer } from './note-details/reducers'\nimport { NoteDetails } from './note-details/types'\nimport { UserReducer } from './user/reducers'\nimport { MaybeUserState } from './user/types'\nimport { UiNotificationState } from './ui-notifications/types'\nimport { UiNotificationReducer } from './ui-notifications/reducers'\nimport { HistoryEntry } from './history/types'\nimport { HistoryReducer } from './history/reducers'\n\nexport interface ApplicationState {\n  user: MaybeUserState;\n  config: Config;\n  banner: BannerState;\n  history: HistoryEntry[];\n  apiUrl: ApiUrlObject;\n  editorConfig: EditorConfig;\n  darkMode: DarkModeConfig;\n  noteDetails: NoteDetails;\n  uiNotifications: UiNotificationState;\n}\n\nexport const allReducers: Reducer<ApplicationState> = combineReducers<ApplicationState>({\n  user: UserReducer,\n  config: ConfigReducer,\n  banner: BannerReducer,\n  apiUrl: ApiUrlReducer,\n  history: HistoryReducer,\n  editorConfig: EditorConfigReducer,\n  darkMode: DarkModeConfigReducer,\n  noteDetails: NoteDetailsReducer,\n  uiNotifications: UiNotificationReducer\n})\n\nexport const store = createStore(allReducers)\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { Reducer } from 'redux'\nimport { MaybeUserState, SetUserAction, UserActions, UserActionType } from './types'\n\nexport const UserReducer: Reducer<MaybeUserState, UserActions> = (state: MaybeUserState = null, action: UserActions) => {\n  switch (action.type) {\n    case UserActionType.SET_USER:\n      return (action as SetUserAction).state\n    case UserActionType.CLEAR_USER:\n      return null\n    default:\n      return state\n  }\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { Reducer } from 'redux'\nimport {\n  HistoryAction,\n  HistoryActionType,\n  HistoryEntry,\n  RemoveEntryAction,\n  SetEntriesAction,\n  UpdateEntryAction\n} from './types'\n\n// Q: Why is the reducer initialized with an empty array instead of the actual history entries like in the config reducer?\n// A: The history reducer will be created without entries because of async entry retrieval.\n//    Entries will be added after reducer initialization.\n\nexport const HistoryReducer: Reducer<HistoryEntry[], HistoryAction> = (state: HistoryEntry[] = [], action: HistoryAction) => {\n  switch (action.type) {\n    case HistoryActionType.SET_ENTRIES:\n      return (action as SetEntriesAction).entries\n    case HistoryActionType.UPDATE_ENTRY:\n      return [\n        ...state.filter(entry => entry.identifier !== (action as UpdateEntryAction).noteId),\n        (action as UpdateEntryAction).newEntry\n      ]\n    case HistoryActionType.REMOVE_ENTRY:\n      return state.filter(entry => entry.identifier !== (action as RemoveEntryAction).noteId)\n    default:\n      return state\n  }\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { Action } from 'redux'\n\nexport enum HistoryEntryOrigin {\n  LOCAL,\n  REMOTE\n}\n\nexport interface HistoryEntry {\n  identifier: string\n  title: string\n  lastVisited: string\n  tags: string[]\n  pinStatus: boolean\n  origin: HistoryEntryOrigin\n}\n\nexport interface V1HistoryEntry {\n  id: string\n  text: string\n  time: number\n  tags: string[]\n  pinned: boolean\n}\n\nexport interface HistoryExportJson {\n  version: number,\n  entries: HistoryEntry[]\n}\n\nexport enum HistoryActionType {\n  SET_ENTRIES = 'SET_ENTRIES',\n  ADD_ENTRY = 'ADD_ENTRY',\n  UPDATE_ENTRY = 'UPDATE_ENTRY',\n  REMOVE_ENTRY = 'REMOVE_ENTRY'\n}\n\nexport interface HistoryAction extends Action<HistoryActionType> {\n  type: HistoryActionType\n}\n\nexport interface SetEntriesAction extends HistoryAction {\n  type: HistoryActionType.SET_ENTRIES\n  entries: HistoryEntry[]\n}\n\nexport interface AddEntryAction extends HistoryAction {\n  type: HistoryActionType.ADD_ENTRY\n  newEntry: HistoryEntry\n}\n\nexport interface UpdateEntryAction extends HistoryAction {\n  type: HistoryActionType.UPDATE_ENTRY\n  noteId: string\n  newEntry: HistoryEntry\n}\n\nexport interface RemoveEntryAction extends HistoryEntry {\n  type: HistoryActionType.REMOVE_ENTRY\n  noteId: string\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport i18n from 'i18next'\nimport { store } from '../index'\nimport {\n  DismissUiNotificationAction,\n  DispatchUiNotificationAction,\n  UiNotificationActionType,\n  UiNotificationButton\n} from './types'\nimport { DateTime } from 'luxon'\nimport { IconName } from '../../components/common/fork-awesome/types'\n\nexport const DEFAULT_DURATION_IN_SECONDS = 10\n\nexport const dispatchUiNotification = (title: string, content: string, durationInSecond = DEFAULT_DURATION_IN_SECONDS, icon?: IconName, buttons?: UiNotificationButton[]): void => {\n  store.dispatch({\n    type: UiNotificationActionType.DISPATCH_NOTIFICATION,\n    notification: {\n      title,\n      content,\n      date: DateTime.now(),\n      dismissed: false,\n      icon,\n      durationInSecond,\n      buttons: buttons\n    }\n  } as DispatchUiNotificationAction)\n}\n\nexport const dismissUiNotification = (notificationId: number): void => {\n  store.dispatch({\n    type: UiNotificationActionType.DISMISS_NOTIFICATION,\n    notificationId\n  } as DismissUiNotificationAction)\n}\n\n// Promises catch errors as any.\n// eslint-disable-next-line @typescript-eslint/no-explicit-any,@typescript-eslint/explicit-module-boundary-types\nexport const showErrorNotification = (message: string) => (error: any): void => {\n  console.error(message, error)\n  dispatchUiNotification(i18n.t('common.errorOccurred'), message, DEFAULT_DURATION_IN_SECONDS, 'exclamation-triangle')\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\nimport { NoteFrontmatter } from '../editor-page/note-frontmatter/note-frontmatter'\nimport { ScrollState } from '../editor-page/synced-scroll/scroll-props'\n\nexport enum RenderIframeMessageType {\n  SET_MARKDOWN_CONTENT = 'SET_MARKDOWN_CONTENT',\n  RENDERER_READY = 'RENDERER_READY',\n  SET_DARKMODE = 'SET_DARKMODE',\n  ON_TASK_CHECKBOX_CHANGE = 'ON_TASK_CHECKBOX_CHANGE',\n  ON_FIRST_HEADING_CHANGE = 'ON_FIRST_HEADING_CHANGE',\n  SET_SCROLL_SOURCE_TO_RENDERER = 'SET_SCROLL_SOURCE_TO_RENDERER',\n  SET_SCROLL_STATE = 'SET_SCROLL_STATE',\n  ON_SET_FRONTMATTER = 'ON_SET_FRONTMATTER',\n  IMAGE_CLICKED = 'IMAGE_CLICKED',\n  ON_HEIGHT_CHANGE = 'ON_HEIGHT_CHANGE',\n  SET_BASE_CONFIGURATION = 'SET_BASE_CONFIGURATION'\n}\n\nexport interface RendererToEditorSimpleMessage {\n  type: RenderIframeMessageType.RENDERER_READY | RenderIframeMessageType.SET_SCROLL_SOURCE_TO_RENDERER\n}\n\nexport interface SetDarkModeMessage {\n  type: RenderIframeMessageType.SET_DARKMODE,\n  activated: boolean\n}\n\nexport interface ImageDetails {\n  alt?: string\n  src: string\n  title?: string\n}\n\nexport interface SetBaseUrlMessage {\n  type: RenderIframeMessageType.SET_BASE_CONFIGURATION,\n  baseConfiguration: BaseConfiguration\n}\n\nexport interface ImageClickedMessage {\n  type: RenderIframeMessageType.IMAGE_CLICKED,\n  details: ImageDetails\n}\n\nexport interface SetMarkdownContentMessage {\n  type: RenderIframeMessageType.SET_MARKDOWN_CONTENT,\n  content: string\n}\n\nexport interface SetScrollStateMessage {\n  type: RenderIframeMessageType.SET_SCROLL_STATE,\n  scrollState: ScrollState\n}\n\nexport interface OnTaskCheckboxChangeMessage {\n  type: RenderIframeMessageType.ON_TASK_CHECKBOX_CHANGE,\n  lineInMarkdown: number,\n  checked: boolean\n}\n\nexport interface OnFirstHeadingChangeMessage {\n  type: RenderIframeMessageType.ON_FIRST_HEADING_CHANGE,\n  firstHeading: string | undefined\n}\n\nexport interface OnFrontmatterChangeMessage {\n  type: RenderIframeMessageType.ON_SET_FRONTMATTER,\n  frontmatter: NoteFrontmatter | undefined\n}\n\nexport interface OnHeightChangeMessage {\n  type: RenderIframeMessageType.ON_HEIGHT_CHANGE,\n  height: number\n}\n\nexport type EditorToRendererIframeMessage =\n  SetMarkdownContentMessage |\n  SetDarkModeMessage |\n  SetScrollStateMessage |\n  SetBaseUrlMessage\n\nexport type RendererToEditorIframeMessage =\n  RendererToEditorSimpleMessage |\n  OnFirstHeadingChangeMessage |\n  OnTaskCheckboxChangeMessage |\n  OnFrontmatterChangeMessage |\n  SetScrollStateMessage |\n  ImageClickedMessage |\n  OnHeightChangeMessage\n\nexport enum RendererType {\n  DOCUMENT,\n  INTRO,\n  SLIDESHOW\n}\n\nexport interface BaseConfiguration {\n  baseUrl: string\n  rendererType: RendererType\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { ForkAwesomeIcon } from '../fork-awesome/fork-awesome-icon'\nimport { IconName } from '../fork-awesome/types'\nimport { ShowIf } from '../show-if/show-if'\nimport { LinkWithTextProps } from './types'\n\nexport const ExternalLink: React.FC<LinkWithTextProps> = ({ href, text, icon, id, className = 'text-light', title }) => {\n  return (\n    <a href={ href }\n       target=\"_blank\"\n       rel=\"noopener noreferrer\"\n       id={ id }\n       className={ className }\n       title={ title }\n       dir='auto'\n    >\n      <ShowIf condition={ !!icon }>\n        <ForkAwesomeIcon icon={ icon as IconName } fixedWidth={ true }/>&nbsp;\n      </ShowIf>\n      { text }\n    </a>\n  )\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { getMe } from '../../../api/me'\nimport { setUser } from '../../../redux/user/methods'\n\nexport const getAndSetUser: () => (Promise<void>) = async () => {\n  const me = await getMe()\n  setUser({\n    id: me.id,\n    name: me.name,\n    photo: me.photo,\n    provider: me.provider\n  })\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { EditorConfiguration } from 'codemirror'\nimport { Action } from 'redux'\nimport { EditorMode } from '../../components/editor-page/app-bar/editor-view-mode'\n\nexport enum EditorConfigActionType {\n  SET_EDITOR_VIEW_MODE = 'editor/mode/set',\n  SET_SYNC_SCROLL = 'editor/syncScroll/set',\n  MERGE_EDITOR_PREFERENCES = 'editor/preferences/merge',\n  SET_LIGATURES = 'editor/preferences/setLigatures',\n  SET_SMART_PASTE = 'editor/preferences/setSmartPaste'\n}\n\nexport interface EditorConfig {\n  editorMode: EditorMode\n  syncScroll: boolean\n  ligatures: boolean\n  smartPaste: boolean\n  preferences: EditorConfiguration\n}\n\nexport interface EditorConfigActions extends Action<EditorConfigActionType> {\n  type: EditorConfigActionType\n}\n\nexport interface SetEditorSyncScrollAction extends EditorConfigActions {\n  syncScroll: boolean\n}\n\nexport interface SetEditorLigaturesAction extends EditorConfigActions {\n  ligatures: boolean\n}\n\nexport interface SetEditorSmartPasteAction extends EditorConfigActions {\n  smartPaste: boolean\n}\n\nexport interface SetEditorConfigAction extends EditorConfigActions {\n  mode: EditorMode\n}\n\nexport interface SetEditorPreferencesAction extends EditorConfigActions {\n  preferences: EditorConfiguration\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { RegisterError } from '../../components/register-page/register-page'\nimport { defaultFetchConfig, expectResponseCode, getApiUrl } from '../utils'\n\nexport const INTERACTIVE_LOGIN_METHODS = ['internal', 'ldap', 'openid']\n\nexport const doInternalLogin = async (username: string, password: string): Promise<void> => {\n  const response = await fetch(getApiUrl() + '/auth/internal', {\n    ...defaultFetchConfig,\n    method: 'POST',\n    body: JSON.stringify({\n      username: username,\n      password: password\n    })\n  })\n\n  expectResponseCode(response)\n}\n\nexport const doInternalRegister = async (username: string, password: string): Promise<void> => {\n  const response = await fetch(getApiUrl() + '/auth/register', {\n    ...defaultFetchConfig,\n    method: 'POST',\n    body: JSON.stringify({\n      username: username,\n      password: password\n    })\n  })\n\n  if (response.status === 409) {\n    throw new Error(RegisterError.USERNAME_EXISTING)\n  }\n\n  expectResponseCode(response)\n}\n\nexport const doLdapLogin = async (username: string, password: string): Promise<void> => {\n  const response = await fetch(getApiUrl() + '/auth/ldap', {\n    ...defaultFetchConfig,\n    method: 'POST',\n    body: JSON.stringify({\n      username: username,\n      password: password\n    })\n  })\n\n  expectResponseCode(response)\n}\n\nexport const doOpenIdLogin = async (openId: string): Promise<void> => {\n  const response = await fetch(getApiUrl() + '/auth/openid', {\n    ...defaultFetchConfig,\n    method: 'POST',\n    body: JSON.stringify({\n      openId: openId\n    })\n  })\n\n  expectResponseCode(response)\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { EditorConfiguration } from 'codemirror'\nimport { store } from '..'\nimport { EditorMode } from '../../components/editor-page/app-bar/editor-view-mode'\nimport {\n  EditorConfig,\n  EditorConfigActionType,\n  SetEditorConfigAction,\n  SetEditorLigaturesAction,\n  SetEditorPreferencesAction,\n  SetEditorSmartPasteAction,\n  SetEditorSyncScrollAction\n} from './types'\n\nexport const loadFromLocalStorage = (): EditorConfig | undefined => {\n  try {\n    const stored = window.localStorage.getItem('editorConfig')\n    if (!stored) {\n      return undefined\n    }\n    return JSON.parse(stored) as EditorConfig\n  } catch (_) {\n    return undefined\n  }\n}\n\nexport const saveToLocalStorage = (editorConfig: EditorConfig): void => {\n  try {\n    const json = JSON.stringify(editorConfig)\n    localStorage.setItem('editorConfig', json)\n  } catch (e) {\n    console.error('Can not persist editor config in local storage: ', e)\n  }\n}\n\nexport const setEditorMode = (editorMode: EditorMode): void => {\n  const action: SetEditorConfigAction = {\n    type: EditorConfigActionType.SET_EDITOR_VIEW_MODE,\n    mode: editorMode\n  }\n  store.dispatch(action)\n}\n\nexport const setEditorSyncScroll = (syncScroll: boolean): void => {\n  const action: SetEditorSyncScrollAction = {\n    type: EditorConfigActionType.SET_SYNC_SCROLL,\n    syncScroll\n  }\n  store.dispatch(action)\n}\n\nexport const setEditorLigatures = (ligatures: boolean): void => {\n  const action: SetEditorLigaturesAction = {\n    type: EditorConfigActionType.SET_LIGATURES,\n    ligatures\n  }\n  store.dispatch(action)\n}\n\nexport const setEditorSmartPaste = (smartPaste: boolean): void => {\n  const action: SetEditorSmartPasteAction = {\n    type: EditorConfigActionType.SET_SMART_PASTE,\n    smartPaste\n  }\n  store.dispatch(action)\n}\n\nexport const mergeEditorPreferences = (preferences: EditorConfiguration): void => {\n  const action: SetEditorPreferencesAction = {\n    type: EditorConfigActionType.MERGE_EDITOR_PREFERENCES,\n    preferences\n  }\n  store.dispatch(action)\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { Modal } from 'react-bootstrap'\nimport { Trans, useTranslation } from 'react-i18next'\nimport { ForkAwesomeIcon } from '../fork-awesome/fork-awesome-icon'\nimport { IconName } from '../fork-awesome/types'\nimport { ShowIf } from '../show-if/show-if'\n\nexport interface CommonModalProps {\n  show: boolean\n  onHide: () => void\n  titleI18nKey?: string\n  title?: string\n  closeButton?: boolean\n  icon?: IconName\n  size?: 'lg' | 'sm' | 'xl'\n  additionalClasses?: string\n  'data-cy'?: string\n}\n\nexport const CommonModal: React.FC<CommonModalProps> = ({ show, onHide, titleI18nKey, title, closeButton, icon, additionalClasses, size, children, ...props }) => {\n  useTranslation()\n\n  return (\n    <Modal data-cy={ props['data-cy'] } show={ show } onHide={ onHide } animation={ true }\n           dialogClassName={ `text-dark ${ additionalClasses ?? '' }` } size={ size }>\n      <Modal.Header closeButton={ !!closeButton }>\n        <Modal.Title>\n          <ShowIf condition={ !!icon }>\n            <ForkAwesomeIcon icon={ icon as IconName }/>&nbsp;\n          </ShowIf>\n          { titleI18nKey\n            ? <Trans i18nKey={ titleI18nKey }/>\n            : <span>{ title }</span>\n          }\n        </Modal.Title>\n      </Modal.Header>\n      { children }\n    </Modal>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { useTranslation } from 'react-i18next'\nimport { ExternalLink } from './external-link'\nimport { TranslatedLinkProps } from './types'\n\nexport const TranslatedExternalLink: React.FC<TranslatedLinkProps> = ({ i18nKey, i18nOption, ...props }) => {\n  const { t } = useTranslation()\n  return (\n    <ExternalLink text={ t(i18nKey, i18nOption) } { ...props }/>\n  )\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { UserResponse } from '../users/types'\nimport { defaultFetchConfig, expectResponseCode, getApiUrl } from '../utils'\n\nexport const getMe = async (): Promise<UserResponse> => {\n  const response = await fetch(getApiUrl() + '/me', {\n    ...defaultFetchConfig\n  })\n  expectResponseCode(response)\n  return (await response.json()) as UserResponse\n}\n\nexport const updateDisplayName = async (displayName: string): Promise<void> => {\n  const response = await fetch(getApiUrl() + '/me', {\n    ...defaultFetchConfig,\n    method: 'POST',\n    body: JSON.stringify({\n      name: displayName\n    })\n  })\n\n  expectResponseCode(response)\n}\n\nexport const changePassword = async (oldPassword: string, newPassword: string): Promise<void> => {\n  const response = await fetch(getApiUrl() + '/me/password', {\n    ...defaultFetchConfig,\n    method: 'POST',\n    body: JSON.stringify({\n      oldPassword,\n      newPassword\n    })\n  })\n\n  expectResponseCode(response)\n}\n\nexport const deleteUser = async (): Promise<void> => {\n  const response = await fetch(getApiUrl() + '/me', {\n    ...defaultFetchConfig,\n    method: 'DELETE'\n  })\n\n  expectResponseCode(response)\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { Action } from 'redux'\n\nexport enum UserActionType {\n  SET_USER = 'user/set',\n  CLEAR_USER = 'user/clear'\n}\n\nexport interface UserActions extends Action<UserActionType> {\n  type: UserActionType;\n}\n\nexport interface SetUserAction extends UserActions {\n  state: UserState;\n}\n\nexport type ClearUserAction = UserActions\n\nexport interface UserState {\n  id: string;\n  name: string;\n  photo: string;\n  provider: LoginProvider;\n}\n\nexport enum LoginProvider {\n  FACEBOOK = 'facebook',\n  GITHUB = 'github',\n  TWITTER = 'twitter',\n  GITLAB = 'gitlab',\n  DROPBOX = 'dropbox',\n  GOOGLE = 'google',\n  SAML = 'saml',\n  OAUTH2 = 'oauth2',\n  INTERNAL = 'internal',\n  LDAP = 'ldap',\n  OPENID = 'openid'\n}\n\nexport type MaybeUserState = (UserState | null)\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { store } from '..'\nimport { ClearUserAction, SetUserAction, UserActionType, UserState } from './types'\n\nexport const setUser: (state: UserState) => void = (state: UserState) => {\n  const action: SetUserAction = {\n    type: UserActionType.SET_USER,\n    state\n  }\n  store.dispatch(action)\n}\n\nexport const clearUser: () => void = () => {\n  const action: ClearUserAction = {\n    type: UserActionType.CLEAR_USER\n  }\n  store.dispatch(action)\n}\n\nexport const getUser = (): UserState | null => {\n  return store.getState().user\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { Button, Modal } from 'react-bootstrap'\nimport { Trans, useTranslation } from 'react-i18next'\nimport { CommonModal, CommonModalProps } from './common-modal'\n\nexport interface DeletionModalProps extends CommonModalProps {\n  onConfirm: () => void\n  deletionButtonI18nKey: string\n}\n\nexport const DeletionModal: React.FC<DeletionModalProps> = ({ show, onHide, titleI18nKey, onConfirm, deletionButtonI18nKey, icon, children }) => {\n  useTranslation()\n\n  return (\n    <CommonModal show={ show } onHide={ onHide } titleI18nKey={ titleI18nKey } icon={ icon } closeButton={ true }>\n      <Modal.Body className=\"text-dark\">\n        { children }\n      </Modal.Body>\n      <Modal.Footer>\n        <Button variant=\"danger\" onClick={ onConfirm }>\n          <Trans i18nKey={ deletionButtonI18nKey }/>\n        </Button>\n      </Modal.Footer>\n    </CommonModal>\n  )\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { DateTime } from 'luxon'\nimport { Action } from 'redux'\nimport { Note } from '../../api/notes'\nimport { NoteFrontmatter } from '../../components/editor-page/note-frontmatter/note-frontmatter'\n\nexport enum NoteDetailsActionType {\n  SET_DOCUMENT_CONTENT = 'note-details/set',\n  SET_NOTE_DATA_FROM_SERVER = 'note-details/data/server/set',\n  SET_NOTE_FRONTMATTER = 'note-details/frontmatter/set',\n  UPDATE_NOTE_TITLE_BY_FIRST_HEADING = 'note-details/update-note-title-by-first-heading',\n  SET_CHECKBOX_IN_MARKDOWN_CONTENT = 'note-details/toggle-checkbox-in-markdown-content'\n}\n\ninterface LastChange {\n  userId: string\n  timestamp: DateTime\n}\n\nexport interface NoteDetails {\n  markdownContent: string\n  id: string\n  createTime: DateTime\n  lastChange: LastChange\n  preVersionTwoNote: boolean\n  viewCount: number\n  alias: string\n  authorship: number[]\n  noteTitle: string\n  firstHeading?: string\n  frontmatter: NoteFrontmatter\n}\n\nexport interface NoteDetailsAction extends Action<NoteDetailsActionType> {\n  type: NoteDetailsActionType\n}\n\nexport interface SetNoteDetailsAction extends NoteDetailsAction {\n  type: NoteDetailsActionType.SET_DOCUMENT_CONTENT\n  content: string\n}\n\nexport interface SetNoteDetailsFromServerAction extends NoteDetailsAction {\n  type: NoteDetailsActionType.SET_NOTE_DATA_FROM_SERVER\n  note: Note\n}\n\nexport interface UpdateNoteTitleByFirstHeadingAction extends NoteDetailsAction {\n  type: NoteDetailsActionType.UPDATE_NOTE_TITLE_BY_FIRST_HEADING\n  firstHeading?: string\n}\n\nexport interface SetNoteFrontmatterFromRenderingAction extends NoteDetailsAction {\n  type: NoteDetailsActionType.SET_NOTE_FRONTMATTER\n  frontmatter: NoteFrontmatter\n}\n\nexport interface SetCheckboxInMarkdownContentAction extends NoteDetailsAction {\n  type: NoteDetailsActionType.SET_CHECKBOX_IN_MARKDOWN_CONTENT,\n  lineInMarkdown: number,\n  checked: boolean\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { Action } from 'redux'\nimport { DateTime } from 'luxon'\nimport { IconName } from '../../components/common/fork-awesome/types'\n\nexport enum UiNotificationActionType {\n  DISPATCH_NOTIFICATION = 'notification/dispatch',\n  DISMISS_NOTIFICATION = 'notification/dismiss'\n}\n\nexport interface UiNotificationButton {\n  label: string,\n  onClick: () => void\n}\n\nexport interface UiNotification {\n  title: string\n  date: DateTime\n  content: string\n  dismissed: boolean\n  icon?: IconName\n  durationInSecond: number\n  buttons?: UiNotificationButton[]\n}\n\nexport interface UiNotificationAction extends Action<UiNotificationActionType> {\n  type: UiNotificationActionType\n}\n\nexport interface DispatchUiNotificationAction extends UiNotificationAction {\n  type: UiNotificationActionType.DISPATCH_NOTIFICATION\n  notification: UiNotification\n}\n\nexport interface DismissUiNotificationAction extends UiNotificationAction {\n  type: UiNotificationActionType.DISMISS_NOTIFICATION\n  notificationId: number\n}\n\nexport type UiNotificationState = UiNotification[]\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { store } from '..'\nimport { DarkModeConfig, DarkModeConfigActionType, SetDarkModeConfigAction } from './types'\n\nexport const setDarkMode = (darkMode: boolean): void => {\n  const action: SetDarkModeConfigAction = {\n    type: DarkModeConfigActionType.SET_DARK_MODE,\n    darkMode: darkMode\n  }\n  store.dispatch(action)\n}\n\nexport const saveToLocalStorage = (darkModeConfig: DarkModeConfig): void => {\n  try {\n    window.localStorage.setItem('nightMode', String(darkModeConfig.darkMode))\n  } catch (e) {\n    console.error('Saving dark-mode setting to local storage failed: ', e)\n  }\n}\n\nexport const loadFromLocalStorage = (): DarkModeConfig | undefined => {\n  try {\n    const storedValue = window.localStorage.getItem('nightMode')\n    if (!storedValue) {\n      return undefined\n    }\n    return {\n      darkMode: storedValue === 'true'\n    }\n  } catch (e) {\n    console.error('Loading dark-mode setting from local storage failed: ', e)\n    return undefined\n  }\n}\n\nexport const determineDarkModeBrowserSetting = (): DarkModeConfig | undefined => {\n  try {\n    const mediaQueryResult = window.matchMedia('(prefers-color-scheme: dark)').matches\n    return {\n      darkMode: mediaQueryResult\n    }\n  } catch (e) {\n    console.error('Can not determine dark-mode setting from browser: ', e)\n    return undefined\n  }\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { useLocation } from 'react-router'\n\nexport const useFrontendBaseUrl = (): string => {\n  const { pathname } = useLocation()\n  const location = window.location\n  const cleanedPathName = location.pathname.replace(pathname, '')\n\n  return `${ location.protocol }//${ location.host }${ cleanedPathName }`\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { Fragment, useCallback, useRef } from 'react'\nimport { Button, FormControl, InputGroup } from 'react-bootstrap'\nimport { useTranslation } from 'react-i18next'\nimport { ForkAwesomeIcon } from '../../fork-awesome/fork-awesome-icon'\nimport { ShowIf } from '../../show-if/show-if'\nimport { CopyOverlay } from '../copy-overlay'\n\nexport interface CopyableFieldProps {\n  content: string\n  nativeShareButton?: boolean\n  url?: string\n}\n\nexport const CopyableField: React.FC<CopyableFieldProps> = ({ content, nativeShareButton, url }) => {\n  useTranslation()\n  const copyButton = useRef<HTMLButtonElement>(null)\n\n  const doShareAction = useCallback(() => {\n    navigator.share({\n      text: content,\n      url: url\n    })\n             .catch(err => {\n               console.error('Native sharing failed: ', err)\n             })\n  }, [content, url])\n\n  const sharingSupported = typeof navigator.share === 'function'\n\n  return (\n    <Fragment>\n      <InputGroup className=\"my-3\">\n        <FormControl readOnly={ true } className={ 'text-center' } value={ content }/>\n        <InputGroup.Append>\n          <Button variant=\"outline-secondary\" ref={ copyButton } title={ 'Copy' }>\n            <ForkAwesomeIcon icon='files-o'/>\n          </Button>\n        </InputGroup.Append>\n        <ShowIf condition={ !!nativeShareButton && sharingSupported }>\n          <InputGroup.Append>\n            <Button variant=\"outline-secondary\" title={ 'Share' } onClick={ doShareAction }>\n              <ForkAwesomeIcon icon='share-alt'/>\n            </Button>\n          </InputGroup.Append>\n        </ShowIf>\n      </InputGroup>\n      <CopyOverlay content={ content } clickComponent={ copyButton }/>\n    </Fragment>\n  )\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport equal from 'fast-deep-equal'\nimport React, { useMemo } from 'react'\nimport { Button } from 'react-bootstrap'\nimport { ButtonProps } from 'react-bootstrap/Button'\nimport { Trans, useTranslation } from 'react-i18next'\nimport { useSelector } from 'react-redux'\nimport { LinkContainer } from 'react-router-bootstrap'\nimport { ApplicationState } from '../../../redux'\nimport { ShowIf } from '../../common/show-if/show-if'\nimport { getApiUrl } from '../../../api/utils'\nimport { INTERACTIVE_LOGIN_METHODS } from '../../../api/auth'\n\nexport type SignInButtonProps = Omit<ButtonProps, 'href'>\n\nexport const SignInButton: React.FC<SignInButtonProps> = ({ variant, ...props }) => {\n  const { t } = useTranslation()\n  const authProviders = useSelector((state: ApplicationState) => state.config.authProviders, equal)\n  const authEnabled = useMemo(() => Object.values(authProviders).includes(true), [authProviders])\n\n  const loginLink = useMemo(() => {\n    const activeProviders = Object.entries(authProviders)\n                                  .filter((entry: [string, boolean]) => entry[1])\n                                  .map(entry => entry[0])\n    const activeOneClickProviders = activeProviders.filter(entry => !INTERACTIVE_LOGIN_METHODS.includes(entry))\n\n    if (activeProviders.length === 1 && activeOneClickProviders.length === 1) {\n      return `${ getApiUrl() }/auth/${ activeOneClickProviders[0] }`\n    }\n    return '/login'\n  }, [authProviders])\n\n  return (\n    <ShowIf condition={ authEnabled }>\n      <LinkContainer to={ loginLink } title={ t('login.signIn') }>\n        <Button\n          data-cy={ 'sign-in-button' }\n          variant={ variant || 'success' }\n          { ...props }>\n          <Trans i18nKey=\"login.signIn\"/>\n        </Button>\n      </LinkContainer>\n    </ShowIf>\n  )\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { defaultFetchConfig, expectResponseCode, getApiUrl } from '../utils'\n\ninterface LastChange {\n  userId: string\n  timestamp: number\n}\n\nexport interface Note {\n  id: string\n  alias: string\n  lastChange: LastChange\n  viewCount: number\n  createTime: number\n  content: string\n  authorship: number[]\n  preVersionTwoNote: boolean\n}\n\nexport const getNote = async (noteId: string): Promise<Note> => {\n  // The \"-get\" suffix is necessary, because in our mock api (filesystem) the note id might already be a folder.\n  // TODO: [mrdrogdrog] replace -get with actual api route as soon as api backend is ready.\n  const response = await fetch(getApiUrl() + `/notes/${ noteId }-get`, {\n    ...defaultFetchConfig\n  })\n  expectResponseCode(response)\n  return await response.json() as Promise<Note>\n}\n\nexport const deleteNote = async (noteId: string): Promise<void> => {\n  const response = await fetch(getApiUrl() + `/notes/${ noteId }`, {\n    ...defaultFetchConfig,\n    method: 'DELETE'\n  })\n  expectResponseCode(response)\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { Action } from 'redux'\n\nexport enum ApiUrlActionType {\n  SET_API_URL = 'api-url/set'\n}\n\nexport interface ApiUrlActions extends Action<ApiUrlActionType> {\n  type: ApiUrlActionType;\n}\n\nexport interface SetApiUrlAction extends ApiUrlActions {\n  state: ApiUrlObject;\n}\n\nexport interface ApiUrlObject {\n  apiUrl: string\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { Action } from 'redux'\n\nexport enum BannerActionType {\n  SET_BANNER = 'banner/set',\n}\n\nexport interface BannerActions extends Action<BannerActionType> {\n  type: BannerActionType;\n}\n\nexport interface SetBannerAction extends BannerActions {\n  state: BannerState;\n}\n\nexport interface BannerState {\n  show: boolean\n  text: string\n  timestamp: string\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { Action } from 'redux'\nimport { Config } from '../../api/config/types'\n\nexport enum ConfigActionType {\n  SET_CONFIG = 'config/set'\n}\n\nexport interface ConfigActions extends Action<ConfigActionType> {\n  type: ConfigActionType;\n}\n\nexport interface SetConfigAction extends ConfigActions {\n  state: Config;\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { Action } from 'redux'\n\nexport enum DarkModeConfigActionType {\n  SET_DARK_MODE = 'dark-mode/set',\n}\n\nexport interface DarkModeConfig {\n  darkMode: boolean\n}\n\nexport interface DarkModeConfigActions extends Action<DarkModeConfigActionType> {\n  type: DarkModeConfigActionType\n}\n\nexport interface SetDarkModeConfigAction extends DarkModeConfigActions {\n  darkMode: boolean\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { store } from '..'\nimport { BannerActionType, BannerState, SetBannerAction } from './types'\n\nexport const setBanner = (state: BannerState): void => {\n  const action: SetBannerAction = {\n    type: BannerActionType.SET_BANNER,\n    state\n  }\n  store.dispatch(action)\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { FormEvent, Fragment, useCallback, useEffect, useState } from 'react'\nimport { Alert, Button, Card, Col, Form, Row } from 'react-bootstrap'\nimport { Trans, useTranslation } from 'react-i18next'\nimport { useSelector } from 'react-redux'\nimport { Redirect } from 'react-router'\nimport { doInternalRegister } from '../../api/auth'\nimport { ApplicationState } from '../../redux'\nimport { TranslatedExternalLink } from '../common/links/translated-external-link'\nimport { ShowIf } from '../common/show-if/show-if'\nimport { getAndSetUser } from '../login-page/auth/utils'\n\nexport enum RegisterError {\n  NONE = 'none',\n  USERNAME_EXISTING = 'usernameExisting',\n  OTHER = 'other'\n}\n\nexport const RegisterPage: React.FC = () => {\n  const { t } = useTranslation()\n  const allowRegister = useSelector((state: ApplicationState) => state.config.allowRegister)\n  const specialLinks = useSelector((state: ApplicationState) => state.config.specialLinks)\n  const userExists = useSelector((state: ApplicationState) => !!state.user)\n\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [passwordAgain, setPasswordAgain] = useState('')\n  const [error, setError] = useState(RegisterError.NONE)\n  const [ready, setReady] = useState(false)\n\n  const doRegisterSubmit = useCallback((event: FormEvent) => {\n    doInternalRegister(username, password)\n      .then(() => getAndSetUser())\n      .catch((err: Error) => {\n        console.error(err)\n        setError(err.message === RegisterError.USERNAME_EXISTING ? err.message : RegisterError.OTHER)\n      })\n    event.preventDefault()\n  }, [username, password])\n\n  useEffect(() => {\n    setReady(username !== '' && password !== '' && password.length >= 8 && password === passwordAgain)\n  }, [username, password, passwordAgain])\n\n  if (!allowRegister) {\n    return (\n      <Redirect to={ '/login' }/>\n    )\n  }\n\n  if (userExists) {\n    return (\n      <Redirect to={ '/intro' }/>\n    )\n  }\n\n  return <Fragment>\n    <div className='my-3'>\n      <h1 className='mb-4'><Trans i18nKey='login.register.title'/></h1>\n      <Row className='h-100 d-flex justify-content-center'>\n        <Col lg={ 6 }>\n          <Card className='bg-dark mb-4 text-start'>\n            <Card.Body>\n              <Form onSubmit={ doRegisterSubmit }>\n                <Form.Group controlId='username'>\n                  <Form.Label><Trans i18nKey='login.auth.username'/></Form.Label>\n                  <Form.Control\n                    type='text'\n                    size='sm'\n                    value={ username }\n                    isValid={ username !== '' }\n                    onChange={ (event) => setUsername(event.target.value) }\n                    placeholder={ t('login.auth.username') }\n                    className='bg-dark text-light'\n                    autoComplete='username'\n                    autoFocus={ true }\n                    required\n                  />\n                  <Form.Text><Trans i18nKey='login.register.usernameInfo'/></Form.Text>\n                </Form.Group>\n                <Form.Group controlId='password'>\n                  <Form.Label><Trans i18nKey='login.auth.password'/></Form.Label>\n                  <Form.Control\n                    type='password'\n                    size='sm'\n                    isValid={ password !== '' && password.length >= 8 }\n                    onChange={ (event) => setPassword(event.target.value) }\n                    placeholder={ t('login.auth.password') }\n                    className='bg-dark text-light'\n                    minLength={ 8 }\n                    autoComplete='new-password'\n                    required\n                  />\n                  <Form.Text><Trans i18nKey='login.register.passwordInfo'/></Form.Text>\n                </Form.Group>\n                <Form.Group controlId='re-password'>\n                  <Form.Label><Trans i18nKey='login.register.passwordAgain'/></Form.Label>\n                  <Form.Control\n                    type='password'\n                    size='sm'\n                    isInvalid={ passwordAgain !== '' && password !== passwordAgain }\n                    isValid={ passwordAgain !== '' && password === passwordAgain }\n                    onChange={ (event) => setPasswordAgain(event.target.value) }\n                    placeholder={ t('login.register.passwordAgain') }\n                    className='bg-dark text-light'\n                    autoComplete='new-password'\n                    required\n                  />\n                </Form.Group>\n                <ShowIf condition={ !!specialLinks?.termsOfUse || !!specialLinks?.privacy }>\n                  <Trans i18nKey='login.register.infoTermsPrivacy'/>\n                  <ul>\n                    <ShowIf condition={ !!specialLinks?.termsOfUse }>\n                      <li>\n                        <TranslatedExternalLink i18nKey='landing.footer.termsOfUse' href={ specialLinks.termsOfUse }/>\n                      </li>\n                    </ShowIf>\n                    <ShowIf condition={ !!specialLinks?.privacy }>\n                      <li>\n                        <TranslatedExternalLink i18nKey='landing.footer.privacy' href={ specialLinks.privacy }/>\n                      </li>\n                    </ShowIf>\n                  </ul>\n                </ShowIf>\n                <Button\n                  variant='primary'\n                  type='submit'\n                  block={ true }\n                  disabled={ !ready }>\n                  <Trans i18nKey='login.register.title'/>\n                </Button>\n              </Form>\n              <br/>\n              <Alert show={ error !== RegisterError.NONE } variant='danger'>\n                <Trans i18nKey={ `login.register.error.${ error }` }/>\n              </Alert>\n            </Card.Body>\n          </Card>\n        </Col>\n      </Row>\n    </div>\n  </Fragment>\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nexport const isTestMode = (): boolean => {\n  return !!process.env.REACT_APP_TEST_MODE\n}\n","var _g;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLogoTextBwHorizontal(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    clipRule: \"evenodd\",\n    fillRule: \"evenodd\",\n    height: 430.07892,\n    strokeLinejoin: \"round\",\n    strokeMiterlimit: 2,\n    viewBox: \"0 0 1660.2405 430.07892\",\n    width: 1660.2405,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    fillRule: \"nonzero\",\n    transform: \"translate(10.242436 10.242452)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m0-124.766-6.399 6.398-7.662-4.814-4.812 7.662-8.541-2.989-2.988 8.54-8.993-1.013-1.011 8.991-8.992 1.013 1.012 8.991-8.541 2.989 2.988 8.54-7.661 4.815 4.815 7.662-6.399 6.399 6.398 6.398-4.814 7.661 7.661 4.814-2.988 8.541 8.541 2.988-1.012 8.985 8.992 1.011 1.011 8.985 8.993-1.015 2.988 8.54 8.541-2.988 4.812 7.662 7.662-4.813h12.796l7.661 4.813 4.814-7.66 8.541 2.988 2.988-8.54 8.992 1.014 1.014-8.985 8.99-1.012-1.012-8.985 8.54-2.988-2.988-8.541 7.662-4.815-4.815-7.66 6.398-6.398-6.398-6.399 4.815-7.66-7.662-4.814 2.988-8.542-8.54-2.988 1.014-8.991-8.992-1.015-1.013-8.991-8.991 1.013-2.989-8.54-8.54 2.989-4.814-7.663-7.663 4.815z\",\n    fill: \"#333\",\n    transform: \"matrix(3.2849556 0 0 3.2849556 207.55664 409.85076)\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m0-30.513c0-12.366-10.025-22.393-22.392-22.393-6.143 0-11.707 2.476-15.752 6.481l-.003-.002-5.705 5.706-4.665-4.665c-4.104-4.683-10.125-7.642-16.839-7.642-12.367 0-22.392 10.025-22.392 22.391 0 6.463 2.74 12.281 7.118 16.368l36.799 36.784 35.987-36.014c4.496-4.232 7.844-10.203 7.844-17.014\",\n    fill: \"#fefefe\",\n    transform: \"matrix(3.2849556 0 0 3.2849556 351.53527 341.0132)\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m-4.558-8.253c1.645 1.64 2.662 3.904 2.662 6.406 0 2.5-1.017 4.766-2.662 6.405-3.514-.026-6.357-2.883-6.357-6.405s2.843-6.38 6.357-6.406\",\n    transform: \"matrix(0 -3.2849556 -3.2849556 0 201.44397 379.04995)\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m-4.896-4.894c-2.704 0-4.895 2.191-4.895 4.894 0 2.704 2.191 4.896 4.895 4.896s4.896-2.192 4.896-4.896c0-2.703-2.192-4.894-4.896-4.894\",\n    transform: \"matrix(0 -3.2849556 -3.2849556 0 166.86087 250.80164)\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m-1.356-1.355c-.751 0-1.356.607-1.356 1.356 0 .748.605 1.355 1.356 1.355.749 0 1.357-.607 1.357-1.355 0-.749-.608-1.356-1.357-1.356\",\n    fill: \"#fff\",\n    transform: \"matrix(0 -3.2849556 -3.2849556 0 172.96926 261.80315)\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m-4.896-4.894c-2.704 0-4.895 2.191-4.895 4.896 0 2.703 2.191 4.894 4.895 4.894s4.896-2.191 4.896-4.894c0-2.705-2.192-4.896-4.896-4.896\",\n    transform: \"matrix(0 -3.2849556 -3.2849556 0 248.40602 250.80164)\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m-1.357-1.356c-.751 0-1.356.608-1.356 1.358 0 .748.605 1.355 1.356 1.355.749 0 1.357-.607 1.357-1.355 0-.75-.608-1.358-1.357-1.358\",\n    fill: \"#fff\",\n    transform: \"matrix(0 -3.2849556 -3.2849556 0 254.51398 261.79888)\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m914.05273 122.625v70.36133c-4.97999-5.27564-10.96602-9.39883-17.95312-12.375-6.99039-2.97289-14.57179-4.46094-22.74805-4.46094-10.77794 0-20.42618 2.50598-28.9375 7.52539s-15.20529 11.89616-20.07031 20.63086c-4.87159 8.73798-7.30664 18.67703-7.30664 29.82617 0 11.15571 2.43505 21.10062 7.30664 29.83203 4.86502 8.7347 11.55899 15.6095 20.07031 20.62891s18.15956 7.5293 28.9375 7.5293c8.39963 0 16.16843-1.58011 23.30664-4.74024 7.13493-3.16012 13.19251-7.48988 18.17578-12.99219l1.00586 15.50196h16.61133v-167.26758zm-393.29492.002v167.26563h19.51563v-73.5957h95.33984v73.5957h19.51172v-167.26568h-19.51172v75.82813h-95.33984v-75.82813zm724.69919.22071v167.26757h45.4961c32.8594 0 58.0977-7.32308 75.7149-21.9707 17.6172-14.64105 26.4277-35.27334 26.4277-61.88476 0-26.53916-8.8105-47.07674-26.4277-61.60938s-42.8555-21.80273-75.7149-21.80273zm19.5157 17.8457h25.9804c26.4636 0 46.7614 5.70463 60.8867 17.11328 14.1221 11.41522 21.1856 27.56409 21.1856 48.45313 0 20.9613-7.0635 37.20817-21.1856 48.72851-14.1253 11.52363-34.4231 17.28711-60.8867 17.28711h-25.9804zm-248.3301 35.45508c-10.778 0-20.42425 2.50988-28.93557 7.52929-8.51132 5.01942-15.20725 11.89421-20.07226 20.62891-4.87159 8.7347-7.30469 18.6757-7.30469 29.82813 0 11.15242 2.4331 21.09538 7.30469 29.83007 4.86501 8.7347 11.56094 15.61145 20.07226 20.63086 8.51132 5.01942 18.15757 7.52539 28.93557 7.52539 8.1762 0 15.7596-1.48805 22.75-4.46093 6.9871-2.97289 12.9712-7.09608 17.9512-12.375v5.79492c0 15.16664-3.81 27.30097-11.4278 36.41015-7.6244 9.10262-19.3481 13.65625-35.1816 13.65625-6.2447 0-12.04336-1.02121-17.39456-3.06445-5.35447-2.04653-10.11335-4.88956-14.27539-8.5293l-9.14257 15.38672c5.49901 4.08977 11.66853 7.2633 18.50781 9.53321 6.83928 2.2699 14.16041 3.40039 21.96871 3.40039 14.1976 0 26.1478-2.88015 35.8516-8.63867 9.7005-5.76182 17.0402-13.8114 22.0234-24.14258 4.98-10.33447 7.4688-22.37675 7.4688-36.13086v-100.58208h-16.6152l-1.004 15.50195c-4.9799-5.5023-11.0375-9.83206-18.1757-12.99219-7.135-3.16013-14.9051-4.74023-23.3047-4.74023zm591.7656.002c-11.1524 0-21.0973 2.50989-29.832 7.5293-8.7347 5.01612-15.6095 11.89092-20.6289 20.6289-5.0162 8.7347-7.5254 18.67375-7.5254 29.82618 0 11.15242 2.5092 21.09671 7.5254 29.82812 5.0194 8.73798 11.8942 15.61278 20.6289 20.62891 8.7347 5.01941 18.6796 7.52929 29.832 7.52929 8.3996 0 16.1288-1.44899 23.1914-4.34961 7.0627-2.90061 13.1951-6.95092 18.3984-12.15429l-12.8242-12.71094c-3.4952 3.86639-7.6932 6.91014-12.5976 9.14063-4.9078 2.23048-10.2978 3.34765-16.168 3.34765-7.5094 0-14.2007-1.78277-20.0742-5.35351-5.8735-3.56747-10.5026-8.47539-13.8828-14.7168-3.3835-6.2447-5.0723-13.30885-5.0723-21.18945 0-7.95288 1.6888-15.03363 5.0723-21.24219 3.3802-6.20528 8.0093-11.09465 13.8828-14.66211 5.8735-3.57075 12.5648-5.35352 20.0742-5.35352 5.8702 0 11.2602 1.09605 16.168 3.28711 4.9044 2.19435 9.1024 5.25923 12.5976 9.20117l12.8242-12.82421c-5.2033-5.12782-11.3357-9.14236-18.3984-12.04297-7.0626-2.90062-14.7918-4.34766-23.1914-4.34766zm-867.86718.002c-11.00132 0-20.85027 2.494-29.54883 7.47071-8.69856 4.98327-15.53759 11.8057-20.51758 20.46484s-7.47266 18.49149-7.47266 29.49609c0 11.30025 2.65627 21.37042 7.97461 30.2168 5.31178 8.84639 12.65475 15.77942 22.02344 20.79883 9.36541 5.01613 32.11328 7.52539 32.11328 7.52539 7.50941 0 15.29543-1.26551 23.36328-3.79492 8.06457-2.52613 16.14797-7.17049 24.25196-13.9375l-10.81641-13.82617c-5.5023 5.20337-11.59699 8.97814-18.28516 11.32031-6.69474 2.33889-13.04765 3.51172-19.07226 3.51172-10.8535 0-20.12695-3.1801-27.82031-9.53321-7.69337-6.35967-12.46885-14.48142-14.32813-24.36914h94.56055v-7.46875c0-11.22469-2.41783-21.18948-7.25-29.88476-4.83217-8.69856-11.48576-15.53626-19.96094-20.51953-8.47519-4.97671-18.21024-7.47071-29.21484-7.47071zm420.61328 0c-11.0013 0-20.8483 2.494-29.5469 7.47071-8.6985 4.98327-15.5395 11.8057-20.5195 20.46484s-7.4727 18.49149-7.4727 29.49609c0 11.30025 2.6583 21.37042 7.9766 30.2168 5.3118 8.84639 12.6561 15.77942 22.0215 20.79883 9.3654 5.01613 20.0706 7.52539 32.1133 7.52539 7.5094 0 15.2954-1.26551 23.3632-3.79492 8.0646-2.52613 16.15-7.17049 24.254-13.9375l-10.8184-13.82617c-5.5023 5.20337-11.595 8.97814-18.2832 11.32031-6.6915 2.33889-13.0496 3.51172-19.0742 3.51172-10.8535 0-20.125-3.1801-27.8184-9.53321-7.6934-6.35967-12.4708-14.48142-14.3301-24.36914h94.5606v-7.46875c0-11.22469-2.4179-21.18948-7.25-29.88476-4.8322-8.69856-11.4838-15.53626-19.959-20.51953-8.4752-4.97671-18.2122-7.47071-29.2168-7.47071zm311.2109 0c-11.1524 0-21.0914 2.50598-29.8261 7.52539-8.738 5.01942-15.6134 11.89617-20.6329 20.63086-5.0161 8.7347-7.5273 18.67704-7.5273 29.82618 0 11.15242 2.5112 21.09733 7.5273 29.83203 5.0195 8.73469 11.8949 15.60949 20.6329 20.6289 8.7347 5.01942 18.6737 7.52539 29.8261 7.52539 11.1492 0 21.0935-2.50597 29.8282-7.52539 8.7347-5.01941 15.6095-11.89421 20.6289-20.6289 5.0194-8.7347 7.5254-18.67961 7.5254-29.83203 0-11.14914-2.506-21.09148-7.5254-29.82618-5.0194-8.73469-11.8942-15.61144-20.6289-20.63086-8.7347-5.01941-18.679-7.52539-29.8282-7.52539zm-454.0488 16.72251c7.5061 0 14.2001 1.78472 20.0703 5.35547 5.8735 3.56746 10.5026 8.45816 13.8828 14.66015 3.3835 6.20857 5.0743 13.29127 5.0743 21.24415 0 7.8806-1.6908 14.9428-5.0743 21.1875-3.3802 6.2447-8.0093 11.14995-13.8828 14.7207-5.8702 3.56746-12.5642 5.35156-20.0703 5.35156-7.5094 0-14.202-1.7841-20.07226-5.35156-5.8735-3.57075-10.50259-8.476-13.88281-14.7207-3.38679-6.2447-5.07422-13.3069-5.07422-21.1875 0-7.95288 1.68743-15.03558 5.07422-21.24415 3.38022-6.20199 8.00931-11.09269 13.88281-14.66015 5.87026-3.57075 12.56286-5.35547 20.07226-5.35547zm-143.29296.002c7.50941 0 14.20009 1.7841 20.07031 5.35157 5.8735 3.57074 10.50321 8.45878 13.88672 14.66406 3.38022 6.20856 5.07226 13.29064 5.07226 21.24023 0 7.88061-1.69204 14.94476-5.07226 21.18946-3.38351 6.2447-8.01322 11.15128-13.88672 14.71875-5.87022 3.57074-12.5609 5.35546-20.07031 5.35546s-14.2001-1.78472-20.07032-5.35546c-5.8735-3.56747-10.50259-8.47405-13.88281-14.71875-3.3835-6.2447-5.07617-13.30885-5.07617-21.18946 0-7.94959 1.69267-15.03167 5.07617-21.24023 3.38022-6.20528 8.00931-11.09332 13.88281-14.66406 5.87022-3.56747 12.56091-5.35157 20.07032-5.35157zm-134.5918.002c9.73661 0 17.98823 3.06487 24.75195 9.20117 6.76373 6.13301 10.96566 14.06675 12.60157 23.80664h-75.60352c1.63591-9.58879 5.94845-17.4887 12.93555-23.69727 6.9871-6.20528 15.42673-9.31054 25.31445-9.31054zm420.61526 0c9.7366 0 17.9882 3.06487 24.7519 9.20117 6.7638 6.13301 10.9657 14.06675 12.6016 23.80664h-75.6035c1.6359-9.58879 5.9484-17.4887 12.9355-23.69727 6.9871-6.20528 15.4268-9.31054 25.3145-9.31054zm311.3183 0c7.5062 0 14.2021 1.78081 20.0723 5.35156 5.8735 3.57075 10.5013 8.45878 13.8848 14.66406 3.3802 6.20528 5.0722 13.28736 5.0722 21.24024 0 7.8806-1.692 14.94475-5.0722 21.18945-3.3835 6.2447-8.0113 11.148-13.8848 14.71875-5.8702 3.56746-12.5661 5.35156-20.0723 5.35156-7.5094 0-14.2001-1.7841-20.0703-5.35156-5.8735-3.57075-10.5026-8.47405-13.8828-14.71875-3.3868-6.2447-5.0742-13.30885-5.0742-21.18945 0-7.95288 1.6874-15.03496 5.0742-21.24024 3.3802-6.20528 8.0093-11.09331 13.8828-14.66406 5.8702-3.57075 12.5609-5.35156 20.0703-5.35156z\",\n    fill: \"#333\",\n    strokeWidth: 3.28496\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLogoTextBwHorizontal);\nexport default __webpack_public_path__ + \"static/media/logo_text_bw_horizontal.bbf91c64.svg\";\nexport { ForwardRef as ReactComponent };","var _linearGradient, _g, _g2;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLogoTextColorVertical(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    clipRule: \"evenodd\",\n    fillRule: \"evenodd\",\n    height: 1000,\n    strokeLinejoin: \"round\",\n    strokeMiterlimit: 2,\n    viewBox: \"0 0 1510 1000\",\n    width: 1510,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _linearGradient || (_linearGradient = /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"a\",\n    gradientTransform: \"matrix(200 -420 420 200 660 1340)\",\n    gradientUnits: \"userSpaceOnUse\",\n    x1: 0,\n    x2: 1,\n    y1: 0,\n    y2: 0\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0,\n    stopColor: \"#fdd49a\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#dca055\"\n  }))), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    fillRule: \"nonzero\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m526.55078 695.48438v94.20312c-6.66549-7.06493-14.67792-12.58654-24.03125-16.56836-9.35749-3.98182-19.51014-5.97461-30.45703-5.97461-14.43358 0-27.34789 3.35659-38.74414 10.07617-11.39625 6.71959-20.35539 15.92332-26.87109 27.61914-6.51987 11.69583-9.77735 25.00684-9.77735 39.93555 0 14.93287 3.25748 28.24389 9.77735 39.93555 6.5157 11.69582 15.47484 20.90346 26.87109 27.62304 11.39625 6.71543 24.31056 10.07227 38.74414 10.07227 11.24646 0 21.64813-2.11449 31.20117-6.3418 9.55305-4.23146 17.66212-10.02587 24.33594-17.39453l1.34375 20.75391h22.24414v-223.93945zm-526.55078.00195v223.93945h26.128906v-98.53125h127.642574v98.53125h26.1211v-223.93945h-26.1211v101.52148h-127.642574v-101.52148zm970.24609.29687v223.93946h60.91011c43.9915 0 77.78-9.80258 101.3672-29.41211 23.5872-19.60538 35.3828-47.2249 35.3828-82.85743 0-35.5285-11.7956-63.02267-35.3828-82.48242-23.5872-19.45559-57.3757-29.1875-101.3672-29.1875zm26.125 23.88672h34.78511c35.4287 0 62.6012 7.63976 81.5118 22.91797 18.9063 15.27821 28.3652 36.90095 28.3652 64.86523 0 28.06831-9.4589 49.8164-28.3652 65.24024-18.9106 15.428-46.0831 23.14258-81.5118 23.14258h-34.78511zm-702.11718 47.47656c-14.73316 0-27.91466 3.33256-39.56055 9.99805-11.64589 6.67382-20.80521 15.80664-27.4707 27.39844-6.66966 11.59596-10.00586 24.75512-10.00586 39.48828 0 15.12843 3.56092 28.61363 10.67578 40.45508 7.11485 11.84977 16.94808 21.12416 29.48437 27.84375 12.54045 6.71958 26.87325 10.07812 42.9961 10.07812 10.05233 0 20.47608-1.69349 31.27734-5.07617 10.7971-3.38268 21.62172-9.60419 32.46875-18.66211l-14.47852-18.50976c-7.36865 6.96506-15.52852 12.01515-24.48242 15.15234-8.95806 3.13303-17.46554 4.70117-25.5332 4.70117-14.52928 0-26.94633-4.25497-37.24414-12.76367-10.30198-8.5087-16.69548-19.3858-19.18359-32.62109h126.59765v-10.00196c0-15.02857-3.23709-28.36803-9.70703-40.00976-6.46578-11.6459-15.37438-20.79884-26.7207-27.47266-11.34632-6.66549-24.38013-9.99805-39.11328-9.99805zm369.64843 0c-14.43358 0-27.34789 3.35685-38.74414 10.07227-11.39625 6.71958-20.35538 15.92723-26.87109 27.62305-6.51987 11.69582-9.77734 25.00293-9.77734 39.93164 0 14.93287 3.25747 28.24779 9.77734 39.93945 6.51571 11.69582 15.47484 20.8976 26.87109 27.61719 11.39625 6.71958 24.31056 10.07812 38.74414 10.07812 10.94273 0 21.09955-1.99304 30.45704-5.9707 9.34916-3.98182 17.36575-9.50318 24.03124-16.57227v7.76368c0 20.30021-5.10087 36.54903-15.29882 48.74414-10.20628 12.18679-25.90458 18.28515-47.10352 18.28515-8.35891 0-16.12233-1.3677-23.28711-4.10547-7.16478-2.73776-13.53985-6.54575-19.11523-11.41796l-12.23633 20.59961c7.36034 5.47552 15.62347 9.72828 24.78125 12.76562 9.15361 3.03734 18.96035 4.55273 29.41211 4.55273 19.00623 0 35.00407-3.85826 47.99805-11.57226 12.98564-7.70984 22.81276-18.48613 29.48242-32.31641 6.66549-13.8386 10.0039-29.96154 10.0039-48.37695v-134.6582h-22.24414l-1.34765 20.7539c-6.66966-7.36866-14.77899-13.16086-24.33203-17.39648-9.55305-4.22731-19.95887-6.33985-31.20118-6.33985zm193.48047 0c-14.72899 0-27.91465 3.33256-39.56054 9.99805-11.6459 6.67382-20.80326 15.80664-27.46875 27.39844-6.66966 11.59596-10.00586 24.75512-10.00586 39.48828 0 15.12843 3.56092 28.61363 10.67578 40.45508 7.11485 11.84977 16.94587 21.12416 29.48633 27.84375 12.54045 6.71958 26.87129 10.07812 42.99414 10.07812 10.05649 0 20.47803-1.69349 31.27929-5.07617 10.79295-3.38268 21.61977-9.60419 32.4668-18.66211l-14.47852-18.50976c-7.36865 6.96506-15.52436 12.01515-24.48242 15.15234-8.95806 3.13303-17.46775 4.70117-25.53125 4.70117-14.52928 0-26.94412-4.25497-37.24609-12.76367-10.30198-8.5087-16.69743-19.3858-19.18555-32.62109h126.59961v-10.00196c0-15.02857-3.23709-28.36803-9.70703-40.00976-6.46578-11.6459-15.37438-20.79884-26.7207-27.47266-11.34632-6.66549-24.38208-9.99805-39.11524-9.99805zm413.53909 0c-14.9329 0-28.2437 3.35659-39.9395 10.07618-11.6958 6.71958-20.8995 15.92332-27.6191 27.61914-6.7154 11.69582-10.0781 25.00683-10.0781 39.93554 0 14.93288 3.3627 28.24194 10.0781 39.9336 6.7196 11.69582 15.9233 20.90346 27.6191 27.62304 11.6958 6.71959 25.0066 10.07813 39.9395 10.07813 14.9287 0 28.238-3.35854 39.9297-10.07813 11.6958-6.71958 20.9034-15.92722 27.623-27.62304 6.7196-11.69166 10.0781-25.00072 10.0781-39.9336 0-14.92871-3.3585-28.23972-10.0781-39.93554s-15.9272-20.89956-27.623-27.61914c-11.6917-6.71959-25.001-10.07618-39.9297-10.07618zm182.1347.002c-14.9328 0-28.2438 3.35854-39.9355 10.07812-11.6958 6.71959-20.9035 15.92332-27.6231 27.61914-6.7154 11.69582-10.0761 25.00489-10.0761 39.9336s3.3607 28.24388 10.0761 39.93554c6.7196 11.69583 15.9273 20.89956 27.6231 27.61914 11.6917 6.71959 25.0027 10.07813 39.9355 10.07813 11.2465 0 21.5935-1.9403 31.0508-5.82227 9.4532-3.88196 17.6678-9.30641 24.6328-16.27148l-17.1679-17.02148c-4.6809 5.18011-10.3016 9.25698-16.8672 12.24023-6.574 2.98741-13.7888 4.48047-21.6485 4.48047-10.0565 0-19.0153-2.38754-26.875-7.16406-7.8637-4.78069-14.059-11.34591-18.5859-19.70899-4.531-8.35891-6.793-17.81777-6.793-28.36523 0-10.64732 2.262-20.12852 6.793-28.4375 4.5269-8.30899 10.7222-14.85409 18.5859-19.63477 7.8597-4.77652 16.8185-7.16406 26.875-7.16406 7.8597 0 15.0745 1.46903 21.6485 4.40234 6.5656 2.93748 12.1863 7.04255 16.8672 12.31836l17.1679-17.16992c-6.965-6.86521-15.1796-12.24108-24.6328-16.12305-9.4573-3.88196-19.8043-5.82226-31.0508-5.82226zm-978.75582 22.38867c10.05233 0 19.00952 2.38924 26.86914 7.16992 7.86379 4.77652 14.06076 11.31992 18.5918 19.62891 4.52688 8.30898 6.78906 17.79213 6.78906 28.43945 0 10.55162-2.26218 20.00437-6.78906 28.36328-4.53104 8.36308-10.72801 14.9283-18.5918 19.70899-7.85962 4.77652-16.81681 7.16601-26.86914 7.16601s-19.00951-2.38949-26.86914-7.16601c-7.86795-4.78069-14.06322-11.34591-18.58594-19.70899-4.5352-8.35891-6.79882-17.81166-6.79882-28.36328 0-10.64732 2.26362-20.13047 6.79882-28.43945 4.52272-8.30899 10.71799-14.85239 18.58594-19.62891 7.85963-4.78068 16.81681-7.16992 26.86914-7.16992zm-180.19336.002c13.03558 0 24.08271 4.10312 33.14063 12.31641 9.05375 8.21329 14.67864 18.83551 16.86718 31.87109h-101.21875c2.18855-12.83586 7.96478-23.41367 17.32227-31.72265 9.35333-8.30899 20.64922-12.46485 33.88867-12.46485zm372.0332 0c10.05234 0 19.00952 2.3895 26.86915 7.16602 7.86378 4.78068 14.06075 11.32408 18.59179 19.6289 4.52688 8.31315 6.78906 17.7963 6.78906 28.43946 0 10.55162-2.26218 20.00827-6.78906 28.36718-4.53104 8.35892-10.72801 14.92856-18.59179 19.70508-7.85963 4.78069-16.81681 7.16992-26.86915 7.16992-10.05233 0-19.01121-2.38923-26.875-7.16992-7.86378-4.77652-14.05931-11.34616-18.58203-19.70508-4.5352-8.35891-6.79687-17.81556-6.79687-28.36718 0-10.64316 2.26167-20.12631 6.79687-28.43946 4.52272-8.30482 10.71825-14.84822 18.58203-19.6289 7.86379-4.77652 16.82267-7.16602 26.875-7.16602zm191.09766 0c13.03558 0 24.08076 4.10312 33.13867 12.31641 9.05376 8.21329 14.6806 18.83551 16.86914 31.87109h-101.21875c2.18855-12.83586 7.96283-23.41367 17.32032-31.72265 9.35333-8.30899 20.65117-12.46485 33.89062-12.46485zm413.68362 0c10.0481 0 19.0095 2.38729 26.8691 7.16797 7.8638 4.77652 14.0591 11.32188 18.586 19.63086 4.531 8.30899 6.7949 17.79214 6.7949 28.43945 0 10.55162-2.2639 20.00412-6.7949 28.36719-4.5269 8.35891-10.7222 14.9244-18.586 19.70508-7.8596 4.78068-16.821 7.16601-26.8691 7.16601-10.0565 0-19.0154-2.38533-26.875-7.16601-7.8638-4.78068-14.0591-11.34617-18.586-19.70508-4.531-8.36307-6.7949-17.81557-6.7949-28.36719 0-10.64731 2.2639-20.13046 6.7949-28.43945 4.5269-8.30898 10.7222-14.85434 18.586-19.63086 7.8596-4.78068 16.8185-7.16797 26.875-7.16797z\",\n    fill: \"#fff\",\n    strokeWidth: 4.16073\n  }), /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"matrix(.41332019 0 0 .41332019 390.39426 -59.003113)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m1553.66 961.083 75.25-75.258-75.25-75.246 56.61-90.096-90.1-56.616 35.15-100.446-100.44-35.142 11.91-105.746-105.74-11.912-11.92-105.75-105.74 11.912-35.15-100.445-100.43 35.145-56.63-90.1-90.107 56.617-75.242-75.246-75.242 75.25-90.104-56.612-56.612 90.096-100.442-35.15-35.142 100.441-105.75-11.916-11.912 105.741-105.742 11.913 11.917 105.741-100.454 35.15 35.145 100.438-90.1 56.612 56.621 90.117-75.258 75.25 75.25 75.258-56.613 90.107 90.1 56.61-35.145 100.44 100.45 35.15-11.913 105.73 105.742 11.92 11.912 105.74 105.75-11.91 35.142 100.43 100.437-35.13 56.617 90.1 90.096-56.62 75.25 74.55 75.25-74.53 90.099 56.61 56.61-90.11 100.45 35.15 35.14-100.44 105.75 11.91 11.91-105.75 105.75-11.91-11.92-105.74 100.45-35.15-35.15-100.45 90.1-56.61z\",\n    fill: \"#b51f08\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m1401.3 1004.78c0-145.437-117.9-263.341-263.34-263.341-72.24 0-137.68 29.112-185.252 76.225l-.033-.034-67.096 67.1-54.862-54.862c-48.267-55.067-119.071-89.879-198.042-89.879-145.442 0-263.342 117.904-263.342 263.341 0 76 32.23 144.43 83.721 192.49l432.779 432.55 423.217-423.49c52.88-49.77 92.25-120 92.25-200.1\",\n    fill: \"#fdd49a\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m885.579 884.73-54.862-54.862c-48.267-55.067-119.071-89.879-198.042-89.879-145.442 0-263.342 117.904-263.342 263.341 0 76 32.23 144.43 83.721 192.49l432.779 432.55\",\n    fill: \"url(#a)\"\n  })))), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"matrix(.41332019 0 0 .41332019 390.394261 -59.003113)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m885.833 1628.37-.254-743.64\",\n    fill: \"none\"\n  }), /*#__PURE__*/React.createElement(\"g\", {\n    fillRule: \"nonzero\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m961.011 1553.59c-19.279-19.35-45.917-31.31-75.325-31.31-29.417 0-56.046 11.96-75.329 31.31.308 41.34 33.908 74.76 75.325 74.76 41.416 0 75.02-33.43 75.329-74.76\",\n    fill: \"#010007\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m797.707 1098.22c0 31.8-25.767 57.57-57.571 57.57-31.787 0-57.558-25.77-57.558-57.57s25.771-57.57 57.558-57.57c31.804 0 57.571 25.77 57.571 57.57\",\n    fill: \"#010007\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m777.962 1089.59c0 8.82-7.146 15.94-15.95 15.94-8.808 0-15.958-7.12-15.958-15.94 0-8.81 7.15-15.96 15.958-15.96 8.804 0 15.95 7.15 15.95 15.96\",\n    fill: \"#fffffa\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m1089.65 1098.22c0 31.8-25.77 57.57-57.57 57.57-31.79 0-57.567-25.77-57.567-57.57s25.777-57.57 57.567-57.57c31.8 0 57.57 25.77 57.57 57.57\",\n    fill: \"#010007\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m1069.9 1089.59c0 8.82-7.15 15.94-15.95 15.94-8.81 0-15.96-7.12-15.96-15.94 0-8.81 7.15-15.96 15.96-15.96 8.8 0 15.95 7.15 15.95 15.96\",\n    fill: \"#fffffa\"\n  })))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLogoTextColorVertical);\nexport default __webpack_public_path__ + \"static/media/logo_text_color_vertical.44692fde.svg\";\nexport { ForwardRef as ReactComponent };","var _g;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLogoTextWbHorizontal(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    clipRule: \"evenodd\",\n    fillRule: \"evenodd\",\n    height: 430.07892,\n    strokeLinejoin: \"round\",\n    strokeMiterlimit: 2,\n    viewBox: \"0 0 1660.2405 430.07892\",\n    width: 1660.2405,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    fillRule: \"nonzero\",\n    transform: \"translate(10.242436 10.242452)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m0-124.766-6.399 6.398-7.662-4.814-4.812 7.662-8.541-2.989-2.988 8.54-8.993-1.013-1.011 8.991-8.992 1.013 1.012 8.991-8.541 2.989 2.988 8.54-7.661 4.815 4.815 7.662-6.399 6.399 6.398 6.398-4.814 7.661 7.661 4.814-2.988 8.541 8.541 2.988-1.012 8.985 8.992 1.011 1.011 8.985 8.993-1.015 2.988 8.54 8.541-2.988 4.812 7.662 7.662-4.813h12.796l7.661 4.813 4.814-7.66 8.541 2.988 2.988-8.54 8.992 1.014 1.014-8.985 8.99-1.012-1.012-8.985 8.54-2.988-2.988-8.541 7.662-4.815-4.815-7.66 6.398-6.398-6.398-6.399 4.815-7.66-7.662-4.814 2.988-8.542-8.54-2.988 1.014-8.991-8.992-1.015-1.013-8.991-8.991 1.013-2.989-8.54-8.54 2.989-4.814-7.663-7.663 4.815z\",\n    fill: \"none\",\n    stroke: \"#fff\",\n    strokeLinejoin: \"miter\",\n    strokeMiterlimit: 2,\n    strokeWidth: 4.4095,\n    transform: \"matrix(3.2849556 0 0 3.2849556 207.55664 409.85076)\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m0-30.513c0-12.366-10.025-22.393-22.392-22.393-6.143 0-11.707 2.476-15.752 6.481l-.003-.002-5.705 5.706-4.665-4.665c-4.104-4.683-10.125-7.642-16.839-7.642-12.367 0-22.392 10.025-22.392 22.391 0 6.463 2.74 12.281 7.118 16.368l36.799 36.784 35.987-36.014c4.496-4.232 7.844-10.203 7.844-17.014\",\n    fill: \"#fefefe\",\n    transform: \"matrix(3.2849556 0 0 3.2849556 351.53527 341.0132)\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m-4.558-8.253c1.645 1.64 2.662 3.904 2.662 6.406 0 2.5-1.017 4.766-2.662 6.405-3.514-.026-6.357-2.883-6.357-6.405s2.843-6.38 6.357-6.406\",\n    transform: \"matrix(0 -3.2849556 -3.2849556 0 201.44397 379.04995)\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m-4.896-4.894c-2.704 0-4.895 2.191-4.895 4.894 0 2.704 2.191 4.896 4.895 4.896s4.896-2.192 4.896-4.896c0-2.703-2.192-4.894-4.896-4.894\",\n    transform: \"matrix(0 -3.2849556 -3.2849556 0 166.86087 250.80164)\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m-1.356-1.355c-.751 0-1.356.607-1.356 1.356 0 .748.605 1.355 1.356 1.355.749 0 1.357-.607 1.357-1.355 0-.749-.608-1.356-1.357-1.356\",\n    fill: \"#fff\",\n    transform: \"matrix(0 -3.2849556 -3.2849556 0 172.96926 261.80315)\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m-4.896-4.894c-2.704 0-4.895 2.191-4.895 4.896 0 2.703 2.191 4.894 4.895 4.894s4.896-2.191 4.896-4.894c0-2.705-2.192-4.896-4.896-4.896\",\n    transform: \"matrix(0 -3.2849556 -3.2849556 0 248.40602 250.80164)\"\n  }), /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"#fff\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m-1.357-1.356c-.751 0-1.356.608-1.356 1.358 0 .748.605 1.355 1.356 1.355.749 0 1.357-.607 1.357-1.355 0-.75-.608-1.358-1.357-1.358\",\n    transform: \"matrix(0 -3.2849556 -3.2849556 0 254.51398 261.79888)\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m914.05273 122.625v70.36133c-4.97999-5.27564-10.96602-9.39883-17.95312-12.375-6.99039-2.97289-14.57179-4.46094-22.74805-4.46094-10.77794 0-20.42618 2.50598-28.9375 7.52539s-15.20529 11.89616-20.07031 20.63086c-4.87159 8.73798-7.30664 18.67703-7.30664 29.82617 0 11.15571 2.43505 21.10062 7.30664 29.83203 4.86502 8.7347 11.55899 15.6095 20.07031 20.62891s18.15956 7.5293 28.9375 7.5293c8.39963 0 16.16843-1.58011 23.30664-4.74024 7.13493-3.16012 13.19251-7.48988 18.17578-12.99219l1.00586 15.50196h16.61133v-167.26758zm-393.29492.002v167.26563h19.51563v-73.5957h95.33984v73.5957h19.51172v-167.26568h-19.51172v75.82813h-95.33984v-75.82813zm724.69919.22071v167.26757h45.4961c32.8594 0 58.0977-7.32308 75.7149-21.9707 17.6172-14.64105 26.4277-35.27334 26.4277-61.88476 0-26.53916-8.8105-47.07674-26.4277-61.60938s-42.8555-21.80273-75.7149-21.80273zm19.5157 17.8457h25.9804c26.4636 0 46.7614 5.70463 60.8867 17.11328 14.1221 11.41522 21.1856 27.56409 21.1856 48.45313 0 20.9613-7.0635 37.20817-21.1856 48.72851-14.1253 11.52363-34.4231 17.28711-60.8867 17.28711h-25.9804zm-248.3301 35.45508c-10.778 0-20.42425 2.50988-28.93557 7.52929-8.51132 5.01942-15.20725 11.89421-20.07226 20.62891-4.87159 8.7347-7.30469 18.6757-7.30469 29.82813 0 11.15242 2.4331 21.09538 7.30469 29.83007 4.86501 8.7347 11.56094 15.61145 20.07226 20.63086 8.51132 5.01942 18.15757 7.52539 28.93557 7.52539 8.1762 0 15.7596-1.48805 22.75-4.46093 6.9871-2.97289 12.9712-7.09608 17.9512-12.375v5.79492c0 15.16664-3.81 27.30097-11.4278 36.41015-7.6244 9.10262-19.3481 13.65625-35.1816 13.65625-6.2447 0-12.04336-1.02121-17.39456-3.06445-5.35447-2.04653-10.11335-4.88956-14.27539-8.5293l-9.14257 15.38672c5.49901 4.08977 11.66853 7.2633 18.50781 9.53321 6.83928 2.2699 14.16041 3.40039 21.96871 3.40039 14.1976 0 26.1478-2.88015 35.8516-8.63867 9.7005-5.76182 17.0402-13.8114 22.0234-24.14258 4.98-10.33447 7.4688-22.37675 7.4688-36.13086v-100.58208h-16.6152l-1.004 15.50195c-4.9799-5.5023-11.0375-9.83206-18.1757-12.99219-7.135-3.16013-14.9051-4.74023-23.3047-4.74023zm591.7656.002c-11.1524 0-21.0973 2.50989-29.832 7.5293-8.7347 5.01612-15.6095 11.89092-20.6289 20.6289-5.0162 8.7347-7.5254 18.67375-7.5254 29.82618 0 11.15242 2.5092 21.09671 7.5254 29.82812 5.0194 8.73798 11.8942 15.61278 20.6289 20.62891 8.7347 5.01941 18.6796 7.52929 29.832 7.52929 8.3996 0 16.1288-1.44899 23.1914-4.34961 7.0627-2.90061 13.1951-6.95092 18.3984-12.15429l-12.8242-12.71094c-3.4952 3.86639-7.6932 6.91014-12.5976 9.14063-4.9078 2.23048-10.2978 3.34765-16.168 3.34765-7.5094 0-14.2007-1.78277-20.0742-5.35351-5.8735-3.56747-10.5026-8.47539-13.8828-14.7168-3.3835-6.2447-5.0723-13.30885-5.0723-21.18945 0-7.95288 1.6888-15.03363 5.0723-21.24219 3.3802-6.20528 8.0093-11.09465 13.8828-14.66211 5.8735-3.57075 12.5648-5.35352 20.0742-5.35352 5.8702 0 11.2602 1.09605 16.168 3.28711 4.9044 2.19435 9.1024 5.25923 12.5976 9.20117l12.8242-12.82421c-5.2033-5.12782-11.3357-9.14236-18.3984-12.04297-7.0626-2.90062-14.7918-4.34766-23.1914-4.34766zm-867.86718.002c-11.00132 0-20.85027 2.494-29.54883 7.47071-8.69856 4.98327-15.53759 11.8057-20.51758 20.46484s-7.47266 18.49149-7.47266 29.49609c0 11.30025 2.65627 21.37042 7.97461 30.2168 5.31178 8.84639 12.65475 15.77942 22.02344 20.79883 9.36541 5.01613 32.11328 7.52539 32.11328 7.52539 7.50941 0 15.29543-1.26551 23.36328-3.79492 8.06457-2.52613 16.14797-7.17049 24.25196-13.9375l-10.81641-13.82617c-5.5023 5.20337-11.59699 8.97814-18.28516 11.32031-6.69474 2.33889-13.04765 3.51172-19.07226 3.51172-10.8535 0-20.12695-3.1801-27.82031-9.53321-7.69337-6.35967-12.46885-14.48142-14.32813-24.36914h94.56055v-7.46875c0-11.22469-2.41783-21.18948-7.25-29.88476-4.83217-8.69856-11.48576-15.53626-19.96094-20.51953-8.47519-4.97671-18.21024-7.47071-29.21484-7.47071zm420.61328 0c-11.0013 0-20.8483 2.494-29.5469 7.47071-8.6985 4.98327-15.5395 11.8057-20.5195 20.46484s-7.4727 18.49149-7.4727 29.49609c0 11.30025 2.6583 21.37042 7.9766 30.2168 5.3118 8.84639 12.6561 15.77942 22.0215 20.79883 9.3654 5.01613 20.0706 7.52539 32.1133 7.52539 7.5094 0 15.2954-1.26551 23.3632-3.79492 8.0646-2.52613 16.15-7.17049 24.254-13.9375l-10.8184-13.82617c-5.5023 5.20337-11.595 8.97814-18.2832 11.32031-6.6915 2.33889-13.0496 3.51172-19.0742 3.51172-10.8535 0-20.125-3.1801-27.8184-9.53321-7.6934-6.35967-12.4708-14.48142-14.3301-24.36914h94.5606v-7.46875c0-11.22469-2.4179-21.18948-7.25-29.88476-4.8322-8.69856-11.4838-15.53626-19.959-20.51953-8.4752-4.97671-18.2122-7.47071-29.2168-7.47071zm311.2109 0c-11.1524 0-21.0914 2.50598-29.8261 7.52539-8.738 5.01942-15.6134 11.89617-20.6329 20.63086-5.0161 8.7347-7.5273 18.67704-7.5273 29.82618 0 11.15242 2.5112 21.09733 7.5273 29.83203 5.0195 8.73469 11.8949 15.60949 20.6329 20.6289 8.7347 5.01942 18.6737 7.52539 29.8261 7.52539 11.1492 0 21.0935-2.50597 29.8282-7.52539 8.7347-5.01941 15.6095-11.89421 20.6289-20.6289 5.0194-8.7347 7.5254-18.67961 7.5254-29.83203 0-11.14914-2.506-21.09148-7.5254-29.82618-5.0194-8.73469-11.8942-15.61144-20.6289-20.63086-8.7347-5.01941-18.679-7.52539-29.8282-7.52539zm-454.0488 16.72251c7.5061 0 14.2001 1.78472 20.0703 5.35547 5.8735 3.56746 10.5026 8.45816 13.8828 14.66015 3.3835 6.20857 5.0743 13.29127 5.0743 21.24415 0 7.8806-1.6908 14.9428-5.0743 21.1875-3.3802 6.2447-8.0093 11.14995-13.8828 14.7207-5.8702 3.56746-12.5642 5.35156-20.0703 5.35156-7.5094 0-14.202-1.7841-20.07226-5.35156-5.8735-3.57075-10.50259-8.476-13.88281-14.7207-3.38679-6.2447-5.07422-13.3069-5.07422-21.1875 0-7.95288 1.68743-15.03558 5.07422-21.24415 3.38022-6.20199 8.00931-11.09269 13.88281-14.66015 5.87026-3.57075 12.56286-5.35547 20.07226-5.35547zm-143.29296.002c7.50941 0 14.20009 1.7841 20.07031 5.35157 5.8735 3.57074 10.50321 8.45878 13.88672 14.66406 3.38022 6.20856 5.07226 13.29064 5.07226 21.24023 0 7.88061-1.69204 14.94476-5.07226 21.18946-3.38351 6.2447-8.01322 11.15128-13.88672 14.71875-5.87022 3.57074-12.5609 5.35546-20.07031 5.35546s-14.2001-1.78472-20.07032-5.35546c-5.8735-3.56747-10.50259-8.47405-13.88281-14.71875-3.3835-6.2447-5.07617-13.30885-5.07617-21.18946 0-7.94959 1.69267-15.03167 5.07617-21.24023 3.38022-6.20528 8.00931-11.09332 13.88281-14.66406 5.87022-3.56747 12.56091-5.35157 20.07032-5.35157zm-134.5918.002c9.73661 0 17.98823 3.06487 24.75195 9.20117 6.76373 6.13301 10.96566 14.06675 12.60157 23.80664h-75.60352c1.63591-9.58879 5.94845-17.4887 12.93555-23.69727 6.9871-6.20528 15.42673-9.31054 25.31445-9.31054zm420.61526 0c9.7366 0 17.9882 3.06487 24.7519 9.20117 6.7638 6.13301 10.9657 14.06675 12.6016 23.80664h-75.6035c1.6359-9.58879 5.9484-17.4887 12.9355-23.69727 6.9871-6.20528 15.4268-9.31054 25.3145-9.31054zm311.3183 0c7.5062 0 14.2021 1.78081 20.0723 5.35156 5.8735 3.57075 10.5013 8.45878 13.8848 14.66406 3.3802 6.20528 5.0722 13.28736 5.0722 21.24024 0 7.8806-1.692 14.94475-5.0722 21.18945-3.3835 6.2447-8.0113 11.148-13.8848 14.71875-5.8702 3.56746-12.5661 5.35156-20.0723 5.35156-7.5094 0-14.2001-1.7841-20.0703-5.35156-5.8735-3.57075-10.5026-8.47405-13.8828-14.71875-3.3868-6.2447-5.0742-13.30885-5.0742-21.18945 0-7.95288 1.6874-15.03496 5.0742-21.24024 3.3802-6.20528 8.0093-11.09331 13.8828-14.66406 5.8702-3.57075 12.5609-5.35156 20.0703-5.35156z\",\n    strokeWidth: 3.28496\n  })))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLogoTextWbHorizontal);\nexport default __webpack_public_path__ + \"static/media/logo_text_wb_horizontal.fb1ff24d.svg\";\nexport { ForwardRef as ReactComponent };","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { ReactComponent as LogoBwHorizontal } from './logo_text_bw_horizontal.svg'\nimport { ReactComponent as LogoColorVertical } from './logo_text_color_vertical.svg'\nimport { ReactComponent as LogoWbHorizontal } from './logo_text_wb_horizontal.svg'\n\nexport enum HedgeDocLogoSize {\n  SMALL = 32,\n  MEDIUM = 64,\n  BIG = 256\n}\n\nexport interface HedgeDocLogoProps {\n  size?: HedgeDocLogoSize | number,\n  logoType: HedgeDocLogoType\n}\n\nexport enum HedgeDocLogoType {\n  COLOR_VERTICAL,\n  BW_HORIZONTAL,\n  WB_HORIZONTAL\n}\n\nexport const HedgeDocLogoWithText: React.FC<HedgeDocLogoProps> = ({ size = HedgeDocLogoSize.MEDIUM, logoType }) => {\n  switch (logoType) {\n    case HedgeDocLogoType.COLOR_VERTICAL:\n      return <LogoColorVertical className={ 'w-auto' } title={ 'HedgeDoc logo with text' } style={ { height: size } }/>\n    case HedgeDocLogoType.BW_HORIZONTAL:\n      return <LogoBwHorizontal className={ 'w-auto' } title={ 'HedgeDoc logo with text' } style={ { height: size } }/>\n    case HedgeDocLogoType.WB_HORIZONTAL:\n      return <LogoWbHorizontal className={ 'w-auto' } title={ 'HedgeDoc logo with text' } style={ { height: size } }/>\n    default:\n      return null\n  }\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\n// import { RevealOptions } from 'reveal.js'\n\nexport interface RawNoteFrontmatter {\n  title: string | undefined\n  description: string | undefined\n  tags: string | string[] | undefined\n  robots: string | undefined\n  lang: string | undefined\n  dir: string | undefined\n  breaks: boolean | undefined\n  GA: string | undefined\n  disqus: string | undefined\n  type: string | undefined\n  slideOptions: unknown\n  opengraph: { [key: string]: string } | null\n}\n\nexport const ISO6391 = ['aa', 'ab', 'af', 'am', 'ar', 'ar-ae', 'ar-bh', 'ar-dz', 'ar-eg', 'ar-iq', 'ar-jo', 'ar-kw',\n  'ar-lb', 'ar-ly', 'ar-ma', 'ar-om', 'ar-qa', 'ar-sa', 'ar-sy', 'ar-tn', 'ar-ye', 'as', 'ay', 'de-at', 'de-ch',\n  'de-li', 'de-lu', 'div', 'dz', 'el', 'en', 'en-au', 'en-bz', 'en-ca', 'en-gb', 'en-ie', 'en-jm', 'en-nz', 'en-ph',\n  'en-tt', 'en-us', 'en-za', 'en-zw', 'eo', 'es', 'es-ar', 'es-bo', 'es-cl', 'es-co', 'es-cr', 'es-do', 'es-ec',\n  'es-es', 'es-gt', 'es-hn', 'es-mx', 'es-ni', 'es-pa', 'es-pe', 'es-pr', 'es-py', 'es-sv', 'es-us', 'es-uy', 'es-ve',\n  'et', 'eu', 'fa', 'fi', 'fj', 'fo', 'fr', 'fr-be', 'fr-ca', 'fr-ch', 'fr-lu', 'fr-mc', 'fy', 'ga', 'gd', 'gl', 'gn',\n  'gu', 'ha', 'he', 'hi', 'hr', 'hu', 'hy', 'ia', 'id', 'ie', 'ik', 'in', 'is', 'it', 'it-ch', 'iw', 'ja', 'ji', 'jw',\n  'ka', 'kk', 'kl', 'km', 'kn', 'ko', 'kok', 'ks', 'ku', 'ky', 'kz', 'la', 'ln', 'lo', 'ls', 'lt', 'lv', 'mg', 'mi',\n  'mk', 'ml', 'mn', 'mo', 'mr', 'ms', 'mt', 'my', 'na', 'nb-no', 'ne', 'nl', 'nl-be', 'nn-no', 'no', 'oc', 'om', 'or',\n  'pa', 'pl', 'ps', 'pt', 'pt-br', 'qu', 'rm', 'rn', 'ro', 'ro-md', 'ru', 'ru-md', 'rw', 'sa', 'sb', 'sd', 'sg', 'sh',\n  'si', 'sk', 'sl', 'sm', 'sn', 'so', 'sq', 'sr', 'ss', 'st', 'su', 'sv', 'sv-fi', 'sw', 'sx', 'syr', 'ta', 'te', 'tg',\n  'th', 'ti', 'tk', 'tl', 'tn', 'to', 'tr', 'ts', 'tt', 'tw', 'uk', 'ur', 'us', 'uz', 'vi', 'vo', 'wo', 'xh', 'yi',\n  'yo', 'zh', 'zh-cn', 'zh-hk', 'zh-mo', 'zh-sg', 'zh-tw', 'zu'] as const\n\nexport enum NoteType {\n  DOCUMENT = '',\n  SLIDE = 'slide'\n}\n\nexport enum NoteTextDirection {\n  LTR = 'ltr',\n  RTL = 'rtl'\n}\n\nexport class NoteFrontmatter {\n  title: string\n  description: string\n  tags: string[]\n  deprecatedTagsSyntax: boolean\n  robots: string\n  lang: typeof ISO6391[number]\n  dir: NoteTextDirection\n  breaks: boolean\n  GA: string\n  disqus: string\n  type: NoteType\n  // slideOptions: RevealOptions\n  opengraph: Map<string, string>\n\n  constructor(rawData: RawNoteFrontmatter) {\n    this.title = rawData.title ?? ''\n    this.description = rawData.description ?? ''\n    this.robots = rawData.robots ?? ''\n    this.breaks = rawData.breaks ?? true\n    this.GA = rawData.GA ?? ''\n    this.disqus = rawData.disqus ?? ''\n    this.lang = (rawData.lang ? ISO6391.find(lang => lang === rawData.lang) : undefined) ?? 'en'\n    this.type = (rawData.type ? Object.values(NoteType)\n                                      .find(type => type === rawData.type) : undefined) ?? NoteType.DOCUMENT\n    this.dir = (rawData.dir ? Object.values(NoteTextDirection)\n                                    .find(dir => dir === rawData.dir) : undefined) ?? NoteTextDirection.LTR\n\n    /* this.slideOptions = (rawData?.slideOptions as RevealOptions) ?? {\n     transition: 'none',\n     theme: 'white'\n     } */\n    if (typeof rawData?.tags === 'string') {\n      this.tags = rawData?.tags?.split(',')\n                         .map(entry => entry.trim()) ?? []\n      this.deprecatedTagsSyntax = true\n    } else if (typeof rawData?.tags === 'object') {\n      this.tags = rawData?.tags?.filter(tag => tag !== null) ?? []\n      this.deprecatedTagsSyntax = false\n    } else {\n      this.tags = []\n      this.deprecatedTagsSyntax = false\n    }\n    this.opengraph = rawData?.opengraph ? new Map<string, string>(Object.entries(rawData.opengraph)) : new Map<string, string>()\n  }\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { useSelector } from 'react-redux'\nimport { ApplicationState } from '../../redux'\n\nexport const useIsDarkModeActivated = (): boolean => {\n  return useSelector((state: ApplicationState) => state.darkMode.darkMode)\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { ToggleButton, ToggleButtonGroup } from 'react-bootstrap'\nimport { useTranslation } from 'react-i18next'\nimport { useSelector } from 'react-redux'\nimport { ApplicationState } from '../../../redux'\nimport { setEditorMode } from '../../../redux/editor/methods'\nimport { ForkAwesomeIcon } from '../../common/fork-awesome/fork-awesome-icon'\n\nexport enum EditorMode {\n  PREVIEW = 'view',\n  BOTH = 'both',\n  EDITOR = 'edit'\n}\n\nexport const EditorViewMode: React.FC = () => {\n  const { t } = useTranslation()\n  const editorMode = useSelector((state: ApplicationState) => state.editorConfig.editorMode)\n  return (\n    <ToggleButtonGroup\n      type=\"radio\"\n      name=\"options\"\n      value={ editorMode }\n      onChange={ (value: EditorMode) => {\n        setEditorMode(value)\n      } }>\n      <ToggleButton value={ EditorMode.PREVIEW } variant=\"outline-secondary\" title={ t('editor.viewMode.view') }>\n        <ForkAwesomeIcon icon=\"eye\"/>\n      </ToggleButton>\n      <ToggleButton value={ EditorMode.BOTH } variant=\"outline-secondary\" title={ t('editor.viewMode.both') }>\n        <ForkAwesomeIcon icon=\"columns\"/>\n      </ToggleButton>\n      <ToggleButton value={ EditorMode.EDITOR } variant=\"outline-secondary\" title={ t('editor.viewMode.edit') }>\n        <ForkAwesomeIcon icon=\"pencil\"/>\n      </ToggleButton>\n    </ToggleButtonGroup>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { useTranslation } from 'react-i18next'\nimport { ShowIf } from '../show-if/show-if'\nimport './user-avatar.scss'\n\nexport interface UserAvatarProps {\n  size?: 'sm' | 'lg'\n  name: string;\n  photo: string;\n  additionalClasses?: string;\n  showName?: boolean\n}\n\nconst UserAvatar: React.FC<UserAvatarProps> = ({ name, photo, size, additionalClasses = '', showName = true }) => {\n  const { t } = useTranslation()\n\n  return (\n    <span className={ 'd-inline-flex align-items-center ' + additionalClasses }>\n      <img\n        src={ photo }\n        className={ `user-avatar rounded mr-1 ${ size ?? '' }` }\n        alt={ t('common.avatarOf', { name }) }\n        title={ name }\n      />\n      <ShowIf condition={ showName }>\n        <span className=\"mx-1 user-line-name\">{ name }</span>\n      </ShowIf>\n    </span>\n  )\n}\n\nexport { UserAvatar }\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { DateTime } from 'luxon'\nimport { Reducer } from 'redux'\nimport { Note } from '../../api/notes'\nimport {\n  NoteFrontmatter,\n  NoteTextDirection,\n  NoteType\n} from '../../components/editor-page/note-frontmatter/note-frontmatter'\nimport {\n  NoteDetails,\n  NoteDetailsAction,\n  NoteDetailsActionType,\n  SetCheckboxInMarkdownContentAction,\n  SetNoteDetailsAction,\n  SetNoteDetailsFromServerAction,\n  SetNoteFrontmatterFromRenderingAction,\n  UpdateNoteTitleByFirstHeadingAction\n} from './types'\n\nexport const initialState: NoteDetails = {\n  markdownContent: '',\n  id: '',\n  createTime: DateTime.fromSeconds(0),\n  lastChange: {\n    timestamp: DateTime.fromSeconds(0),\n    userId: ''\n  },\n  alias: '',\n  preVersionTwoNote: false,\n  viewCount: 0,\n  authorship: [],\n  noteTitle: '',\n  firstHeading: '',\n  frontmatter: {\n    title: '',\n    description: '',\n    tags: [],\n    deprecatedTagsSyntax: false,\n    robots: '',\n    lang: 'en',\n    dir: NoteTextDirection.LTR,\n    breaks: true,\n    GA: '',\n    disqus: '',\n    type: NoteType.DOCUMENT,\n    opengraph: new Map<string, string>()\n  }\n}\n\nexport const NoteDetailsReducer: Reducer<NoteDetails, NoteDetailsAction> = (state: NoteDetails = initialState, action: NoteDetailsAction) => {\n  switch (action.type) {\n    case NoteDetailsActionType.SET_DOCUMENT_CONTENT:\n      return {\n        ...state,\n        markdownContent: (action as SetNoteDetailsAction).content\n      }\n    case NoteDetailsActionType.UPDATE_NOTE_TITLE_BY_FIRST_HEADING:\n      return {\n        ...state,\n        firstHeading: (action as UpdateNoteTitleByFirstHeadingAction).firstHeading,\n        noteTitle: generateNoteTitle(state.frontmatter, (action as UpdateNoteTitleByFirstHeadingAction).firstHeading)\n      }\n    case NoteDetailsActionType.SET_NOTE_DATA_FROM_SERVER:\n      return convertNoteToNoteDetails((action as SetNoteDetailsFromServerAction).note)\n    case NoteDetailsActionType.SET_NOTE_FRONTMATTER:\n      return {\n        ...state,\n        frontmatter: (action as SetNoteFrontmatterFromRenderingAction).frontmatter,\n        noteTitle: generateNoteTitle((action as SetNoteFrontmatterFromRenderingAction).frontmatter, state.firstHeading)\n      }\n    case NoteDetailsActionType.SET_CHECKBOX_IN_MARKDOWN_CONTENT:\n      return {\n        ...state,\n        markdownContent: setCheckboxInMarkdownContent(\n          state.markdownContent,\n          (action as SetCheckboxInMarkdownContentAction).lineInMarkdown,\n          (action as SetCheckboxInMarkdownContentAction).checked\n        )\n      }\n    default:\n      return state\n  }\n}\n\nconst TASK_REGEX = /(\\s*[-*] )(\\[[ xX]])( .*)/\nconst setCheckboxInMarkdownContent = (markdownContent: string, lineInMarkdown: number, checked: boolean): string => {\n  const lines = markdownContent.split('\\n')\n  const results = TASK_REGEX.exec(lines[lineInMarkdown])\n  if (results) {\n    const before = results[1]\n    const after = results[3]\n    lines[lineInMarkdown] = `${ before }[${ checked ? 'x' : ' ' }]${ after }`\n    return lines.join('\\n')\n  }\n  return markdownContent\n}\n\nconst generateNoteTitle = (frontmatter: NoteFrontmatter, firstHeading?: string) => {\n  if (frontmatter?.title && frontmatter?.title !== '') {\n    return frontmatter.title.trim()\n  } else if (frontmatter?.opengraph && frontmatter?.opengraph.get('title') && frontmatter?.opengraph.get('title') !== '') {\n    return (frontmatter?.opengraph.get('title') ?? firstHeading ?? '').trim()\n  } else {\n    return (firstHeading ?? firstHeading ?? '').trim()\n  }\n}\n\nconst convertNoteToNoteDetails = (note: Note): NoteDetails => {\n  return {\n    markdownContent: note.content,\n    frontmatter: initialState.frontmatter,\n    id: note.id,\n    noteTitle: initialState.noteTitle,\n    createTime: DateTime.fromSeconds(note.createTime),\n    lastChange: {\n      userId: note.lastChange.userId,\n      timestamp: DateTime.fromSeconds(note.lastChange.timestamp)\n    },\n    firstHeading: initialState.firstHeading,\n    preVersionTwoNote: note.preVersionTwoNote,\n    viewCount: note.viewCount,\n    alias: note.alias,\n    authorship: note.authorship\n  }\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nexport const download = (data: BlobPart, fileName: string, mimeType: string): void => {\n  const file = new Blob([data], { type: mimeType })\n  downloadLink(URL.createObjectURL(file), fileName)\n}\n\nexport const downloadLink = (url: string, fileName: string): void => {\n  const helperElement = document.createElement('a')\n  helperElement.href = url\n  helperElement.download = fileName\n  document.body.appendChild(helperElement)\n  helperElement.click()\n  setTimeout(() => helperElement.remove(), 2000)\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport equal from 'fast-deep-equal'\nimport React from 'react'\nimport { Alert, Button } from 'react-bootstrap'\nimport { useSelector } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport { ApplicationState } from '../../../redux'\nimport { setBanner } from '../../../redux/banner/methods'\nimport { ForkAwesomeIcon } from '../fork-awesome/fork-awesome-icon'\nimport { ShowIf } from '../show-if/show-if'\n\nexport const MotdBanner: React.FC = () => {\n  const bannerState = useSelector((state: ApplicationState) => state.banner, equal)\n\n  const dismissBanner = () => {\n    setBanner({ ...bannerState, show: false })\n    window.localStorage.setItem('bannerTimeStamp', bannerState.timestamp)\n  }\n\n  return (\n    <ShowIf condition={ bannerState.show }>\n      <Alert variant='primary' dir='auto' className='mb-0 text-center d-flex flex-row justify-content-center'>\n        <Link to='/s/banner' className='flex-grow-1 align-self-center text-black'>\n          { bannerState.text }\n        </Link>\n        <Button\n          variant='outline-primary'\n          size='sm'\n          className='mx-2'\n          onClick={ dismissBanner }>\n          <ForkAwesomeIcon icon='times'/>\n        </Button>\n      </Alert>\n    </ShowIf>\n  )\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { Link } from 'react-router-dom'\nimport { ForkAwesomeIcon } from '../fork-awesome/fork-awesome-icon'\nimport { IconName } from '../fork-awesome/types'\nimport { ShowIf } from '../show-if/show-if'\nimport { LinkWithTextProps } from './types'\n\nexport const InternalLink: React.FC<LinkWithTextProps> = ({ href, text, icon, id, className = 'text-light', title }) => {\n  return (\n    <Link\n      to={ href }\n      className={ className }\n      id={ id }\n      title={ title }>\n      <ShowIf condition={ !!icon }>\n        <ForkAwesomeIcon icon={ icon as IconName } fixedWidth={ true }/>&nbsp;\n      </ShowIf>\n      { text }\n    </Link>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { RefObject, useCallback, useEffect, useState } from 'react'\nimport { Overlay, Tooltip } from 'react-bootstrap'\nimport { Trans, useTranslation } from 'react-i18next'\nimport { v4 as uuid } from 'uuid'\nimport { ShowIf } from '../show-if/show-if'\n\nexport interface CopyOverlayProps {\n  content: string\n  clickComponent: RefObject<HTMLElement>\n}\n\nexport const CopyOverlay: React.FC<CopyOverlayProps> = ({ content, clickComponent }) => {\n  useTranslation()\n  const [showCopiedTooltip, setShowCopiedTooltip] = useState(false)\n  const [error, setError] = useState(false)\n  const [tooltipId] = useState<string>(() => uuid())\n\n  const copyToClipboard = useCallback((content: string) => {\n    navigator.clipboard.writeText(content)\n             .then(() => {\n               setError(false)\n             })\n             .catch(() => {\n               setError(true)\n               console.error('couldn\\'t copy')\n             })\n             .finally(() => {\n               setShowCopiedTooltip(true)\n               setTimeout(() => {\n                 setShowCopiedTooltip(false)\n               }, 2000)\n             })\n  }, [])\n\n  useEffect(() => {\n    if (clickComponent && clickComponent.current) {\n      clickComponent.current.addEventListener('click', () => copyToClipboard(content))\n      const clickComponentSaved = clickComponent.current\n      return () => {\n        if (clickComponentSaved) {\n          clickComponentSaved.removeEventListener('click', () => copyToClipboard(content))\n        }\n      }\n    }\n  }, [clickComponent, copyToClipboard, content])\n\n  return (\n    <Overlay target={ clickComponent } show={ showCopiedTooltip } placement=\"top\">\n      { (props) => (\n        <Tooltip id={ `copied_${ tooltipId }` } { ...props }>\n          <ShowIf condition={ error }>\n            <Trans i18nKey={ 'common.copyError' }/>\n          </ShowIf>\n          <ShowIf condition={ !error }>\n            <Trans i18nKey={ 'common.successfullyCopied' }/>\n          </ShowIf>\n        </Tooltip>\n      ) }\n    </Overlay>\n  )\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { getProxiedUrl } from '../../../../api/media'\nimport { ApplicationState } from '../../../../redux'\n\nexport const ProxyImageFrame: React.FC<React.ImgHTMLAttributes<HTMLImageElement>> = (\n  {\n    src,\n    title,\n    alt,\n    ...props\n  }) => {\n  const [imageUrl, setImageUrl] = useState('')\n  const imageProxyEnabled = useSelector((state: ApplicationState) => state.config.useImageProxy)\n\n  useEffect(() => {\n    if (!imageProxyEnabled || !src) {\n      return\n    }\n    getProxiedUrl(src)\n      .then(proxyResponse => setImageUrl(proxyResponse.src))\n      .catch(err => console.error(err))\n  }, [imageProxyEnabled, src])\n\n  return <img src={ imageProxyEnabled ? imageUrl : (src ?? '') } title={ title ?? alt ?? '' } alt={ alt } { ...props }/>\n}\n\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { Modal } from 'react-bootstrap'\nimport { ForkAwesomeIcon } from '../../../common/fork-awesome/fork-awesome-icon'\nimport './lightbox.scss'\nimport { ProxyImageFrame } from './proxy-image-frame'\n\nexport interface ImageLightboxModalProps {\n  show: boolean\n  onHide: () => void\n  alt?: string\n  src?: string\n  title?: string\n}\n\nexport const ImageLightboxModal: React.FC<ImageLightboxModalProps> = ({ show, onHide, src, alt, title }) => {\n  return (\n    <Modal\n      animation={ true }\n      centered={ true }\n      dialogClassName={ 'text-dark lightbox' }\n      show={ show && !!src }\n      onHide={ onHide }\n      size={ 'xl' }>\n      <Modal.Header closeButton={ true }>\n        <Modal.Title className={ 'h6' }>\n          <ForkAwesomeIcon icon={ 'picture-o' }/>\n          &nbsp;\n          <span>{ alt ?? title ?? '' }</span>\n        </Modal.Title>\n      </Modal.Header>\n      <ProxyImageFrame alt={ alt } src={ src } title={ title } className={ 'w-100 cursor-zoom-out' }\n                       onClick={ onHide }/>\n    </Modal>\n  )\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { useCallback, useEffect, useState } from 'react'\nimport { ImageLightboxModal } from '../../markdown-renderer/replace-components/image/image-lightbox-modal'\nimport { ImageDetails } from '../../render-page/rendering-message'\n\nexport interface ShowOnPropChangeImageLightboxProps {\n  details?: ImageDetails\n}\n\nexport const ShowOnPropChangeImageLightbox: React.FC<ShowOnPropChangeImageLightboxProps> = ({ details }) => {\n  const [show, setShow] = useState<boolean>(false)\n\n  const hideLightbox = useCallback(() => {\n    setShow(false)\n  }, [])\n\n  useEffect(() => {\n    if (details) {\n      setShow(true)\n    }\n  }, [details])\n\n  return (\n    <ImageLightboxModal show={ show } onHide={ hideLightbox } src={ details?.src }\n                        alt={ details?.alt } title={ details?.title }/>\n  )\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\nimport equal from 'fast-deep-equal'\nimport React, { Fragment, useCallback, useEffect, useRef, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { useIsDarkModeActivated } from '../../../hooks/common/use-is-dark-mode-activated'\nimport { ApplicationState } from '../../../redux'\nimport { isTestMode } from '../../../utils/is-test-mode'\nimport { RendererProps } from '../../render-page/markdown-document'\nimport { ImageDetails, RendererType } from '../../render-page/rendering-message'\nimport { useContextOrStandaloneIframeCommunicator } from '../render-context/iframe-communicator-context-provider'\nimport { ScrollState } from '../synced-scroll/scroll-props'\nimport { useOnIframeLoad } from './hooks/use-on-iframe-load'\nimport { ShowOnPropChangeImageLightbox } from './show-on-prop-change-image-lightbox'\n\nexport interface RenderIframeProps extends RendererProps {\n  onRendererReadyChange?: (rendererReady: boolean) => void\n  rendererType: RendererType,\n  forcedDarkMode?: boolean\n  frameClasses?: string\n}\n\nexport const RenderIframe: React.FC<RenderIframeProps> = (\n  {\n    markdownContent,\n    onTaskCheckedChange,\n    onFrontmatterChange,\n    scrollState,\n    onFirstHeadingChange,\n    onScroll,\n    onMakeScrollSource,\n    frameClasses,\n    onRendererReadyChange,\n    rendererType,\n    forcedDarkMode\n  }) => {\n  const savedDarkMode = useIsDarkModeActivated()\n  const darkMode = forcedDarkMode ?? savedDarkMode\n  const [rendererReady, setRendererReady] = useState<boolean>(false)\n  const [lightboxDetails, setLightboxDetails] = useState<ImageDetails | undefined>(undefined)\n\n  const frameReference = useRef<HTMLIFrameElement>(null)\n  const rendererOrigin = useSelector((state: ApplicationState) => state.config.iframeCommunication.rendererOrigin)\n  const renderPageUrl = `${ rendererOrigin }/render`\n  const resetRendererReady = useCallback(() => setRendererReady(false), [])\n  const iframeCommunicator = useContextOrStandaloneIframeCommunicator()\n  const onIframeLoad = useOnIframeLoad(frameReference, iframeCommunicator, rendererOrigin, renderPageUrl, resetRendererReady)\n  const [frameHeight, setFrameHeight] = useState<number>(0)\n\n  useEffect(() => {\n    onRendererReadyChange?.(rendererReady)\n  }, [onRendererReadyChange, rendererReady])\n\n  useEffect(() => () => iframeCommunicator.unregisterEventListener(), [iframeCommunicator])\n  useEffect(() => iframeCommunicator.onFirstHeadingChange(onFirstHeadingChange), [iframeCommunicator,\n    onFirstHeadingChange])\n  useEffect(() => iframeCommunicator.onFrontmatterChange(onFrontmatterChange), [iframeCommunicator,\n    onFrontmatterChange])\n  useEffect(() => iframeCommunicator.onSetScrollState(onScroll), [iframeCommunicator, onScroll])\n  useEffect(() => iframeCommunicator.onSetScrollSourceToRenderer(onMakeScrollSource), [iframeCommunicator,\n    onMakeScrollSource])\n  useEffect(() => iframeCommunicator.onTaskCheckboxChange(onTaskCheckedChange), [iframeCommunicator,\n    onTaskCheckedChange])\n  useEffect(() => iframeCommunicator.onImageClicked(setLightboxDetails), [iframeCommunicator])\n  useEffect(() => iframeCommunicator.onRendererReady(() => {\n    iframeCommunicator.sendSetBaseConfiguration({\n      baseUrl: window.location.toString(),\n      rendererType\n    })\n    setRendererReady(true)\n  }), [darkMode, rendererType, iframeCommunicator, rendererReady, scrollState])\n  useEffect(() => iframeCommunicator.onHeightChange(setFrameHeight), [iframeCommunicator])\n\n  useEffect(() => {\n    if (rendererReady) {\n      iframeCommunicator.sendSetDarkmode(darkMode)\n    }\n  }, [darkMode, iframeCommunicator, rendererReady])\n\n  const oldScrollState = useRef<ScrollState | undefined>(undefined)\n  useEffect(() => {\n    if (rendererReady && !equal(scrollState, oldScrollState.current)) {\n      oldScrollState.current = scrollState\n      iframeCommunicator.sendScrollState(scrollState)\n    }\n  }, [iframeCommunicator, rendererReady, scrollState])\n\n  useEffect(() => {\n    if (rendererReady) {\n      iframeCommunicator.sendSetMarkdownContent(markdownContent)\n    }\n  }, [iframeCommunicator, markdownContent, rendererReady])\n\n  return <Fragment>\n    <ShowOnPropChangeImageLightbox details={ lightboxDetails }/>\n    <iframe style={ { height: `${ frameHeight }px` } } data-cy={ 'documentIframe' } onLoad={ onIframeLoad }\n            title=\"render\" src={ renderPageUrl }\n            { ...isTestMode() ? {} : { sandbox: 'allow-downloads allow-same-origin allow-scripts allow-popups' } }\n            ref={ frameReference } className={ `border-0 ${ frameClasses ?? '' }` }/>\n  </Fragment>\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { RefObject, useCallback, useRef } from 'react'\nimport { IframeEditorToRendererCommunicator } from '../../../render-page/iframe-editor-to-renderer-communicator'\n\nexport const useOnIframeLoad = (frameReference: RefObject<HTMLIFrameElement>, iframeCommunicator: IframeEditorToRendererCommunicator,\n  rendererOrigin: string, renderPageUrl: string, onNavigateAway: () => void): () => void => {\n  const sendToRenderPage = useRef<boolean>(true)\n\n  return useCallback(() => {\n    const frame = frameReference.current\n    if (!frame || !frame.contentWindow) {\n      iframeCommunicator.unsetOtherSide()\n      return\n    }\n\n    if (sendToRenderPage.current) {\n      iframeCommunicator.setOtherSide(frame.contentWindow, rendererOrigin)\n      sendToRenderPage.current = false\n      return\n    } else {\n      onNavigateAway()\n      console.error('Navigated away from unknown URL')\n      frame.src = renderPageUrl\n      sendToRenderPage.current = true\n    }\n  }, [frameReference, iframeCommunicator, onNavigateAway, renderPageUrl, rendererOrigin])\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport { ApplicationState } from '../../redux'\n\nexport const useDocumentTitle = (title?: string): void => {\n  const brandingName = useSelector((state: ApplicationState) => state.config.branding.name)\n\n  useEffect(() => {\n    document.title = `${ title ? title + ' - ' : '' }HedgeDoc ${ brandingName ? ` @ ${ brandingName }` : '' }`\n  }, [brandingName, title])\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { useTranslation } from 'react-i18next'\nimport { InternalLink } from './internal-link'\nimport { TranslatedLinkProps } from './types'\n\nexport const TranslatedInternalLink: React.FC<TranslatedLinkProps> = ({ i18nKey, i18nOption, ...props }) => {\n  const { t } = useTranslation()\n  return (\n    <InternalLink text={ t(i18nKey, i18nOption) } { ...props }/>\n  )\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport equal from 'fast-deep-equal'\nimport React from 'react'\nimport { Dropdown } from 'react-bootstrap'\nimport { Trans, useTranslation } from 'react-i18next'\nimport { useSelector } from 'react-redux'\nimport { LinkContainer } from 'react-router-bootstrap'\nimport { ApplicationState } from '../../../redux'\nimport { clearUser } from '../../../redux/user/methods'\nimport { ForkAwesomeIcon } from '../../common/fork-awesome/fork-awesome-icon'\nimport { UserAvatar } from '../../common/user-avatar/user-avatar'\n\nexport const UserDropdown: React.FC = () => {\n  useTranslation()\n  const user = useSelector((state: ApplicationState) => state.user, equal)\n\n  if (!user) {\n    return null\n  }\n\n  return (\n    <Dropdown alignRight>\n      <Dropdown.Toggle size=\"sm\" variant=\"dark\" id=\"dropdown-user\" className={ 'd-flex align-items-center' }>\n        <UserAvatar name={ user.name } photo={ user.photo }/>\n      </Dropdown.Toggle>\n\n      <Dropdown.Menu className='text-start'>\n        <LinkContainer to={ '/n/features' }>\n          <Dropdown.Item dir='auto'>\n            <ForkAwesomeIcon icon=\"bolt\" fixedWidth={ true } className=\"mx-2\"/>\n            <Trans i18nKey=\"editor.help.documents.features\"/>\n          </Dropdown.Item>\n        </LinkContainer>\n        <LinkContainer to={ '/profile' }>\n          <Dropdown.Item dir='auto'>\n            <ForkAwesomeIcon icon=\"user\" fixedWidth={ true } className=\"mx-2\"/>\n            <Trans i18nKey=\"profile.userProfile\"/>\n          </Dropdown.Item>\n        </LinkContainer>\n        <Dropdown.Item\n          dir='auto'\n          onClick={ () => {\n            clearUser()\n          } }>\n          <ForkAwesomeIcon icon=\"sign-out\" fixedWidth={ true } className=\"mx-2\"/>\n          <Trans i18nKey=\"login.signOut\"/>\n        </Dropdown.Item>\n      </Dropdown.Menu>\n    </Dropdown>)\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport equal from 'fast-deep-equal'\nimport React from 'react'\nimport { useSelector } from 'react-redux'\nimport { ApplicationState } from '../../../redux'\nimport { ShowIf } from '../show-if/show-if'\nimport './branding.scss'\n\nexport interface BrandingProps {\n  inline?: boolean\n  delimiter?: boolean\n}\n\nexport const Branding: React.FC<BrandingProps> = ({ inline = false, delimiter = true }) => {\n  const branding = useSelector((state: ApplicationState) => state.config.branding, equal)\n  const showBranding = !!branding.name || !!branding.logo\n\n  return (\n    <ShowIf condition={ showBranding }>\n      <ShowIf condition={ delimiter }>\n        <strong className={ `mx-1 ${ inline ? 'inline-size' : 'regular-size' }` }>@</strong>\n      </ShowIf>\n      {\n        branding.logo\n          ? <img\n            src={ branding.logo }\n            alt={ branding.name }\n            title={ branding.name }\n            className={ inline ? 'inline-size' : 'regular-size' }\n          />\n          : branding.name\n      }\n    </ShowIf>\n  )\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nexport abstract class IframeCommunicator<SEND, RECEIVE> {\n  protected otherSide?: Window\n  protected otherOrigin?: string\n\n  constructor() {\n    window.addEventListener('message', this.handleEvent.bind(this))\n  }\n\n  public unregisterEventListener(): void {\n    window.removeEventListener('message', this.handleEvent.bind(this))\n  }\n\n  public setOtherSide(otherSide: Window, otherOrigin: string): void {\n    this.otherSide = otherSide\n    this.otherOrigin = otherOrigin\n  }\n\n  public unsetOtherSide(): void {\n    this.otherSide = undefined\n    this.otherOrigin = undefined\n  }\n\n  public getOtherSide(): Window | undefined {\n    return this.otherSide\n  }\n\n  protected sendMessageToOtherSide(message: SEND): void {\n    if (this.otherSide === undefined || this.otherOrigin === undefined) {\n      console.error('Can\\'t send message because otherSide is null', message)\n      return\n    }\n    this.otherSide.postMessage(message, this.otherOrigin)\n  }\n\n  protected abstract handleEvent(event: MessageEvent<RECEIVE>): void;\n}\n\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { ImageProxyResponse } from '../../components/markdown-renderer/replace-components/image/types'\nimport { defaultFetchConfig, expectResponseCode, getApiUrl } from '../utils'\n\nexport const getProxiedUrl = async (imageUrl: string): Promise<ImageProxyResponse> => {\n  const response = await fetch(getApiUrl() + '/media/proxy', {\n    ...defaultFetchConfig,\n    method: 'POST',\n    body: JSON.stringify({\n      src: imageUrl\n    })\n  })\n  expectResponseCode(response)\n  return await response.json() as Promise<ImageProxyResponse>\n}\n\nexport interface UploadedMedia {\n  link: string\n}\n\nexport const uploadFile = async (noteId: string, contentType: string, media: Blob): Promise<UploadedMedia> => {\n  const response = await fetch(getApiUrl() + '/media/upload', {\n    ...defaultFetchConfig,\n    headers: {\n      'Content-Type': contentType,\n      'HedgeDoc-Note': noteId\n    },\n    method: 'POST',\n    body: media\n  })\n  expectResponseCode(response, 201)\n  return await response.json() as Promise<UploadedMedia>\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { ForkAwesomeIcon } from '../fork-awesome/fork-awesome-icon'\n\nexport const WaitSpinner: React.FC = () => {\n  return (\n    <div className={ 'm-3 d-flex align-items-center justify-content-center' }>\n      <ForkAwesomeIcon icon={ 'spinner' } className={ 'fa-spin' }/>\n    </div>\n  )\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { useCallback, useEffect, useLayoutEffect, useMemo, useRef, useState } from 'react'\nimport { Button, ProgressBar, Toast } from 'react-bootstrap'\nimport { UiNotification } from '../../redux/ui-notifications/types'\nimport { ForkAwesomeIcon } from '../common/fork-awesome/fork-awesome-icon'\nimport { ShowIf } from '../common/show-if/show-if'\nimport { IconName } from '../common/fork-awesome/types'\nimport { dismissUiNotification } from '../../redux/ui-notifications/methods'\n\nconst STEPS_PER_SECOND = 10\n\nexport interface UiNotificationProps extends UiNotification {\n  notificationId: number\n}\n\nexport const UiNotificationToast: React.FC<UiNotificationProps> = ({ title, content, date, icon, dismissed, notificationId, durationInSecond, buttons }) => {\n  const [eta, setEta] = useState<number>()\n  const interval = useRef<NodeJS.Timeout | undefined>(undefined)\n\n  const deleteInterval = useCallback(() => {\n    if (interval.current) {\n      clearInterval(interval.current)\n    }\n  }, [])\n\n  const dismissThisNotification = useCallback(() => {\n    console.debug(`[Notifications] Dismissed notification ${ notificationId }`)\n    dismissUiNotification(notificationId)\n  }, [notificationId])\n\n  useLayoutEffect(() => {\n    if (dismissed || !!interval.current) {\n      return\n    }\n    console.debug(`[Notifications] Show notification ${ notificationId }`)\n    setEta(durationInSecond * STEPS_PER_SECOND)\n    interval.current = setInterval(() => setEta((lastETA) => {\n      if (lastETA === undefined) {\n        return\n      } else if (lastETA <= 0) {\n        return 0\n      } else {\n        return lastETA - 1\n      }\n    }), 1000 / STEPS_PER_SECOND)\n    return () => {\n      deleteInterval()\n    }\n  }, [deleteInterval, dismissThisNotification, dismissed, durationInSecond, notificationId])\n\n  useEffect(() => {\n    if (eta === 0) {\n      dismissThisNotification()\n    }\n  }, [dismissThisNotification, eta])\n\n  const buttonsDom = useMemo(() => buttons?.map(button => {\n      const buttonClick = () => {\n        button.onClick()\n        dismissThisNotification()\n      }\n      return <Button key={ button.label } size={ 'sm' } onClick={ buttonClick }\n                     variant={ 'link' }>{ button.label }</Button>\n    }\n  ), [buttons, dismissThisNotification])\n\n  return (\n    <Toast show={ !dismissed && eta !== undefined } onClose={ dismissThisNotification }>\n      <Toast.Header>\n        <strong className=\"mr-auto\">\n          <ShowIf condition={ !!icon }>\n            <ForkAwesomeIcon icon={ icon as IconName } fixedWidth={ true } className={ 'mr-1' }/>\n          </ShowIf>\n          { title }\n        </strong>\n        <small>{ date.toRelative({ style: 'short' }) }</small>\n      </Toast.Header>\n      <Toast.Body>{ content }</Toast.Body>\n      <ProgressBar variant={ 'info' } now={ eta } max={ durationInSecond * STEPS_PER_SECOND } min={ 0 }/>\n      <div>\n        {\n          buttonsDom\n        }\n      </div>\n    </Toast>\n  )\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { UiNotificationToast } from './ui-notification-toast'\nimport './notifications.scss'\nimport { useSelector } from 'react-redux'\nimport { ApplicationState } from '../../redux'\nimport equal from 'fast-deep-equal'\n\nexport const UiNotifications: React.FC = () => {\n  const notifications = useSelector((state: ApplicationState) => state.uiNotifications, equal)\n\n  return (\n    <div\n      className={ 'notifications-area' }\n      aria-live=\"polite\"\n      aria-atomic=\"true\">\n      {\n        notifications.map((notification, notificationIndex) =>\n          <UiNotificationToast\n            key={ notificationIndex }\n            notificationId={ notificationIndex }\n            { ...notification }/>)\n      }\n    </div>\n  )\n}\n\n\n\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { NoteFrontmatter } from '../editor-page/note-frontmatter/note-frontmatter'\nimport { ScrollState } from '../editor-page/synced-scroll/scroll-props'\nimport { IframeCommunicator } from './iframe-communicator'\nimport {\n  BaseConfiguration,\n  EditorToRendererIframeMessage,\n  ImageDetails,\n  RendererToEditorIframeMessage,\n  RenderIframeMessageType\n} from './rendering-message'\n\nexport class IframeEditorToRendererCommunicator extends IframeCommunicator<EditorToRendererIframeMessage, RendererToEditorIframeMessage> {\n  private onSetScrollSourceToRendererHandler?: () => void\n  private onTaskCheckboxChangeHandler?: (lineInMarkdown: number, checked: boolean) => void\n  private onFirstHeadingChangeHandler?: (heading?: string) => void\n  private onFrontmatterChangeHandler?: (frontmatter?: NoteFrontmatter) => void\n  private onSetScrollStateHandler?: (scrollState: ScrollState) => void\n  private onRendererReadyHandler?: () => void\n  private onImageClickedHandler?: (details: ImageDetails) => void\n  private onHeightChangeHandler?: (height: number) => void\n\n  public onHeightChange(handler?: (height: number) => void): void {\n    this.onHeightChangeHandler = handler\n  }\n\n  public onFrontmatterChange(handler?: (frontmatter?: NoteFrontmatter) => void): void {\n    this.onFrontmatterChangeHandler = handler\n  }\n\n  public onImageClicked(handler?: (details: ImageDetails) => void): void {\n    this.onImageClickedHandler = handler\n  }\n\n  public onRendererReady(handler?: () => void): void {\n    this.onRendererReadyHandler = handler\n  }\n\n  public onSetScrollSourceToRenderer(handler?: () => void): void {\n    this.onSetScrollSourceToRendererHandler = handler\n  }\n\n  public onTaskCheckboxChange(handler?: (lineInMarkdown: number, checked: boolean) => void): void {\n    this.onTaskCheckboxChangeHandler = handler\n  }\n\n  public onFirstHeadingChange(handler?: (heading?: string) => void): void {\n    this.onFirstHeadingChangeHandler = handler\n  }\n\n  public onSetScrollState(handler?: (scrollState: ScrollState) => void): void {\n    this.onSetScrollStateHandler = handler\n  }\n\n  public sendSetBaseConfiguration(baseConfiguration: BaseConfiguration): void {\n    this.sendMessageToOtherSide({\n      type: RenderIframeMessageType.SET_BASE_CONFIGURATION,\n      baseConfiguration\n    })\n  }\n\n  public sendSetMarkdownContent(markdownContent: string): void {\n    this.sendMessageToOtherSide({\n      type: RenderIframeMessageType.SET_MARKDOWN_CONTENT,\n      content: markdownContent\n    })\n  }\n\n  public sendSetDarkmode(darkModeActivated: boolean): void {\n    this.sendMessageToOtherSide({\n      type: RenderIframeMessageType.SET_DARKMODE,\n      activated: darkModeActivated\n    })\n  }\n\n  public sendScrollState(scrollState?: ScrollState): void {\n    if (!scrollState) {\n      return\n    }\n    this.sendMessageToOtherSide({\n      type: RenderIframeMessageType.SET_SCROLL_STATE,\n      scrollState\n    })\n  }\n\n  protected handleEvent(event: MessageEvent<RendererToEditorIframeMessage>): boolean | undefined {\n    const renderMessage = event.data\n    switch (renderMessage.type) {\n      case RenderIframeMessageType.RENDERER_READY:\n        this.onRendererReadyHandler?.()\n        return false\n      case RenderIframeMessageType.SET_SCROLL_SOURCE_TO_RENDERER:\n        this.onSetScrollSourceToRendererHandler?.()\n        return false\n      case RenderIframeMessageType.SET_SCROLL_STATE:\n        this.onSetScrollStateHandler?.(renderMessage.scrollState)\n        return false\n      case RenderIframeMessageType.ON_FIRST_HEADING_CHANGE:\n        this.onFirstHeadingChangeHandler?.(renderMessage.firstHeading)\n        return false\n      case RenderIframeMessageType.ON_TASK_CHECKBOX_CHANGE:\n        this.onTaskCheckboxChangeHandler?.(renderMessage.lineInMarkdown, renderMessage.checked)\n        return false\n      case RenderIframeMessageType.ON_SET_FRONTMATTER:\n        this.onFrontmatterChangeHandler?.(renderMessage.frontmatter)\n        return false\n      case RenderIframeMessageType.IMAGE_CLICKED:\n        this.onImageClickedHandler?.(renderMessage.details)\n        return false\n      case RenderIframeMessageType.ON_HEIGHT_CHANGE:\n        this.onHeightChangeHandler?.(renderMessage.height)\n        return false\n    }\n  }\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { useContext, useMemo } from 'react'\nimport { IframeEditorToRendererCommunicator } from '../../render-page/iframe-editor-to-renderer-communicator'\n\nconst IFrameEditorToRendererCommunicatorContext = React.createContext<IframeEditorToRendererCommunicator | undefined>(undefined)\n\nexport const useIFrameCommunicator: () => IframeEditorToRendererCommunicator | undefined = () => useContext(IFrameEditorToRendererCommunicatorContext)\n\nexport const useContextOrStandaloneIframeCommunicator: () => IframeEditorToRendererCommunicator = () => {\n  const contextCommunicator = useIFrameCommunicator()\n  return useMemo(() => contextCommunicator ? contextCommunicator : new IframeEditorToRendererCommunicator(), [contextCommunicator])\n}\n\nexport const IframeCommunicatorContextProvider: React.FC = ({ children }) => {\n  const currentIFrameCommunicator = useMemo<IframeEditorToRendererCommunicator>(() => new IframeEditorToRendererCommunicator(), [])\n\n  return <IFrameEditorToRendererCommunicatorContext.Provider value={ currentIFrameCommunicator }>\n    { children }\n  </IFrameEditorToRendererCommunicatorContext.Provider>\n}\n","var _linearGradient, _g, _path, _g2;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLogoColor(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    clipRule: \"evenodd\",\n    fillRule: \"evenodd\",\n    height: 1486,\n    strokeLinejoin: \"round\",\n    strokeMiterlimit: 2,\n    viewBox: \"0 0 1486 1486\",\n    width: 1486,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _linearGradient || (_linearGradient = /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"a\",\n    gradientTransform: \"matrix(200 -420 420 200 660 1340)\",\n    gradientUnits: \"userSpaceOnUse\",\n    x1: 0,\n    x2: 1,\n    y1: 0,\n    y2: 0\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0,\n    stopColor: \"#fcca8c\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#dca055\"\n  }))), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    fillRule: \"nonzero\",\n    transform: \"translate(-142.756 -142.754)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m1553.66 961.083 75.25-75.258-75.25-75.246 56.61-90.096-90.1-56.616 35.15-100.446-100.44-35.142 11.91-105.746-105.74-11.912-11.92-105.75-105.74 11.912-35.15-100.445-100.43 35.145-56.63-90.1-90.107 56.617-75.242-75.246-75.242 75.25-90.104-56.612-56.612 90.096-100.442-35.15-35.142 100.441-105.75-11.916-11.912 105.741-105.742 11.913 11.917 105.741-100.454 35.15 35.145 100.438-90.1 56.612 56.621 90.117-75.258 75.25 75.25 75.258-56.613 90.107 90.1 56.61-35.145 100.44 100.45 35.15-11.913 105.73 105.742 11.92 11.912 105.74 105.75-11.91 35.142 100.43 100.437-35.13 56.617 90.1 90.096-56.62 75.25 74.55 75.25-74.53 90.099 56.61 56.61-90.11 100.45 35.15 35.14-100.44 105.75 11.91 11.91-105.75 105.75-11.91-11.92-105.74 100.45-35.15-35.15-100.45 90.1-56.61z\",\n    fill: \"#b51f08\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m1401.3 1004.78c0-145.437-117.9-263.341-263.34-263.341-72.24 0-137.68 29.112-185.252 76.225l-.033-.034-67.096 67.1-54.862-54.862c-48.267-55.067-119.071-89.879-198.042-89.879-145.442 0-263.342 117.904-263.342 263.341 0 76 32.23 144.43 83.721 192.49l432.779 432.55 423.217-423.49c52.88-49.77 92.25-120 92.25-200.1\",\n    fill: \"#fcca8c\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m885.579 884.73-54.862-54.862c-48.267-55.067-119.071-89.879-198.042-89.879-145.442 0-263.342 117.904-263.342 263.341 0 76 32.23 144.43 83.721 192.49l432.779 432.55\",\n    fill: \"url(#a)\"\n  }))), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m743.077 1485.616-.254-743.64\",\n    fill: \"none\"\n  })), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", {\n    fillRule: \"nonzero\",\n    transform: \"translate(-142.756 -142.754)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m961.011 1553.59c-19.279-19.35-45.917-31.31-75.325-31.31-29.417 0-56.046 11.96-75.329 31.31.308 41.34 33.908 74.76 75.325 74.76 41.416 0 75.02-33.43 75.329-74.76\",\n    fill: \"#010007\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m797.707 1098.22c0 31.8-25.767 57.57-57.571 57.57-31.787 0-57.558-25.77-57.558-57.57s25.771-57.57 57.558-57.57c31.804 0 57.571 25.77 57.571 57.57\",\n    fill: \"#010007\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m777.962 1089.59c0 8.82-7.146 15.94-15.95 15.94-8.808 0-15.958-7.12-15.958-15.94 0-8.81 7.15-15.96 15.958-15.96 8.804 0 15.95 7.15 15.95 15.96\",\n    fill: \"#fffffa\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m1089.65 1098.22c0 31.8-25.77 57.57-57.57 57.57-31.79 0-57.567-25.77-57.567-57.57s25.777-57.57 57.567-57.57c31.8 0 57.57 25.77 57.57 57.57\",\n    fill: \"#010007\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m1069.9 1089.59c0 8.82-7.15 15.94-15.95 15.94-8.81 0-15.96-7.12-15.96-15.94 0-8.81 7.15-15.96 15.96-15.96 8.8 0 15.95 7.15 15.95 15.96\",\n    fill: \"#fffffa\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLogoColor);\nexport default __webpack_public_path__ + \"static/media/logo_color.3fb320fe.svg\";\nexport { ForwardRef as ReactComponent };","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { defaultFetchConfig, expectResponseCode, getApiUrl } from '../utils'\nimport { Config } from './types'\n\nexport const getConfig = async (): Promise<Config> => {\n  const response = await fetch(getApiUrl() + '/config', {\n    ...defaultFetchConfig\n  })\n  expectResponseCode(response)\n  return await response.json() as Promise<Config>\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { store } from '..'\nimport { ApiUrlActionType, ApiUrlObject, SetApiUrlAction } from './types'\n\nexport const setApiUrl = (state: ApiUrlObject): void => {\n  const action: SetApiUrlAction = {\n    type: ApiUrlActionType.SET_API_URL,\n    state\n  }\n  store.dispatch(action)\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { store } from '..'\nimport { Config } from '../../api/config/types'\nimport { ConfigActionType, SetConfigAction } from './types'\n\nexport const setConfig = (state: Config): void => {\n  const action: SetConfigAction = {\n    type: ConfigActionType.SET_CONFIG,\n    state: state\n  }\n  store.dispatch(action)\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { getConfig } from '../../../api/config'\nimport { setApiUrl } from '../../../redux/api-url/methods'\nimport { setBanner } from '../../../redux/banner/methods'\nimport { setConfig } from '../../../redux/config/methods'\nimport { getAndSetUser } from '../../login-page/auth/utils'\n\nexport const loadAllConfig: (baseUrl: string) => Promise<void> = async (baseUrl) => {\n  setApiUrl({\n    apiUrl: (process.env.REACT_APP_BACKEND || baseUrl) + '/api/private'\n  })\n\n  const config = await getConfig()\n  if (!config) {\n    return Promise.reject(new Error('Config empty!'))\n  }\n  setConfig(config)\n\n  const banner = config.banner\n  if (banner.text !== '') {\n    const lastAcknowledgedTimestamp = window.localStorage.getItem('bannerTimeStamp') || ''\n    setBanner({\n      ...banner,\n      show: banner.text !== '' && banner.timestamp !== lastAcknowledgedTimestamp\n    })\n  }\n\n  await getAndSetUser()\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport i18n from 'i18next'\nimport LanguageDetector from 'i18next-browser-languagedetector'\nimport Backend from 'i18next-http-backend'\nimport { Settings } from 'luxon'\nimport { initReactI18next } from 'react-i18next'\n\nexport const setUpI18n = async (): Promise<void> => {\n  await i18n\n    .use(Backend)\n    .use(LanguageDetector)\n    .use(initReactI18next)\n    .init({\n      fallbackLng: 'en',\n      debug: process.env.NODE_ENV !== 'production',\n      backend: {\n        loadPath: '/locales/{{lng}}.json'\n      },\n\n      interpolation: {\n        escapeValue: false\n      }\n    })\n\n  Settings.defaultLocale = i18n.language\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { defaultFetchConfig, expectResponseCode, getApiUrl } from '../utils'\nimport { HistoryEntryDto, HistoryEntryPutDto, HistoryEntryUpdateDto } from './types'\n\nexport const getHistory = async (): Promise<HistoryEntryDto[]> => {\n  const response = await fetch(getApiUrl() + '/history')\n  expectResponseCode(response)\n  return await response.json() as Promise<HistoryEntryDto[]>\n}\n\nexport const postHistory = async (entries: HistoryEntryPutDto[]): Promise<void> => {\n  const response = await fetch(getApiUrl() + '/history', {\n    ...defaultFetchConfig,\n    method: 'POST',\n    body: JSON.stringify(entries)\n  })\n  expectResponseCode(response)\n}\n\nexport const updateHistoryEntryPinStatus = async (noteId: string, entry: HistoryEntryUpdateDto): Promise<void> => {\n  const response = await fetch(getApiUrl() + '/history/' + noteId, {\n    ...defaultFetchConfig,\n    method: 'PUT',\n    body: JSON.stringify(entry)\n  })\n  expectResponseCode(response)\n}\n\nexport const deleteHistoryEntry = async (noteId: string): Promise<void> => {\n  const response = await fetch(getApiUrl() + '/history/' + noteId, {\n    ...defaultFetchConfig,\n    method: 'DELETE'\n  })\n  expectResponseCode(response)\n}\n\nexport const deleteHistory = async (): Promise<void> => {\n  const response = await fetch(getApiUrl() + '/history', {\n    ...defaultFetchConfig,\n    method: 'DELETE'\n  })\n  expectResponseCode(response)\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { HistoryEntry, HistoryEntryOrigin } from '../../redux/history/types'\nimport { HistoryEntryDto, HistoryEntryPutDto, HistoryEntryUpdateDto } from './types'\n\nexport const historyEntryDtoToHistoryEntry = (entryDto: HistoryEntryDto): HistoryEntry => {\n  return {\n    origin: HistoryEntryOrigin.REMOTE,\n    title: entryDto.title,\n    pinStatus: entryDto.pinStatus,\n    identifier: entryDto.identifier,\n    tags: entryDto.tags,\n    lastVisited: entryDto.lastVisited\n  }\n}\n\nexport const historyEntryToHistoryEntryPutDto = (entry: HistoryEntry): HistoryEntryPutDto => {\n  return {\n    pinStatus: entry.pinStatus,\n    lastVisited: entry.lastVisited,\n    note: entry.identifier\n  }\n}\n\nexport const historyEntryToHistoryEntryUpdateDto = (entry: HistoryEntry): HistoryEntryUpdateDto => {\n  return {\n    pinStatus: entry.pinStatus\n  }\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { store } from '../index'\nimport {\n  HistoryActionType,\n  HistoryEntry,\n  HistoryEntryOrigin,\n  HistoryExportJson,\n  RemoveEntryAction,\n  SetEntriesAction,\n  UpdateEntryAction,\n  V1HistoryEntry\n} from './types'\nimport { download } from '../../components/common/download/download'\nimport { DateTime } from 'luxon'\nimport {\n  deleteHistory,\n  deleteHistoryEntry,\n  getHistory,\n  postHistory,\n  updateHistoryEntryPinStatus\n} from '../../api/history'\nimport {\n  historyEntryDtoToHistoryEntry,\n  historyEntryToHistoryEntryPutDto,\n  historyEntryToHistoryEntryUpdateDto\n} from '../../api/history/dto-methods'\n\nexport const setHistoryEntries = (entries: HistoryEntry[]): void => {\n  store.dispatch({\n    type: HistoryActionType.SET_ENTRIES,\n    entries\n  } as SetEntriesAction)\n  storeLocalHistory()\n}\n\nexport const importHistoryEntries = (entries: HistoryEntry[]): Promise<void> => {\n  setHistoryEntries(entries)\n  return storeRemoteHistory()\n}\n\nexport const deleteAllHistoryEntries = (): Promise<void> => {\n  store.dispatch({\n    type: HistoryActionType.SET_ENTRIES,\n    entries: []\n  })\n  storeLocalHistory()\n  return deleteHistory()\n}\n\nexport const updateHistoryEntryRedux = (noteId: string, newEntry: HistoryEntry): void => {\n  store.dispatch({\n    type: HistoryActionType.UPDATE_ENTRY,\n    noteId,\n    newEntry\n  } as UpdateEntryAction)\n}\n\nexport const updateLocalHistoryEntry = (noteId: string, newEntry: HistoryEntry): void => {\n  updateHistoryEntryRedux(noteId, newEntry)\n  storeLocalHistory()\n}\n\nexport const removeHistoryEntry = async (noteId: string): Promise<void> => {\n  const entryToDelete = store.getState().history.find(entry => entry.identifier === noteId)\n  if (entryToDelete && entryToDelete.origin === HistoryEntryOrigin.REMOTE) {\n    await deleteHistoryEntry(noteId)\n  }\n  store.dispatch({\n    type: HistoryActionType.REMOVE_ENTRY,\n    noteId\n  } as RemoveEntryAction)\n  storeLocalHistory()\n}\n\nexport const toggleHistoryEntryPinning = async (noteId: string): Promise<void> => {\n  const state = store.getState().history\n  const entryToUpdate = state.find(entry => entry.identifier === noteId)\n  if (!entryToUpdate) {\n    return Promise.reject(`History entry for note '${ noteId }' not found`)\n  }\n  if (entryToUpdate.pinStatus === undefined) {\n    entryToUpdate.pinStatus = false\n  }\n  entryToUpdate.pinStatus = !entryToUpdate.pinStatus\n  if (entryToUpdate.origin === HistoryEntryOrigin.LOCAL) {\n    updateLocalHistoryEntry(noteId, entryToUpdate)\n  } else {\n    const historyUpdateDto = historyEntryToHistoryEntryUpdateDto(entryToUpdate)\n    updateHistoryEntryRedux(noteId, entryToUpdate)\n    await updateHistoryEntryPinStatus(noteId, historyUpdateDto)\n  }\n}\n\nexport const downloadHistory = (): void => {\n  const history = store.getState().history\n  history.forEach((entry: Partial<HistoryEntry>) => {\n    delete entry.origin\n  })\n  const json = JSON.stringify({\n    version: 2,\n    entries: history\n  } as HistoryExportJson)\n  download(json, `history_${ Date.now() }.json`, 'application/json')\n}\n\nexport const mergeHistoryEntries = (a: HistoryEntry[], b: HistoryEntry[]): HistoryEntry[] => {\n  const noDuplicates = a.filter(entryA => !b.some(entryB => entryA.identifier === entryB.identifier))\n  return noDuplicates.concat(b)\n}\n\nexport const convertV1History = (oldHistory: V1HistoryEntry[]): HistoryEntry[] => {\n  return oldHistory.map(entry => ({\n    identifier: entry.id,\n    title: entry.text,\n    tags: entry.tags,\n    lastVisited: DateTime.fromMillis(entry.time)\n                         .toISO(),\n    pinStatus: entry.pinned,\n    origin: HistoryEntryOrigin.LOCAL\n  }))\n}\n\nexport const refreshHistoryState = async (): Promise<void> => {\n  const localEntries = loadLocalHistory()\n  if (!store.getState().user) {\n    setHistoryEntries(localEntries)\n    return\n  }\n  const remoteEntries = await loadRemoteHistory()\n  const allEntries = mergeHistoryEntries(localEntries, remoteEntries)\n  setHistoryEntries(allEntries)\n}\n\nexport const storeLocalHistory = (): void => {\n  const history = store.getState().history\n  const localEntries = history.filter(entry => entry.origin === HistoryEntryOrigin.LOCAL)\n  const entriesWithoutOrigin = localEntries.map(entry => ({\n    ...entry,\n    origin: undefined\n  }))\n  window.localStorage.setItem('history', JSON.stringify(entriesWithoutOrigin))\n}\n\nexport const storeRemoteHistory = (): Promise<void> => {\n  if (!store.getState().user) {\n    return Promise.resolve()\n  }\n  const history = store.getState().history\n  const remoteEntries = history.filter(entry => entry.origin === HistoryEntryOrigin.REMOTE)\n  const remoteEntryDtos = remoteEntries.map(historyEntryToHistoryEntryPutDto)\n  return postHistory(remoteEntryDtos)\n}\n\nconst loadLocalHistory = (): HistoryEntry[] => {\n  const localV1Json = window.localStorage.getItem('notehistory')\n  if (localV1Json) {\n    try {\n      const localV1History = JSON.parse(JSON.parse(localV1Json)) as V1HistoryEntry[]\n      window.localStorage.removeItem('notehistory')\n      return convertV1History(localV1History)\n    } catch (error) {\n      console.error(`Error converting old history entries: ${ String(error) }`)\n      return []\n    }\n  }\n\n  const localJson = window.localStorage.getItem('history')\n  if (!localJson) {\n    return []\n  }\n\n  try {\n    const localHistory = JSON.parse(localJson) as HistoryEntry[]\n    localHistory.forEach(entry => {\n      entry.origin = HistoryEntryOrigin.LOCAL\n    })\n    return localHistory\n  } catch (error) {\n    console.error(`Error parsing local stored history entries: ${ String(error) }`)\n    return []\n  }\n}\n\nconst loadRemoteHistory = async (): Promise<HistoryEntry[]> => {\n  try {\n    const remoteHistory = await getHistory()\n    return remoteHistory.map(historyEntryDtoToHistoryEntry)\n  } catch (error) {\n    console.error(`Error fetching history entries from server: ${ String(error) }`)\n    return []\n  }\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { loadAllConfig } from './configLoader'\nimport { setUpI18n } from './i18n'\nimport { refreshHistoryState } from '../../../redux/history/methods'\n\nconst customDelay: () => Promise<void> = async () => {\n  if (window.localStorage.getItem('customDelay')) {\n    return new Promise(resolve => setTimeout(resolve, 5000))\n  } else {\n    return Promise.resolve()\n  }\n}\n\nexport interface InitTask {\n  name: string\n  task: Promise<void>\n}\n\nexport const createSetUpTaskList = (baseUrl: string): InitTask[] => {\n  return [{\n    name: 'Load Translations',\n    task: setUpI18n()\n  }, {\n    name: 'Load config',\n    task: loadAllConfig(baseUrl)\n  }, {\n    name: 'Load history state',\n    task: refreshHistoryState()\n  }, {\n    name: 'Add Delay',\n    task: customDelay()\n  }]\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { ReactComponent as LogoColor } from './logo_color.svg'\n\nexport enum HedgeDocLogoSize {\n  SMALL = 32,\n  MEDIUM = 64,\n  BIG = 256\n}\n\nexport interface HedgeDocLogoProps {\n  size?: HedgeDocLogoSize | number\n}\n\nexport const HedgeDocLogo: React.FC<HedgeDocLogoProps> = ({ size = HedgeDocLogoSize.MEDIUM }) => {\n  return <LogoColor className={ 'w-auto' } title={ 'HedgeDoc logo with text' } style={ { height: size } }/>\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { ButtonProps } from 'react-bootstrap'\nimport { IconName } from '../../common/fork-awesome/types'\nimport { IconButton } from '../../common/icon-button/icon-button'\n\nexport enum SortModeEnum {\n  up = 1,\n  down = -1,\n  no = 0\n}\n\nconst getIcon = (direction: SortModeEnum): IconName => {\n  switch (direction) {\n    case SortModeEnum.no:\n      return 'sort'\n    case SortModeEnum.up:\n      return 'sort-asc'\n    case SortModeEnum.down:\n      return 'sort-desc'\n    default:\n      return 'sort'\n  }\n}\n\nexport interface SortButtonProps extends ButtonProps {\n  onDirectionChange: (direction: SortModeEnum) => void\n  direction: SortModeEnum\n}\n\nconst toggleDirection = (direction: SortModeEnum) => {\n  switch (direction) {\n    case SortModeEnum.no:\n      return SortModeEnum.up\n    case SortModeEnum.up:\n      return SortModeEnum.down\n    case SortModeEnum.down:\n    default:\n      return SortModeEnum.no\n  }\n}\n\nexport const SortButton: React.FC<SortButtonProps> = ({ children, variant, onDirectionChange, direction }) => {\n  const toggleSort = () => {\n    onDirectionChange(toggleDirection(direction))\n  }\n\n  return <IconButton onClick={ toggleSort } variant={ variant } icon={ getIcon(direction) }\n                     border={ true }>{ children }</IconButton>\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { Alert } from 'react-bootstrap'\nimport { HedgeDocLogo, HedgeDocLogoSize } from '../common/hedge-doc-logo/hedge-doc-logo'\nimport { ShowIf } from '../common/show-if/show-if'\n\nexport interface LoadingScreenProps {\n  failedTitle?: string\n}\n\nexport const LoadingScreen: React.FC<LoadingScreenProps> = ({ failedTitle }) => {\n  return (\n    <div className=\"loader middle text-light overflow-hidden\">\n      <div className=\"mb-3 text-light\">\n        <span className={ `d-block ${ failedTitle ? 'animation-shake' : 'animation-jump' }` }>\n          <HedgeDocLogo size={ HedgeDocLogoSize.BIG }/>\n        </span>\n      </div>\n      <ShowIf condition={ !!failedTitle }>\n        <Alert variant={ 'danger' }>\n          The task '{ failedTitle }' failed.<br/>\n          For further information look into the browser console.\n        </Alert>\n      </ShowIf>\n    </div>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { Suspense, useCallback, useEffect, useState } from 'react'\nimport { useFrontendBaseUrl } from '../../hooks/common/use-frontend-base-url'\nimport './application-loader.scss'\nimport { createSetUpTaskList, InitTask } from './initializers'\nimport { LoadingScreen } from './loading-screen'\n\nexport const ApplicationLoader: React.FC = ({ children }) => {\n  const frontendUrl = useFrontendBaseUrl()\n\n  const setUpTasks = useCallback(() => {\n    return createSetUpTaskList(frontendUrl)\n  }, [frontendUrl])\n\n  const [failedTitle, setFailedTitle] = useState<string>('')\n  const [doneTasks, setDoneTasks] = useState<number>(0)\n  const [initTasks] = useState<InitTask[]>(setUpTasks)\n\n  const runTask = useCallback(async (task: Promise<void>): Promise<void> => {\n    await task\n    setDoneTasks(prevDoneTasks => {\n      return prevDoneTasks + 1\n    })\n  }, [])\n\n  useEffect(() => {\n    for (const task of initTasks) {\n      runTask(task.task)\n        .catch((reason: Error) => {\n          console.error(reason)\n          setFailedTitle(task.name)\n        })\n    }\n  }, [initTasks, runTask])\n\n  const tasksAreRunning = doneTasks < initTasks.length || initTasks.length === 0\n\n  if (tasksAreRunning) {\n    return <LoadingScreen failedTitle={ failedTitle }/>\n  } else {\n    return <Suspense fallback={ (<LoadingScreen/>) }>\n      { children }\n    </Suspense>\n  }\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { Settings } from 'luxon'\nimport React, { useCallback, useMemo } from 'react'\nimport { Form } from 'react-bootstrap'\nimport { useTranslation } from 'react-i18next'\n\nconst languages = {\n  en: 'English',\n  'zh-CN': '简体中文',\n  'zh-TW': '繁體中文',\n  fr: 'Français',\n  de: 'Deutsch',\n  ja: '日本語',\n  es: 'Español',\n  ca: 'Català',\n  el: 'Ελληνικά',\n  pt: 'Português',\n  it: 'Italiano',\n  tr: 'Türkçe',\n  ru: 'Русский',\n  nl: 'Nederlands',\n  hr: 'Hrvatski',\n  pl: 'Polski',\n  uk: 'Українська',\n  hi: 'हिन्दी',\n  sv: 'Svenska',\n  eo: 'Esperanto',\n  da: 'Dansk',\n  ko: '한국어',\n  id: 'Bahasa Indonesia',\n  sr: 'Cрпски',\n  vi: 'Tiếng Việt',\n  ar: 'العربية',\n  cs: 'Česky',\n  sk: 'Slovensky'\n}\n\n/**\n * This function checks if the wanted language code is supported by our translations.\n * The language code that is provided by the browser can (but don't need to) contain the region.\n * Some of our translations are region dependent (e.g. chinese-traditional and chinese-simplified).\n * Therefore we first need to check if the complete wanted language code is supported by our translations.\n * If not, then we look if we at least have a region independent translation.\n *\n * @param wantedLanguage an ISO 639-1 standard language code\n */\nconst findLanguageCode = (wantedLanguage: string): string => (\n  (\n    Object.keys(languages)\n          .find((supportedLanguage) => wantedLanguage === supportedLanguage)\n  ) ?? (\n    Object.keys(languages)\n          .find((supportedLanguage) => wantedLanguage.substr(0, 2) === supportedLanguage)\n  ) ?? ''\n)\n\nexport const LanguagePicker: React.FC = () => {\n  const { i18n } = useTranslation()\n\n  const onChangeLang = useCallback((event: React.ChangeEvent<HTMLSelectElement>) => {\n    const language = event.currentTarget.value\n    Settings.defaultLocale = language\n    i18n.changeLanguage(language)\n        .catch(error => console.error('Error while switching language', error))\n  }, [i18n])\n\n  const languageCode = useMemo(() => findLanguageCode(i18n.language), [i18n.language])\n\n  const languageOptions = useMemo(() =>\n    Object.entries(languages)\n          .map(([language, languageName]) =>\n            <option key={ language } value={ language }>{ languageName }</option>), [])\n\n  return (\n    <Form.Control\n      as=\"select\"\n      size=\"sm\"\n      className=\"mb-2 mx-auto w-auto\"\n      value={ languageCode }\n      onChange={ onChangeLang }>\n      {\n        languageOptions\n      }\n    </Form.Control>\n  )\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport Col from 'react-bootstrap/esm/Col'\nimport { CopyableField } from '../../../common/copyable/copyable-field/copyable-field'\nimport { TranslatedExternalLink } from '../../../common/links/translated-external-link'\nimport { ShowIf } from '../../../common/show-if/show-if'\nimport { Trans, useTranslation } from 'react-i18next'\n\nexport interface VersionInfoModalColumnProps {\n  titleI18nKey: string,\n  version: string,\n  sourceCodeLink: string,\n  issueTrackerLink: string\n}\n\nexport const VersionInfoModalColumn: React.FC<VersionInfoModalColumnProps> = ({ titleI18nKey, issueTrackerLink, sourceCodeLink, version }) => {\n  useTranslation()\n\n  return (\n    <Col md={ 6 } className={ 'flex-column' }>\n      <h5><Trans i18nKey={ titleI18nKey }/></h5>\n      <CopyableField content={ version }/>\n      <ShowIf condition={ !!sourceCodeLink }>\n        <TranslatedExternalLink\n          i18nKey={ 'landing.versionInfo.sourceCode' }\n          className={ 'btn btn-sm btn-primary d-block mb-2' }\n          href={ sourceCodeLink }/>\n      </ShowIf>\n      <ShowIf condition={ !!issueTrackerLink }>\n        <TranslatedExternalLink\n          i18nKey={ 'landing.versionInfo.issueTracker' }\n          className={ 'btn btn-sm btn-primary d-block mb-2' }\n          href={ issueTrackerLink }/>\n      </ShowIf>\n    </Col>\n  )\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { CommonModal, CommonModalProps } from '../../../common/modals/common-modal'\nimport { Modal, Row } from 'react-bootstrap'\nimport { VersionInfoModalColumn } from './version-info-modal-column'\nimport frontendVersion from '../../../../version.json'\nimport { useSelector } from 'react-redux'\nimport { ApplicationState } from '../../../../redux'\nimport equal from 'fast-deep-equal'\n\nexport const VersionInfoModal: React.FC<CommonModalProps> = ({ onHide, show }) => {\n  const serverVersion = useSelector((state: ApplicationState) => state.config.version, equal)\n\n  return (\n    <CommonModal data-cy={ 'version-modal' } show={ show } onHide={ onHide } closeButton={ true }\n                 titleI18nKey={ 'landing.versionInfo.title' }>\n      <Modal.Body>\n        <Row>\n          <VersionInfoModalColumn\n            titleI18nKey={ 'landing.versionInfo.serverVersion' }\n            version={ serverVersion.version }\n            issueTrackerLink={ serverVersion.issueTrackerUrl }\n            sourceCodeLink={ serverVersion.sourceCodeUrl }/>\n          <VersionInfoModalColumn\n            titleI18nKey={ 'landing.versionInfo.clientVersion' }\n            version={ frontendVersion.version }\n            issueTrackerLink={ frontendVersion.issueTrackerUrl }\n            sourceCodeLink={ frontendVersion.sourceCodeUrl }/>\n        </Row>\n      </Modal.Body>\n    </CommonModal>\n  )\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { Fragment, useCallback, useState } from 'react'\nimport { Trans } from 'react-i18next'\nimport { Link } from 'react-router-dom'\nimport { VersionInfoModal } from './version-info-modal'\n\nexport const VersionInfoLink: React.FC = () => {\n  const [show, setShow] = useState(false)\n  const closeModal = useCallback(() => setShow(false), [])\n  const showModal = useCallback(() => setShow(true), [])\n\n  return (\n    <Fragment>\n      <Link data-cy={ 'show-version-modal' } to={ '#' } className={ 'text-light' } onClick={ showModal }>\n        <Trans i18nKey={ 'landing.versionInfo.versionInfo' }/>\n      </Link>\n      <VersionInfoModal onHide={ closeModal } show={ show }/>\n    </Fragment>\n  )\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { Fragment } from 'react'\nimport { Trans, useTranslation } from 'react-i18next'\nimport { useSelector } from 'react-redux'\nimport links from '../../../links.json'\nimport { ApplicationState } from '../../../redux'\nimport { ExternalLink } from '../../common/links/external-link'\nimport { TranslatedExternalLink } from '../../common/links/translated-external-link'\nimport { TranslatedInternalLink } from '../../common/links/translated-internal-link'\nimport { VersionInfoLink } from './version-info/version-info-link'\nimport equal from 'fast-deep-equal'\n\nexport const PoweredByLinks: React.FC = () => {\n  useTranslation()\n\n  const specialLinks = useSelector((state: ApplicationState) => Object.entries(state.config.specialLinks) as [string, string][], equal)\n\n  return (\n    <p>\n      <Trans i18nKey=\"landing.footer.poweredBy\">\n        <ExternalLink href={ links.webpage } text=\"HedgeDoc\"/>\n      </Trans>\n      &nbsp;|&nbsp;\n      <TranslatedInternalLink href='/n/release-notes' i18nKey='landing.footer.releases'/>\n      {\n        specialLinks.map(([i18nKey, href]) =>\n          <Fragment key={ i18nKey }>\n            &nbsp;|&nbsp;\n            <TranslatedExternalLink href={ href } i18nKey={ 'landing.footer.' + i18nKey }/>\n          </Fragment>\n        )\n      }\n      &nbsp;|&nbsp;\n      <VersionInfoLink/>\n    </p>\n  )\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { Trans, useTranslation } from 'react-i18next'\nimport links from '../../../links.json'\nimport { ExternalLink } from '../../common/links/external-link'\n\nexport const SocialLink: React.FC = () => {\n  useTranslation()\n  return (\n    <p>\n      <Trans i18nKey=\"landing.footer.followUs\" components={ [\n        <ExternalLink href={ links.githubOrg } icon='github' text=\"GitHub\"/>,\n        <ExternalLink href={ links.community } icon='users' text=\"Discourse\"/>,\n        <ExternalLink href={ links.chat } icon=\"comment\" text=\"Matrix\"/>,\n        <ExternalLink href={ links.mastodon } icon='mastodon' text=\"Mastodon\"/>,\n        <ExternalLink href={ links.translate } icon=\"globe\" text=\"POEditor\"/>\n      ] }/>\n    </p>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { LanguagePicker } from './language-picker'\nimport { PoweredByLinks } from './powered-by-links'\nimport { SocialLink } from './social-links'\n\nexport const Footer: React.FC = () => {\n  return (\n    <footer className=\"text-light-50 small\">\n      <LanguagePicker/>\n      <PoweredByLinks/>\n      <SocialLink/>\n    </footer>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { Nav } from 'react-bootstrap'\nimport { LinkContainer } from 'react-router-bootstrap'\n\nexport interface HeaderNavLinkProps {\n  to: string\n  id: string\n}\n\nexport const HeaderNavLink: React.FC<HeaderNavLinkProps> = ({ to, id, children }) => {\n  return (\n    <Nav.Item>\n      <LinkContainer to={ to }>\n        <Nav.Link id={ id } className=\"text-light\" href={ to }>{ children }</Nav.Link>\n      </LinkContainer>\n    </Nav.Item>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { Button } from 'react-bootstrap'\nimport { Trans, useTranslation } from 'react-i18next'\nimport { LinkContainer } from 'react-router-bootstrap'\nimport { ForkAwesomeIcon } from '../../common/fork-awesome/fork-awesome-icon'\n\nexport const NewGuestNoteButton: React.FC = () => {\n  const { t } = useTranslation()\n  return (\n    <LinkContainer to={ '/new' } title={ t('landing.navigation.newGuestNote') }>\n      <Button\n        variant=\"primary\"\n        size=\"sm\"\n        className=\"d-inline-flex align-items-center\">\n        <ForkAwesomeIcon icon=\"plus\" className=\"mx-1\"/>\n        <span>\n          <Trans i18nKey='landing.navigation.newGuestNote'/>\n        </span>\n      </Button>\n    </LinkContainer>)\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { Button } from 'react-bootstrap'\nimport { Trans, useTranslation } from 'react-i18next'\nimport { LinkContainer } from 'react-router-bootstrap'\nimport { ForkAwesomeIcon } from '../../common/fork-awesome/fork-awesome-icon'\n\nexport const NewUserNoteButton: React.FC = () => {\n  const { t } = useTranslation()\n  return (\n    <LinkContainer to={ '/new' } title={ t('landing.navigation.newNote') }>\n      <Button\n        variant=\"primary\"\n        size=\"sm\"\n        className=\"d-inline-flex align-items-center\">\n        <ForkAwesomeIcon icon=\"plus\" className=\"mx-1\"/>\n        <span>\n          <Trans i18nKey='landing.navigation.newNote'/>\n        </span>\n      </Button>\n    </LinkContainer>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { Fragment } from 'react'\nimport { Navbar } from 'react-bootstrap'\nimport { Trans, useTranslation } from 'react-i18next'\nimport { useSelector } from 'react-redux'\nimport { ApplicationState } from '../../../../redux'\nimport { HeaderNavLink } from '../header-nav-link'\nimport { NewGuestNoteButton } from '../new-guest-note-button'\nimport { NewUserNoteButton } from '../new-user-note-button'\nimport { SignInButton } from '../sign-in-button'\nimport { UserDropdown } from '../user-dropdown'\nimport './header-bar.scss'\n\nconst HeaderBar: React.FC = () => {\n  useTranslation()\n  const userExists = useSelector((state: ApplicationState) => !!state.user)\n\n  return (\n    <Navbar className=\"justify-content-between\">\n      <div className=\"nav header-nav\">\n        <HeaderNavLink to=\"/intro\" id='navLinkIntro'>\n          <Trans i18nKey=\"landing.navigation.intro\"/>\n        </HeaderNavLink>\n        <HeaderNavLink to=\"/history\" id='navLinkHistory'>\n          <Trans i18nKey=\"landing.navigation.history\"/>\n        </HeaderNavLink>\n      </div>\n      <div className=\"d-inline-flex\">\n        { !userExists\n          ? <Fragment>\n              <span className={ 'mx-1 d-flex' }>\n                <NewGuestNoteButton/>\n              </span>\n            <SignInButton size=\"sm\"/>\n          </Fragment>\n          : <Fragment>\n              <span className={ 'mx-1 d-flex' }>\n                <NewUserNoteButton/>\n              </span>\n            <UserDropdown/>\n          </Fragment>\n        }\n      </div>\n    </Navbar>\n  )\n}\n\nexport { HeaderBar }\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { Fragment } from 'react'\nimport { Container } from 'react-bootstrap'\nimport { useDocumentTitle } from '../../hooks/common/use-document-title'\nimport { MotdBanner } from '../common/motd-banner/motd-banner'\nimport { Footer } from './footer/footer'\nimport { HeaderBar } from './navigation/header-bar/header-bar'\nimport { UiNotifications } from '../notifications/ui-notifications'\n\nexport const LandingLayout: React.FC = ({ children }) => {\n  useDocumentTitle()\n\n  return (\n    <Fragment>\n      <UiNotifications/>\n      <Container className=\"text-light d-flex flex-column mvh-100\">\n        <MotdBanner/>\n        <HeaderBar/>\n        <div className={ 'd-flex flex-column justify-content-between flex-fill text-center' }>\n          <main>\n            { children }\n          </main>\n          <Footer/>\n        </div>\n      </Container>\n    </Fragment>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { LandingLayout } from '../../landing-layout/landing-layout'\n\nexport const NotFoundErrorScreen: React.FC = () => {\n  return (\n    <LandingLayout>\n      <div className='text-light d-flex align-items-center justify-content-center my-5'>\n        <h1>404 Not Found <small>oops.</small></h1>\n      </div>\n    </LandingLayout>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { useEffect, useState } from 'react'\nimport { Redirect } from 'react-router'\nimport { useParams } from 'react-router-dom'\nimport { getNote } from '../../../api/notes'\nimport { NotFoundErrorScreen } from './not-found-error-screen'\n\ninterface RouteParameters {\n  id: string\n}\n\nexport const Redirector: React.FC = () => {\n  const { id } = useParams<RouteParameters>()\n  const [error, setError] = useState<boolean | null>(null)\n\n  useEffect(() => {\n    getNote(id)\n      .then((noteFromAPI) => setError(!noteFromAPI.preVersionTwoNote))\n      .catch(() => setError(true))\n  }, [id])\n\n  if (error) {\n    return (<NotFoundErrorScreen/>)\n  } else if (!error && error != null) {\n    return (<Redirect to={ `/n/${ id }` }/>)\n  } else {\n    return (<span>Loading</span>)\n  }\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { Component, ErrorInfo, ReactElement, ReactNodeArray } from 'react'\nimport { Button, Container } from 'react-bootstrap'\nimport links from '../../links.json'\nimport frontendVersion from '../../version.json'\nimport { ForkAwesomeIcon } from '../common/fork-awesome/fork-awesome-icon'\nimport { ExternalLink } from '../common/links/external-link'\n\nexport class ErrorBoundary extends Component {\n  state: {\n    hasError: boolean\n  }\n\n  constructor(props: Readonly<unknown>) {\n    super(props)\n    this.state = { hasError: false }\n  }\n\n  static getDerivedStateFromError(_error: Error): { hasError: boolean } {\n    // Update state so the next render will show the fallback UI.\n    return { hasError: true }\n  }\n\n  componentDidCatch(error: Error, errorInfo: ErrorInfo): void {\n    console.error('error caught', error)\n    console.error('additional information', errorInfo)\n  }\n\n  refreshPage(): void {\n    window.location.reload()\n  }\n\n  render(): ReactElement | undefined | null | string | number | boolean | Record<string, unknown> | ReactNodeArray {\n    if (this.state.hasError) {\n      return (\n        <Container className=\"text-light d-flex flex-column mvh-100\">\n          <div className='text-light d-flex flex-column align-items-center justify-content-center my-5'>\n            <h1>An unknown error occurred</h1>\n            <p>Don't worry, this happens sometimes. If this is the first time you see this page then try reloading the\n              app.</p>\n            If you can reproduce this error, then we would be glad if you&#32;\n            <ExternalLink text={ 'open an issue on github' } href={ frontendVersion.issueTrackerUrl }\n                          className={ 'text-primary' }/>&#32;\n            or <ExternalLink text={ 'contact us on matrix.' } href={ links.chat } className={ 'text-primary' }/>\n            <Button onClick={ () => this.refreshPage() } title={ 'Reload App' } className={ 'mt-4' }>\n              <ForkAwesomeIcon icon={ 'refresh' }/>&nbsp;Reload App\n            </Button>\n          </div>\n        </Container>\n      )\n    }\n    return this.props.children\n  }\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\n\nexport interface PageItemProps {\n  onClick: (index: number) => void\n  index: number\n}\n\nexport const PagerItem: React.FC<PageItemProps> = ({ index, onClick }) => {\n  return (\n    <li className=\"page-item\">\n      <span className=\"page-link\" role=\"button\" onClick={ () => onClick(index) }>\n        { index + 1 }\n      </span>\n    </li>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { useEffect, useState } from 'react'\nimport { Pagination } from 'react-bootstrap'\nimport { ShowIf } from '../show-if/show-if'\nimport { PagerItem } from './pager-item'\n\nexport interface PaginationProps {\n  numberOfPageButtonsToShowAfterAndBeforeCurrent: number\n  onPageChange: (pageIndex: number) => void\n  lastPageIndex: number\n}\n\nexport const PagerPagination: React.FC<PaginationProps> = ({ numberOfPageButtonsToShowAfterAndBeforeCurrent, onPageChange, lastPageIndex }) => {\n  if (numberOfPageButtonsToShowAfterAndBeforeCurrent % 2 !== 0) {\n    throw new Error('number of pages to show must be even!')\n  }\n\n  const [pageIndex, setPageIndex] = useState(0)\n  const correctedPageIndex = Math.min(pageIndex, lastPageIndex)\n  const wantedUpperPageIndex = correctedPageIndex + numberOfPageButtonsToShowAfterAndBeforeCurrent\n  const wantedLowerPageIndex = correctedPageIndex - numberOfPageButtonsToShowAfterAndBeforeCurrent\n\n  useEffect(() => {\n    onPageChange(pageIndex)\n  }, [onPageChange, pageIndex])\n\n  const correctedLowerPageIndex =\n    Math.min(\n      Math.max(\n        Math.min(\n          wantedLowerPageIndex,\n          wantedLowerPageIndex + lastPageIndex - wantedUpperPageIndex\n        ),\n        0\n      ),\n      lastPageIndex\n    )\n\n  const correctedUpperPageIndex =\n    Math.max(\n      Math.min(\n        Math.max(\n          wantedUpperPageIndex,\n          wantedUpperPageIndex - wantedLowerPageIndex\n        ),\n        lastPageIndex\n      ),\n      0\n    )\n\n  const paginationItemsBefore = Array.from(new Array(correctedPageIndex - correctedLowerPageIndex))\n                                     .map((k, index) => {\n                                       const itemIndex = correctedLowerPageIndex + index\n                                       return <PagerItem key={ itemIndex } index={ itemIndex }\n                                                         onClick={ setPageIndex }/>\n                                     })\n\n  const paginationItemsAfter = Array.from(new Array(correctedUpperPageIndex - correctedPageIndex))\n                                    .map((k, index) => {\n                                      const itemIndex = correctedPageIndex + index + 1\n                                      return <PagerItem key={ itemIndex } index={ itemIndex } onClick={ setPageIndex }/>\n                                    })\n\n  return (\n    <Pagination dir='ltr'>\n      <ShowIf condition={ correctedLowerPageIndex > 0 }>\n        <PagerItem key={ 0 } index={ 0 } onClick={ setPageIndex }/>\n        <Pagination.Ellipsis disabled/>\n      </ShowIf>\n      { paginationItemsBefore }\n      <Pagination.Item active>{ correctedPageIndex + 1 }</Pagination.Item>\n      { paginationItemsAfter }\n      <ShowIf condition={ correctedUpperPageIndex < lastPageIndex }>\n        <Pagination.Ellipsis disabled/>\n        <PagerItem key={ lastPageIndex } index={ lastPageIndex } onClick={ setPageIndex }/>\n      </ShowIf>\n    </Pagination>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { Fragment, useEffect } from 'react'\n\nexport interface PagerPageProps {\n  pageIndex: number\n  numberOfElementsPerPage: number\n  onLastPageIndexChange: (lastPageIndex: number) => void\n}\n\nexport const Pager: React.FC<PagerPageProps> = ({ children, numberOfElementsPerPage, pageIndex, onLastPageIndexChange }) => {\n  const maxPageIndex = Math.ceil(React.Children.count(children) / numberOfElementsPerPage) - 1\n  const correctedPageIndex = Math.min(maxPageIndex, Math.max(0, pageIndex))\n\n  useEffect(() => {\n    onLastPageIndexChange(maxPageIndex)\n  }, [children, maxPageIndex, numberOfElementsPerPage, onLastPageIndexChange])\n\n  return <Fragment>\n    {\n      React.Children.toArray(children)\n           .filter((value, index) => {\n             const pageOfElement = Math.floor((index) / numberOfElementsPerPage)\n             return (pageOfElement === correctedPageIndex)\n           })\n    }\n  </Fragment>\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { Fragment, useState } from 'react'\nimport { Dropdown } from 'react-bootstrap'\nimport { Trans, useTranslation } from 'react-i18next'\nimport { ForkAwesomeIcon } from '../../common/fork-awesome/fork-awesome-icon'\nimport { IconName } from '../../common/fork-awesome/types'\nimport { DeletionModal } from '../../common/modals/deletion-modal'\n\nexport interface DropdownItemWithDeletionModalProps {\n  onConfirm: () => void\n  itemI18nKey: string\n  modalButtonI18nKey: string\n  modalIcon: IconName\n  modalTitleI18nKey: string\n  modalQuestionI18nKey: string\n  modalWarningI18nKey: string\n  noteTitle: string\n  className?: string\n}\n\nexport const DropdownItemWithDeletionModal: React.FC<DropdownItemWithDeletionModalProps> = ({\n  onConfirm, noteTitle,\n  modalTitleI18nKey, modalButtonI18nKey, itemI18nKey, modalIcon,\n  modalQuestionI18nKey, modalWarningI18nKey, className\n}) => {\n  useTranslation()\n  const [showDialog, setShowDialog] = useState(false)\n\n  return (\n    <Fragment>\n      <Dropdown.Item onClick={ () => setShowDialog(true) } className={ className }>\n        <ForkAwesomeIcon icon={ modalIcon } fixedWidth={ true } className=\"mx-2\"/>\n        <Trans i18nKey={ itemI18nKey }/>\n      </Dropdown.Item>\n      <DeletionModal\n        onConfirm={ () => {\n          setShowDialog(false)\n          onConfirm()\n        } }\n        deletionButtonI18nKey={ modalButtonI18nKey }\n        show={ showDialog }\n        onHide={ () => setShowDialog(false) }\n        titleI18nKey={ modalTitleI18nKey }>\n        <h5><Trans i18nKey={ modalQuestionI18nKey }/></h5>\n        <ul>\n          <li>{ noteTitle }</li>\n        </ul>\n        <h6><Trans i18nKey={ modalWarningI18nKey }/></h6>\n      </DeletionModal>\n    </Fragment>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { DropdownItemWithDeletionModal } from './dropdown-item-with-deletion-modal'\n\nexport interface DeleteNoteItemProps {\n  onConfirm: () => void\n  noteTitle: string\n}\n\nexport const DeleteNoteItem: React.FC<DeleteNoteItemProps> = ({ noteTitle, onConfirm }) => {\n  return (\n    <DropdownItemWithDeletionModal\n      onConfirm={ onConfirm }\n      itemI18nKey={ 'landing.history.menu.deleteNote' }\n      modalButtonI18nKey={ 'editor.modal.deleteNote.button' }\n      modalIcon={ 'trash' }\n      modalTitleI18nKey={ 'editor.modal.deleteNote.title' }\n      modalQuestionI18nKey={ 'editor.modal.deleteNote.question' }\n      modalWarningI18nKey={ 'editor.modal.deleteNote.warning' }\n      noteTitle={ noteTitle }/>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { DropdownItemWithDeletionModal } from './dropdown-item-with-deletion-modal'\n\nexport interface RemoveNoteEntryItemProps {\n  onConfirm: () => void\n  noteTitle: string\n}\n\nexport const RemoveNoteEntryItem: React.FC<RemoveNoteEntryItemProps> = ({ noteTitle, onConfirm }) => {\n  return (\n    <DropdownItemWithDeletionModal\n      onConfirm={ onConfirm }\n      itemI18nKey={ 'landing.history.menu.removeEntry' }\n      modalButtonI18nKey={ 'landing.history.modal.removeNote.button' }\n      modalIcon={ 'archive' }\n      modalTitleI18nKey={ 'landing.history.modal.removeNote.title' }\n      modalQuestionI18nKey={ 'landing.history.modal.removeNote.question' }\n      modalWarningI18nKey={ 'landing.history.modal.removeNote.warning' }\n      noteTitle={ noteTitle }/>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { Dropdown } from 'react-bootstrap'\nimport { Trans, useTranslation } from 'react-i18next'\nimport { ForkAwesomeIcon } from '../../common/fork-awesome/fork-awesome-icon'\nimport { ShowIf } from '../../common/show-if/show-if'\nimport { DeleteNoteItem } from './delete-note-item'\nimport './entry-menu.scss'\nimport { RemoveNoteEntryItem } from './remove-note-entry-item'\nimport { HistoryEntryOrigin } from '../../../redux/history/types'\nimport { useSelector } from 'react-redux'\nimport { ApplicationState } from '../../../redux'\n\nexport interface EntryMenuProps {\n  id: string;\n  title: string\n  origin: HistoryEntryOrigin\n  isDark: boolean;\n  onRemove: () => void\n  onDelete: () => void\n  className?: string\n}\n\nexport const EntryMenu: React.FC<EntryMenuProps> = ({ id, title, origin, isDark, onRemove, onDelete, className }) => {\n  useTranslation()\n\n  const userExists = useSelector((state: ApplicationState) => !!state.user)\n\n  return (\n    <Dropdown className={ `d-inline-flex ${ className || '' }` }>\n      <Dropdown.Toggle variant={ isDark ? 'secondary' : 'light' } id={ `dropdown-card-${ id }` }\n                       className='no-arrow history-menu d-inline-flex align-items-center'>\n        <ForkAwesomeIcon icon=\"ellipsis-v\" fixedWidth={ true }/>\n      </Dropdown.Toggle>\n\n      <Dropdown.Menu>\n\n        <Dropdown.Header>\n          <Trans i18nKey=\"landing.history.menu.recentNotes\"/>\n        </Dropdown.Header>\n\n        <ShowIf condition={ origin === HistoryEntryOrigin.LOCAL }>\n          <Dropdown.Item disabled>\n            <ForkAwesomeIcon icon=\"laptop\" fixedWidth={ true } className=\"mx-2\"/>\n            <Trans i18nKey=\"landing.history.menu.entryLocal\"/>\n          </Dropdown.Item>\n        </ShowIf>\n        <ShowIf condition={ origin === HistoryEntryOrigin.REMOTE }>\n          <Dropdown.Item disabled>\n            <ForkAwesomeIcon icon=\"cloud\" fixedWidth={ true } className=\"mx-2\"/>\n            <Trans i18nKey=\"landing.history.menu.entryRemote\"/>\n          </Dropdown.Item>\n        </ShowIf>\n        <RemoveNoteEntryItem onConfirm={ onRemove } noteTitle={ title }/>\n\n        <ShowIf condition={ userExists }>\n          <Dropdown.Divider/>\n          <DeleteNoteItem onConfirm={ onDelete } noteTitle={ title }/>\n        </ShowIf>\n      </Dropdown.Menu>\n    </Dropdown>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { Button } from 'react-bootstrap'\nimport { ForkAwesomeIcon } from '../../common/fork-awesome/fork-awesome-icon'\nimport './pin-button.scss'\n\nexport interface PinButtonProps {\n  isPinned: boolean;\n  onPinClick: () => void;\n  isDark: boolean;\n  className?: string\n}\n\nexport const PinButton: React.FC<PinButtonProps> = ({ isPinned, onPinClick, isDark, className }) => {\n  return (\n    <Button variant={ isDark ? 'secondary' : 'light' }\n            className={ `history-pin ${ className || '' } ${ isPinned ? 'pinned' : '' }` } onClick={ onPinClick }>\n      <ForkAwesomeIcon icon=\"thumb-tack\"/>\n    </Button>\n  )\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { Button, ButtonProps } from 'react-bootstrap'\nimport { ForkAwesomeIcon } from '../fork-awesome/fork-awesome-icon'\nimport { IconName } from '../fork-awesome/types'\nimport { ShowIf } from '../show-if/show-if'\nimport './icon-button.scss'\n\nexport interface IconButtonProps extends ButtonProps {\n  icon: IconName\n  onClick?: () => void\n  border?: boolean\n  iconFixedWidth?: boolean\n}\n\nexport const IconButton: React.FC<IconButtonProps> = ({ icon, children, iconFixedWidth = false, border = false, className, ...props }) => {\n  return (\n    <Button { ...props }\n            className={ `btn-icon p-0 d-inline-flex align-items-stretch ${ border ? 'with-border' : '' } ${ className ?? '' }` }>\n      <span className=\"icon-part d-flex align-items-center\">\n        <ForkAwesomeIcon icon={ icon } fixedWidth={ iconFixedWidth } className={ 'icon' }/>\n      </span>\n      <ShowIf condition={ !!children }>\n        <span className=\"text-part d-flex align-items-center\">\n          { children }\n        </span>\n      </ShowIf>\n    </Button>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport equal from 'fast-deep-equal'\nimport React, { ChangeEvent, useCallback, useEffect, useMemo, useRef, useState } from 'react'\nimport { Button, Form, FormControl, InputGroup, ToggleButton, ToggleButtonGroup } from 'react-bootstrap'\nimport { Typeahead } from 'react-bootstrap-typeahead'\nimport { Trans, useTranslation } from 'react-i18next'\nimport { useSelector } from 'react-redux'\nimport { useQueryState } from 'react-router-use-location-state'\nimport { ApplicationState } from '../../../redux'\nimport { ForkAwesomeIcon } from '../../common/fork-awesome/fork-awesome-icon'\nimport { ShowIf } from '../../common/show-if/show-if'\nimport { SortButton, SortModeEnum } from '../sort-button/sort-button'\nimport { ClearHistoryButton } from './clear-history-button'\nimport { ExportHistoryButton } from './export-history-button'\nimport { ImportHistoryButton } from './import-history-button'\nimport './typeahead-hacks.scss'\nimport { HistoryEntryOrigin } from '../../../redux/history/types'\nimport { importHistoryEntries, refreshHistoryState, setHistoryEntries } from '../../../redux/history/methods'\nimport { showErrorNotification } from '../../../redux/ui-notifications/methods'\n\nexport type HistoryToolbarChange = (newState: HistoryToolbarState) => void;\n\ninterface ToolbarSortState {\n  titleSortDirection: SortModeEnum\n  lastVisitedSortDirection: SortModeEnum\n}\n\ninterface ToolbarFilterState {\n  viewState: ViewStateEnum\n  keywordSearch: string\n  selectedTags: string[]\n}\n\nexport type HistoryToolbarState = ToolbarSortState & ToolbarFilterState\n\nexport enum ViewStateEnum {\n  CARD,\n  TABLE\n}\n\nexport interface HistoryToolbarProps {\n  onSettingsChange: HistoryToolbarChange\n}\n\nconst initSortState: ToolbarSortState = {\n  titleSortDirection: SortModeEnum.no,\n  lastVisitedSortDirection: SortModeEnum.down\n}\n\nexport const initToolbarState: HistoryToolbarState = {\n  ...initSortState,\n  viewState: ViewStateEnum.CARD,\n  keywordSearch: '',\n  selectedTags: []\n}\n\nexport const HistoryToolbar: React.FC<HistoryToolbarProps> = ({ onSettingsChange }) => {\n  const { t } = useTranslation()\n  const historyEntries = useSelector((state: ApplicationState) => state.history)\n  const userExists = useSelector((state: ApplicationState) => !!state.user)\n\n  const tags = useMemo<string[]>(() => {\n    const allTags = historyEntries.map(entry => entry.tags)\n                                  .flat()\n    return [...new Set(allTags)]\n  }, [historyEntries])\n\n  const previousState = useRef(initToolbarState)\n  const [searchState, setSearchState] = useQueryState('search', initToolbarState.keywordSearch)\n  const [tagsState, setTagsState] = useQueryState('tags', initToolbarState.selectedTags)\n  const [viewState, setViewState] = useState(initToolbarState.viewState)\n  const [sortState, setSortState] = useState<ToolbarSortState>(initSortState)\n\n  const titleSortChanged = useCallback((direction: SortModeEnum) => {\n    setSortState({\n      lastVisitedSortDirection: SortModeEnum.no,\n      titleSortDirection: direction\n    })\n  }, [setSortState])\n\n  const lastVisitedSortChanged = useCallback((direction: SortModeEnum) => {\n    setSortState({\n      lastVisitedSortDirection: direction,\n      titleSortDirection: SortModeEnum.no\n    })\n  }, [setSortState])\n\n  const keywordSearchChanged = useCallback((event: ChangeEvent<HTMLInputElement>) => {\n    setSearchState(event.currentTarget.value ?? '')\n  }, [setSearchState])\n\n  const toggleViewChanged = useCallback((newViewState: ViewStateEnum) => {\n    setViewState(newViewState)\n  }, [setViewState])\n\n  const selectedTagsChanged = useCallback((selected: string[]) => {\n    setTagsState(selected)\n  }, [setTagsState])\n\n  const refreshHistory = useCallback(() => {\n    refreshHistoryState()\n      .catch(\n        showErrorNotification(t('landing.history.error.getHistory.text'))\n      )\n  }, [t])\n\n  const onUploadAllToRemote = useCallback(() => {\n    if (!userExists) {\n      return\n    }\n    const localEntries = historyEntries.filter(entry => entry.origin === HistoryEntryOrigin.LOCAL)\n                                       .map(entry => entry.identifier)\n    historyEntries.forEach(entry => entry.origin = HistoryEntryOrigin.REMOTE)\n    importHistoryEntries(historyEntries)\n      .catch(error => {\n        showErrorNotification(t('landing.history.error.setHistory.text'))(error)\n        historyEntries.forEach(entry => {\n          if (localEntries.includes(entry.identifier)) {\n            entry.origin = HistoryEntryOrigin.LOCAL\n          }\n        })\n        setHistoryEntries(historyEntries)\n        refreshHistory()\n      })\n  }, [userExists, historyEntries, t, refreshHistory])\n\n  useEffect(() => {\n    const newState: HistoryToolbarState = {\n      selectedTags: tagsState,\n      keywordSearch: searchState,\n      viewState: viewState,\n      ...sortState\n    }\n    // This is needed because the onSettingsChange triggers a state update in history-page which re-renders the toolbar.\n    // The re-rendering causes this effect to run again resulting in an infinite state update loop.\n    if (equal(previousState.current, newState)) {\n      return\n    }\n    onSettingsChange(newState)\n    previousState.current = newState\n  }, [onSettingsChange, tagsState, searchState, viewState, sortState])\n\n  return (\n    <Form inline={ true }>\n      <InputGroup className={ 'mr-1 mb-1' }>\n        <Typeahead id={ 'tagsSelection' } options={ tags } multiple={ true }\n                   placeholder={ t('landing.history.toolbar.selectTags') }\n                   onChange={ selectedTagsChanged }\n                   selected={ tagsState }\n        />\n      </InputGroup>\n      <InputGroup className={ 'mr-1 mb-1' }>\n        <FormControl\n          placeholder={ t('landing.history.toolbar.searchKeywords') }\n          aria-label={ t('landing.history.toolbar.searchKeywords') }\n          onChange={ keywordSearchChanged }\n          value={ searchState }\n        />\n      </InputGroup>\n      <InputGroup className={ 'mr-1 mb-1' }>\n        <SortButton onDirectionChange={ titleSortChanged } direction={ sortState.titleSortDirection }\n                    variant={ 'light' }><Trans\n          i18nKey={ 'landing.history.toolbar.sortByTitle' }/></SortButton>\n      </InputGroup>\n      <InputGroup className={ 'mr-1 mb-1' }>\n        <SortButton onDirectionChange={ lastVisitedSortChanged } direction={ sortState.lastVisitedSortDirection }\n                    variant={ 'light' }><Trans i18nKey={ 'landing.history.toolbar.sortByLastVisited' }/></SortButton>\n      </InputGroup>\n      <InputGroup className={ 'mr-1 mb-1' }>\n        <ExportHistoryButton/>\n      </InputGroup>\n      <InputGroup className={ 'mr-1 mb-1' }>\n        <ImportHistoryButton/>\n      </InputGroup>\n      <InputGroup className={ 'mr-1 mb-1' }>\n        <ClearHistoryButton/>\n      </InputGroup>\n      <InputGroup className={ 'mr-1 mb-1' }>\n        <Button variant={ 'light' } title={ t('landing.history.toolbar.refresh') } onClick={ refreshHistory }>\n          <ForkAwesomeIcon icon=\"refresh\"/>\n        </Button>\n      </InputGroup>\n      <ShowIf condition={ userExists }>\n        <InputGroup className={ 'mr-1 mb-1' }>\n          <Button variant={ 'light' } title={ t('landing.history.toolbar.uploadAll') } onClick={ onUploadAllToRemote }>\n            <ForkAwesomeIcon icon=\"cloud-upload\"/>\n          </Button>\n        </InputGroup>\n      </ShowIf>\n      <InputGroup className={ 'mr-1 mb-1' }>\n        <ToggleButtonGroup type=\"radio\" name=\"options\" dir=\"ltr\" value={ viewState } className={ 'button-height' }\n                           onChange={ (newViewState: ViewStateEnum) => {\n                             toggleViewChanged(newViewState)\n                           } }>\n          <ToggleButton className={ 'btn-light' } value={ ViewStateEnum.CARD }\n                        title={ t('landing.history.toolbar.cards') }>\n            <ForkAwesomeIcon icon={ 'sticky-note' } className={ 'fa-fix-line-height' }/>\n          </ToggleButton>\n          <ToggleButton className={ 'btn-light' } value={ ViewStateEnum.TABLE }\n                        title={ t('landing.history.toolbar.table') }>\n            <ForkAwesomeIcon icon={ 'table' } className={ 'fa-fix-line-height' }/>\n          </ToggleButton>\n        </ToggleButtonGroup>\n      </InputGroup>\n    </Form>\n  )\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { DateTime } from 'luxon'\nimport { SortModeEnum } from './sort-button/sort-button'\nimport { HistoryToolbarState } from './history-toolbar/history-toolbar'\nimport { HistoryEntry } from '../../redux/history/types'\n\nexport const formatHistoryDate = (date: string): string => DateTime.fromISO(date).toFormat('DDDD T')\n\nexport const sortAndFilterEntries = (entries: HistoryEntry[], toolbarState: HistoryToolbarState): HistoryEntry[] => {\n  const filteredBySelectedTagsEntries = filterBySelectedTags(entries, toolbarState.selectedTags)\n  const filteredByKeywordSearchEntries = filterByKeywordSearch(filteredBySelectedTagsEntries, toolbarState.keywordSearch)\n  return sortEntries(filteredByKeywordSearchEntries, toolbarState)\n}\n\nconst filterBySelectedTags = (entries: HistoryEntry[], selectedTags: string[]): HistoryEntry[] => {\n  return entries.filter(entry => {\n      return (selectedTags.length === 0 || arrayCommonCheck(entry.tags, selectedTags))\n    }\n  )\n}\n\nconst arrayCommonCheck = <T> (array1: T[], array2: T[]): boolean => {\n  const foundElement = array1.find((element1) =>\n    array2.find((element2) =>\n      element2 === element1\n    )\n  )\n  return !!foundElement\n}\n\nconst filterByKeywordSearch = (entries: HistoryEntry[], keywords: string): HistoryEntry[] => {\n  const searchTerm = keywords.toLowerCase()\n  return entries.filter(\n    entry => entry.title\n                  .toLowerCase()\n                  .includes(searchTerm)\n  )\n}\n\nconst sortEntries = (entries: HistoryEntry[], viewState: HistoryToolbarState): HistoryEntry[] => {\n  return entries.sort((firstEntry, secondEntry) => {\n    if (firstEntry.pinStatus && !secondEntry.pinStatus) {\n      return -1\n    }\n    if (!firstEntry.pinStatus && secondEntry.pinStatus) {\n      return 1\n    }\n\n    if (viewState.titleSortDirection !== SortModeEnum.no) {\n      return firstEntry.title.localeCompare(secondEntry.title) * viewState.titleSortDirection\n    }\n\n    if (viewState.lastVisitedSortDirection !== SortModeEnum.no) {\n      if (firstEntry.lastVisited > secondEntry.lastVisited) {\n        return 1 * viewState.lastVisitedSortDirection\n      }\n      if (firstEntry.lastVisited < secondEntry.lastVisited) {\n        return -1 * viewState.lastVisitedSortDirection\n      }\n    }\n\n    return 0\n  })\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { DateTime } from 'luxon'\nimport React, { useCallback } from 'react'\nimport { Badge, Card } from 'react-bootstrap'\nimport { Link } from 'react-router-dom'\nimport { ForkAwesomeIcon } from '../../common/fork-awesome/fork-awesome-icon'\nimport { EntryMenu } from '../entry-menu/entry-menu'\nimport { HistoryEntryProps, HistoryEventHandlers } from '../history-content/history-content'\nimport { PinButton } from '../pin-button/pin-button'\nimport { formatHistoryDate } from '../utils'\nimport './history-card.scss'\n\nexport const HistoryCard: React.FC<HistoryEntryProps & HistoryEventHandlers> = ({ entry, onPinClick, onRemoveClick, onDeleteClick }) => {\n  const onRemove = useCallback(() => {\n    onRemoveClick(entry.identifier)\n  }, [onRemoveClick, entry.identifier])\n\n  const onDelete = useCallback(() => {\n    onDeleteClick(entry.identifier)\n  }, [onDeleteClick, entry.identifier])\n\n  return (\n    <div className=\"p-2 col-xs-12 col-sm-6 col-md-6 col-lg-4\">\n      <Card className=\"card-min-height\" text={ 'dark' } bg={ 'light' }>\n        <Card.Body className=\"p-2 d-flex flex-row justify-content-between\">\n          <div className={ 'd-flex flex-column' }>\n            <PinButton isDark={ false } isPinned={ entry.pinStatus }\n                       onPinClick={ () => onPinClick(entry.identifier) }/>\n          </div>\n          <Link to={ `/n/${ entry.identifier }` } className=\"text-decoration-none flex-fill text-dark\">\n            <div className={ 'd-flex flex-column justify-content-between' }>\n              <Card.Title className=\"m-0 mt-1dot5\">{ entry.title }</Card.Title>\n              <div>\n                <div className=\"text-black-50 mt-2\">\n                  <ForkAwesomeIcon icon=\"clock-o\"/> { DateTime.fromISO(entry.lastVisited)\n                                                              .toRelative() }<br/>\n                  { formatHistoryDate(entry.lastVisited) }\n                </div>\n                <div className={ 'card-footer-min-height p-0' }>\n                  {\n                    entry.tags.map((tag) => <Badge variant={ 'dark' } className={ 'mr-1 mb-1' }\n                                                   key={ tag }>{ tag }</Badge>)\n                  }\n                </div>\n              </div>\n            </div>\n          </Link>\n          <div className={ 'd-flex flex-column' }>\n            <EntryMenu\n              id={ entry.identifier }\n              title={ entry.title }\n              origin={ entry.origin }\n              isDark={ false }\n              onRemove={ onRemove }\n              onDelete={ onDelete }\n            />\n          </div>\n        </Card.Body>\n      </Card>\n    </div>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { Row } from 'react-bootstrap'\nimport { Pager } from '../../common/pagination/pager'\nimport { HistoryEntriesProps, HistoryEventHandlers } from '../history-content/history-content'\nimport { HistoryCard } from './history-card'\n\nexport const HistoryCardList: React.FC<HistoryEntriesProps & HistoryEventHandlers> = ({ entries, onPinClick, onRemoveClick, onDeleteClick, pageIndex, onLastPageIndexChange }) => {\n  return (\n    <Row className=\"justify-content-start\">\n      <Pager numberOfElementsPerPage={ 9 } pageIndex={ pageIndex } onLastPageIndexChange={ onLastPageIndexChange }>\n        {\n          entries.map((entry) => (\n            <HistoryCard\n              key={ entry.identifier }\n              entry={ entry }\n              onPinClick={ onPinClick }\n              onRemoveClick={ onRemoveClick }\n              onDeleteClick={ onDeleteClick }\n            />))\n        }\n      </Pager>\n    </Row>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { Badge } from 'react-bootstrap'\nimport { Link } from 'react-router-dom'\nimport { EntryMenu } from '../entry-menu/entry-menu'\nimport { HistoryEntryProps, HistoryEventHandlers } from '../history-content/history-content'\nimport { PinButton } from '../pin-button/pin-button'\nimport { formatHistoryDate } from '../utils'\n\nexport const HistoryTableRow: React.FC<HistoryEntryProps & HistoryEventHandlers> = ({ entry, onPinClick, onRemoveClick, onDeleteClick }) => {\n  return (\n    <tr>\n      <td>\n        <Link to={ `/n/${ entry.identifier }` } className=\"text-light\">\n          { entry.title }\n        </Link>\n      </td>\n      <td>{ formatHistoryDate(entry.lastVisited) }</td>\n      <td>\n        {\n          entry.tags.map((tag) => <Badge variant={ 'light' } className={ 'mr-1 mb-1' }\n                                         key={ tag }>{ tag }</Badge>)\n        }\n      </td>\n      <td>\n        <PinButton isDark={ true } isPinned={ entry.pinStatus } onPinClick={ () => onPinClick(entry.identifier) }\n                   className={ 'mb-1 mr-1' }/>\n        <EntryMenu\n          id={ entry.identifier }\n          title={ entry.title }\n          origin={ entry.origin }\n          isDark={ true }\n          onRemove={ () => onRemoveClick(entry.identifier) }\n          onDelete={ () => onDeleteClick(entry.identifier) }\n        />\n      </td>\n    </tr>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { Table } from 'react-bootstrap'\nimport { Trans, useTranslation } from 'react-i18next'\nimport { Pager } from '../../common/pagination/pager'\nimport { HistoryEntriesProps, HistoryEventHandlers } from '../history-content/history-content'\nimport { HistoryTableRow } from './history-table-row'\nimport './history-table.scss'\n\nexport const HistoryTable: React.FC<HistoryEntriesProps & HistoryEventHandlers> = ({ entries, onPinClick, onRemoveClick, onDeleteClick, pageIndex, onLastPageIndexChange }) => {\n  useTranslation()\n  return (\n    <Table striped bordered hover size=\"sm\" variant=\"dark\" className={ 'history-table' }>\n      <thead>\n      <tr>\n        <th><Trans i18nKey={ 'landing.history.tableHeader.title' }/></th>\n        <th><Trans i18nKey={ 'landing.history.tableHeader.lastVisit' }/></th>\n        <th><Trans i18nKey={ 'landing.history.tableHeader.tags' }/></th>\n        <th><Trans i18nKey={ 'landing.history.tableHeader.actions' }/></th>\n      </tr>\n      </thead>\n      <tbody>\n      <Pager numberOfElementsPerPage={ 12 } pageIndex={ pageIndex } onLastPageIndexChange={ onLastPageIndexChange }>\n        {\n          entries.map((entry) =>\n            <HistoryTableRow\n              key={ entry.identifier }\n              entry={ entry }\n              onPinClick={ onPinClick }\n              onRemoveClick={ onRemoveClick }\n              onDeleteClick={ onDeleteClick }\n            />)\n        }\n      </Pager>\n      </tbody>\n    </Table>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { Fragment, useCallback, useState } from 'react'\nimport { Button } from 'react-bootstrap'\nimport { Trans, useTranslation } from 'react-i18next'\nimport { ForkAwesomeIcon } from '../../common/fork-awesome/fork-awesome-icon'\nimport { DeletionModal } from '../../common/modals/deletion-modal'\nimport { deleteAllHistoryEntries, refreshHistoryState } from '../../../redux/history/methods'\nimport { showErrorNotification } from '../../../redux/ui-notifications/methods'\n\nexport const ClearHistoryButton: React.FC = () => {\n  const { t } = useTranslation()\n  const [show, setShow] = useState(false)\n\n  const handleShow = () => setShow(true)\n  const handleClose = () => setShow(false)\n\n  const onConfirm = useCallback(() => {\n    deleteAllHistoryEntries().catch(error => {\n      showErrorNotification(t('landing.history.error.deleteEntry.text'))(error)\n      refreshHistoryState().catch(\n        showErrorNotification(t('landing.history.error.getHistory.text'))\n      )\n    })\n    handleClose()\n  }, [t])\n\n  return (\n    <Fragment>\n      <Button variant={ 'light' } title={ t('landing.history.toolbar.clear') } onClick={ handleShow }>\n        <ForkAwesomeIcon icon={ 'trash' }/>\n      </Button>\n      <DeletionModal\n        onConfirm={ onConfirm }\n        deletionButtonI18nKey={ 'landing.history.toolbar.clear' }\n        show={ show }\n        onHide={ handleClose }\n        titleI18nKey={ 'landing.history.modal.clearHistory.title' }\n      >\n        <h5><Trans i18nKey={ 'landing.history.modal.clearHistory.question' }/></h5>\n        <h6><Trans i18nKey={ 'landing.history.modal.clearHistory.disclaimer' }/></h6>\n      </DeletionModal>\n    </Fragment>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { Button } from 'react-bootstrap'\nimport { useTranslation } from 'react-i18next'\nimport { ForkAwesomeIcon } from '../../common/fork-awesome/fork-awesome-icon'\nimport { downloadHistory } from '../../../redux/history/methods'\n\nexport const ExportHistoryButton: React.FC = () => {\n  const { t } = useTranslation()\n\n  return (\n    <Button variant={ 'light' } title={ t('landing.history.toolbar.export') } onClick={ downloadHistory }>\n      <ForkAwesomeIcon icon='download'/>\n    </Button>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { Modal } from 'react-bootstrap'\nimport { CommonModal, CommonModalProps } from './common-modal'\n\nexport const ErrorModal: React.FC<CommonModalProps> = ({ show, onHide, titleI18nKey, icon, children }) => {\n  return (\n    <CommonModal show={ show } onHide={ onHide } titleI18nKey={ titleI18nKey } icon={ icon } closeButton={ true }>\n      <Modal.Body className=\"text-dark text-center\">\n        { children }\n      </Modal.Body>\n    </CommonModal>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { useCallback, useRef, useState } from 'react'\nimport { Button } from 'react-bootstrap'\nimport { Trans, useTranslation } from 'react-i18next'\nimport { ForkAwesomeIcon } from '../../common/fork-awesome/fork-awesome-icon'\nimport { ErrorModal } from '../../common/modals/error-modal'\nimport { HistoryEntry, HistoryEntryOrigin, HistoryExportJson, V1HistoryEntry } from '../../../redux/history/types'\nimport {\n  convertV1History,\n  importHistoryEntries,\n  mergeHistoryEntries,\n  refreshHistoryState\n} from '../../../redux/history/methods'\nimport { ApplicationState } from '../../../redux'\nimport { useSelector } from 'react-redux'\nimport { showErrorNotification } from '../../../redux/ui-notifications/methods'\n\nexport const ImportHistoryButton: React.FC = () => {\n  const { t } = useTranslation()\n  const userExists = useSelector((state: ApplicationState) => !!state.user)\n  const historyState = useSelector((state: ApplicationState) => state.history)\n  const uploadInput = useRef<HTMLInputElement>(null)\n  const [show, setShow] = useState(false)\n  const [fileName, setFilename] = useState('')\n  const [i18nKey, setI18nKey] = useState('')\n\n  const handleShow = useCallback((key: string) => {\n    setI18nKey(key)\n    setShow(true)\n  }, [])\n\n  const handleClose = useCallback(() => {\n    setI18nKey('')\n    setShow(false)\n  }, [])\n\n  const onImportHistory = useCallback((entries: HistoryEntry[]): void => {\n    entries.forEach(entry => entry.origin = userExists ? HistoryEntryOrigin.REMOTE : HistoryEntryOrigin.LOCAL)\n    importHistoryEntries(mergeHistoryEntries(historyState, entries)).catch(error => {\n      showErrorNotification(t('landing.history.error.setHistory.text'))(error)\n      refreshHistoryState().catch(\n        showErrorNotification(t('landing.history.error.getHistory.text'))\n      )\n    })\n  }, [historyState, userExists, t])\n\n  const handleUpload = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const { validity, files } = event.target\n    if (files && files[0] && validity.valid) {\n      const file = files[0]\n      setFilename(file.name)\n      if (file.type !== 'application/json' && file.type !== '') {\n        handleShow('landing.history.modal.importHistoryError.textWithFile')\n        return\n      }\n      const fileReader = new FileReader()\n      fileReader.onload = (event) => {\n        if (event.target && event.target.result) {\n          try {\n            const result = event.target.result as string\n            const data = JSON.parse(result) as HistoryExportJson\n            if (data) {\n              if (data.version) {\n                if (data.version === 2) {\n                  onImportHistory(data.entries)\n                } else {\n                  // probably a newer version we can't support\n                  handleShow('landing.history.modal.importHistoryError.tooNewVersion')\n                }\n              } else {\n                const oldEntries = JSON.parse(result) as V1HistoryEntry[]\n                onImportHistory(convertV1History(oldEntries))\n              }\n            }\n          } catch {\n            handleShow('landing.history.modal.importHistoryError.textWithFile')\n          }\n        }\n      }\n      fileReader.readAsText(file)\n    } else {\n      handleShow('landing.history.modal.importHistoryError.textWithOutFile')\n    }\n  }\n\n  return (\n    <div>\n      <input type='file' className=\"d-none\" accept=\".json\" onChange={ handleUpload } ref={ uploadInput }/>\n      <Button variant={ 'light' }\n              title={ t('landing.history.toolbar.import') }\n              onClick={ () => uploadInput.current?.click() }\n      >\n        <ForkAwesomeIcon icon='upload'/>\n      </Button>\n      <ErrorModal\n        show={ show }\n        onHide={ handleClose }\n        titleI18nKey='landing.history.modal.importHistoryError.title'\n        icon='exclamation-circle'\n      >\n        <h5>\n          <Trans i18nKey={ i18nKey } values={ fileName !== '' ? { fileName: fileName } : {} }/>\n        </h5>\n      </ErrorModal>\n    </div>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { useSelector } from 'react-redux'\nimport { ApplicationState } from '../../../redux'\nimport { IconName } from '../../common/fork-awesome/types'\nimport { SocialLinkButton } from './social-link-button/social-link-button'\n\nexport enum OneClickType {\n  'DROPBOX' = 'dropbox',\n  'FACEBOOK' = 'facebook',\n  'GITHUB' = 'github',\n  'GITLAB' = 'gitlab',\n  'GOOGLE' = 'google',\n  'OAUTH2' = 'oauth2',\n  'SAML' = 'saml',\n  'TWITTER' = 'twitter'\n}\n\ninterface OneClickMetadata {\n  name: string,\n  icon: IconName,\n  className: string,\n  url: string\n}\n\nconst buildBackendAuthUrl = (backendUrl: string, backendName: string): string => {\n  return `${ backendUrl }/auth/${ backendName }`\n}\n\nconst getMetadata = (backendUrl: string, oneClickType: OneClickType): OneClickMetadata => {\n  const buildBackendAuthUrlWithFirstParameterSet = (backendName: string): string => buildBackendAuthUrl(backendUrl, backendName)\n  switch (oneClickType) {\n    case OneClickType.DROPBOX:\n      return {\n        name: 'Dropbox',\n        icon: 'dropbox',\n        className: 'btn-social-dropbox',\n        url: buildBackendAuthUrlWithFirstParameterSet('dropbox')\n      }\n    case OneClickType.FACEBOOK:\n      return {\n        name: 'Facebook',\n        icon: 'facebook',\n        className: 'btn-social-facebook',\n        url: buildBackendAuthUrlWithFirstParameterSet('facebook')\n      }\n    case OneClickType.GITHUB:\n      return {\n        name: 'GitHub',\n        icon: 'github',\n        className: 'btn-social-github',\n        url: buildBackendAuthUrlWithFirstParameterSet('github')\n      }\n    case OneClickType.GITLAB:\n      return {\n        name: 'GitLab',\n        icon: 'gitlab',\n        className: 'btn-social-gitlab',\n        url: buildBackendAuthUrlWithFirstParameterSet('gitlab')\n      }\n    case OneClickType.GOOGLE:\n      return {\n        name: 'Google',\n        icon: 'google',\n        className: 'btn-social-google',\n        url: buildBackendAuthUrlWithFirstParameterSet('google')\n      }\n    case OneClickType.OAUTH2:\n      return {\n        name: 'OAuth2',\n        icon: 'address-card',\n        className: 'btn-primary',\n        url: buildBackendAuthUrlWithFirstParameterSet('oauth2')\n      }\n    case OneClickType.SAML:\n      return {\n        name: 'SAML',\n        icon: 'users',\n        className: 'btn-success',\n        url: buildBackendAuthUrlWithFirstParameterSet('saml')\n      }\n    case OneClickType.TWITTER:\n      return {\n        name: 'Twitter',\n        icon: 'twitter',\n        className: 'btn-social-twitter',\n        url: buildBackendAuthUrlWithFirstParameterSet('twitter')\n      }\n    default:\n      return {\n        name: '',\n        icon: 'exclamation',\n        className: '',\n        url: '#'\n      }\n  }\n}\n\nexport interface ViaOneClickProps {\n  oneClickType: OneClickType;\n  optionalName?: string;\n}\n\nexport const ViaOneClick: React.FC<ViaOneClickProps> = ({ oneClickType, optionalName }) => {\n  const backendUrl = useSelector((state: ApplicationState) => state.apiUrl.apiUrl)\n  const { name, icon, className, url } = getMetadata(backendUrl, oneClickType)\n  const text = optionalName || name\n\n  return (\n    <SocialLinkButton\n      backgroundClass={ className }\n      icon={ icon }\n      href={ url }\n      title={ text }\n    >\n      { text }\n    </SocialLinkButton>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { Fragment, useCallback, useState } from 'react'\nimport { Alert, Row } from 'react-bootstrap'\nimport { Trans, useTranslation } from 'react-i18next'\nimport { PagerPagination } from '../../common/pagination/pager-pagination'\nimport { HistoryCardList } from '../history-card/history-card-list'\nimport { HistoryTable } from '../history-table/history-table'\nimport { ViewStateEnum } from '../history-toolbar/history-toolbar'\nimport { HistoryEntry } from '../../../redux/history/types'\nimport { removeHistoryEntry, toggleHistoryEntryPinning } from '../../../redux/history/methods'\nimport { deleteNote } from '../../../api/notes'\nimport { showErrorNotification } from '../../../redux/ui-notifications/methods'\n\ntype OnEntryClick = (entryId: string) => void\n\nexport interface HistoryEventHandlers {\n  onPinClick: OnEntryClick\n  onRemoveClick: OnEntryClick\n  onDeleteClick: OnEntryClick\n}\n\nexport interface HistoryContentProps {\n  viewState: ViewStateEnum\n  entries: HistoryEntry[]\n}\n\nexport interface HistoryEntryProps {\n  entry: HistoryEntry,\n}\n\nexport interface HistoryEntriesProps {\n  entries: HistoryEntry[]\n  pageIndex: number\n  onLastPageIndexChange: (lastPageIndex: number) => void\n}\n\nexport const HistoryContent: React.FC<HistoryContentProps> = ({ viewState, entries }) => {\n  const { t } = useTranslation()\n\n  const [pageIndex, setPageIndex] = useState(0)\n  const [lastPageIndex, setLastPageIndex] = useState(0)\n\n  const onPinClick = useCallback((noteId: string) => {\n    toggleHistoryEntryPinning(noteId).catch(\n      showErrorNotification(t('landing.history.error.updateEntry.text'))\n    )\n  }, [t])\n\n  const onDeleteClick = useCallback((noteId: string) => {\n    deleteNote(noteId).then(() => {\n      return removeHistoryEntry(noteId)\n    }).catch(\n      showErrorNotification(t('landing.history.error.deleteNote.text'))\n    )\n  }, [t])\n\n  const onRemoveClick = useCallback((noteId: string) => {\n    removeHistoryEntry(noteId).catch(\n      showErrorNotification(t('landing.history.error.deleteEntry.text'))\n    )\n  }, [t])\n\n  if (entries.length === 0) {\n    return (\n      <Row className={ 'justify-content-center' }>\n        <Alert variant={ 'secondary' }>\n          <Trans i18nKey={ 'landing.history.noHistory' }/>\n        </Alert>\n      </Row>\n    )\n  }\n\n  const mapViewStateToComponent = (viewState: ViewStateEnum) => {\n    switch (viewState) {\n      case ViewStateEnum.TABLE:\n        return <HistoryTable entries={ entries }\n                             onPinClick={ onPinClick }\n                             onRemoveClick={ onRemoveClick }\n                             onDeleteClick={ onDeleteClick }\n                             pageIndex={ pageIndex }\n                             onLastPageIndexChange={ setLastPageIndex }/>\n      case ViewStateEnum.CARD:\n      default:\n        return <HistoryCardList entries={ entries }\n                                onPinClick={ onPinClick }\n                                onRemoveClick={ onRemoveClick }\n                                onDeleteClick={ onDeleteClick }\n                                pageIndex={ pageIndex }\n                                onLastPageIndexChange={ setLastPageIndex }/>\n    }\n  }\n\n  return (\n    <Fragment>\n      { mapViewStateToComponent(viewState) }\n      <Row className=\"justify-content-center\">\n        <PagerPagination numberOfPageButtonsToShowAfterAndBeforeCurrent={ 2 } lastPageIndex={ lastPageIndex }\n                         onPageChange={ setPageIndex }/>\n      </Row>\n    </Fragment>)\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { Fragment, useEffect, useMemo, useState } from 'react'\nimport { Row } from 'react-bootstrap'\nimport { Trans, useTranslation } from 'react-i18next'\nimport { useSelector } from 'react-redux'\nimport { ApplicationState } from '../../redux'\nimport { HistoryContent } from './history-content/history-content'\nimport { HistoryToolbar, HistoryToolbarState, initToolbarState } from './history-toolbar/history-toolbar'\nimport { sortAndFilterEntries } from './utils'\nimport { refreshHistoryState } from '../../redux/history/methods'\nimport { HistoryEntry } from '../../redux/history/types'\nimport { showErrorNotification } from '../../redux/ui-notifications/methods'\n\nexport const HistoryPage: React.FC = () => {\n  const { t } = useTranslation()\n\n  const allEntries = useSelector((state: ApplicationState) => state.history)\n  const [toolbarState, setToolbarState] = useState<HistoryToolbarState>(initToolbarState)\n\n  const entriesToShow = useMemo<HistoryEntry[]>(() =>\n      sortAndFilterEntries(allEntries, toolbarState),\n    [allEntries, toolbarState])\n\n  useEffect(() => {\n    refreshHistoryState().catch(\n      showErrorNotification(t('landing.history.error.getHistory.text'))\n    )\n  }, [t])\n\n  return (\n    <Fragment>\n      <h1 className=\"mb-4\">\n        <Trans i18nKey=\"landing.navigation.history\"/>\n      </h1>\n      <Row className={ 'justify-content-center mt-5 mb-3' }>\n        <HistoryToolbar\n          onSettingsChange={ setToolbarState }\n        />\n      </Row>\n      <HistoryContent\n        viewState={ toolbarState.viewState }\n        entries={ entriesToShow }\n      />\n    </Fragment>\n  )\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { Button } from 'react-bootstrap'\nimport { Trans, useTranslation } from 'react-i18next'\nimport { useSelector } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport { ApplicationState } from '../../../redux'\nimport { ShowIf } from '../../common/show-if/show-if'\nimport { SignInButton } from '../../landing-layout/navigation/sign-in-button'\nimport './cover-buttons.scss'\n\nexport const CoverButtons: React.FC = () => {\n  useTranslation()\n  const userExists = useSelector((state: ApplicationState) => !!state.user)\n  const anyAuthProviderActivated = useSelector((state: ApplicationState) => Object.values(state.config.authProviders)\n                                                                                  .includes(true))\n\n  if (userExists) {\n    return null\n  }\n\n  return (\n    <div className=\"mb-5\">\n      <SignInButton\n        className=\"cover-button\"\n        variant=\"success\"\n        size=\"lg\"\n      />\n      <ShowIf condition={ anyAuthProviderActivated }>\n        <span className=\"m-2\">\n          <Trans i18nKey=\"common.or\"/>\n        </span>\n      </ShowIf>\n      <Link to=\"/n/features\">\n        <Button\n          data-cy={ 'features-button' }\n          className=\"cover-button\"\n          variant=\"primary\"\n          size=\"lg\"\n        >\n          <Trans i18nKey=\"landing.intro.exploreFeatures\"/>\n        </Button>\n      </Link>\n    </div>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { Col, Row } from 'react-bootstrap'\nimport { Trans, useTranslation } from 'react-i18next'\nimport { Link } from 'react-router-dom'\nimport { ForkAwesomeIcon } from '../common/fork-awesome/fork-awesome-icon'\n\nexport const FeatureLinks: React.FC = () => {\n  useTranslation()\n  return (\n    <Row className=\"mb-5 d-flex flex-row justify-content-center\">\n      <Col md={ 3 }>\n        <Link to={ '/n/features#Share-Notes' } className=\"text-light\">\n          <ForkAwesomeIcon icon=\"bolt\" size=\"2x\"/>\n          <h6>\n            <Trans i18nKey=\"landing.intro.features.collaboration\"/>\n          </h6>\n        </Link>\n      </Col>\n      <Col md={ 3 }>\n        <Link to={ '/n/features#MathJax' } className=\"text-light\">\n          <ForkAwesomeIcon icon=\"bar-chart\" size=\"2x\"/>\n          <h6>\n            <Trans i18nKey=\"landing.intro.features.katex\"/>\n          </h6>\n        </Link>\n      </Col>\n      <Col md={ 3 }>\n        <Link to={ '/n/features#Slide-Mode' } className=\"text-light\">\n          <ForkAwesomeIcon icon=\"television\" size=\"2x\"/>\n          <h6>\n            <Trans i18nKey=\"landing.intro.features.slides\"/>\n          </h6>\n        </Link>\n      </Col>\n    </Row>\n  )\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { defaultFetchConfig, expectResponseCode } from '../../api/utils'\n\nexport const getFrontPageContent = async (baseUrl: string): Promise<string> => {\n  const response = await fetch(baseUrl + '/intro.md', {\n    ...defaultFetchConfig,\n    method: 'GET'\n  })\n  expectResponseCode(response)\n\n  return await response.text()\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { useEffect, useState } from 'react'\nimport { useTranslation } from 'react-i18next'\nimport { getFrontPageContent } from '../requests'\nimport { useFrontendBaseUrl } from '../../../hooks/common/use-frontend-base-url'\n\nconst MARKDOWN_WHILE_LOADING = ':zzz: {message}'\nconst MARKDOWN_IF_ERROR = ':::danger\\n' +\n  '{message}\\n' +\n  ':::'\n\nexport const useIntroPageContent = (): string => {\n  const { t } = useTranslation()\n  const [content, setContent] = useState<string>(() => MARKDOWN_WHILE_LOADING.replace('{message}', t('landing.intro.markdownWhileLoading')))\n  const frontendBaseUrl = useFrontendBaseUrl()\n\n  useEffect(() => {\n    getFrontPageContent(frontendBaseUrl)\n      .then((content) => setContent(content))\n      .catch(() => setContent(MARKDOWN_IF_ERROR.replace('{message}', t('landing.intro.markdownLoadingError'))))\n  }, [frontendBaseUrl, t])\n\n  return content\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { Fragment, useState } from 'react'\nimport { Trans } from 'react-i18next'\nimport { Branding } from '../common/branding/branding'\nimport {\n  HedgeDocLogoSize,\n  HedgeDocLogoType,\n  HedgeDocLogoWithText\n} from '../common/hedge-doc-logo/hedge-doc-logo-with-text'\nimport { RenderIframe } from '../editor-page/renderer-pane/render-iframe'\nimport { CoverButtons } from './cover-buttons/cover-buttons'\nimport { FeatureLinks } from './feature-links'\nimport { useIntroPageContent } from './hooks/use-intro-page-content'\nimport { ShowIf } from '../common/show-if/show-if'\nimport { RendererType } from '../render-page/rendering-message'\nimport { WaitSpinner } from '../common/wait-spinner/wait-spinner'\n\nexport const IntroPage: React.FC = () => {\n  const introPageContent = useIntroPageContent()\n  const [showSpinner, setShowSpinner] = useState<boolean>(true)\n\n  return (\n    <Fragment>\n      <div className={ 'flex-fill mt-3' }>\n        <h1 dir='auto' className={ 'align-items-center d-flex justify-content-center flex-column' }>\n          <HedgeDocLogoWithText logoType={ HedgeDocLogoType.COLOR_VERTICAL } size={ HedgeDocLogoSize.BIG }/>\n        </h1>\n        <p className=\"lead\">\n          <Trans i18nKey=\"app.slogan\"/>\n        </p>\n        <div className={ 'mb-5' }>\n          <Branding delimiter={ false }/>\n        </div>\n        <CoverButtons/>\n        <ShowIf condition={ showSpinner }>\n          <WaitSpinner/>\n        </ShowIf>\n        <RenderIframe\n          frameClasses={ 'w-100 overflow-y-hidden' }\n          markdownContent={ introPageContent }\n          disableToc={ true }\n          onRendererReadyChange={ (rendererReady => setShowSpinner(!rendererReady)) }\n          rendererType={ RendererType.INTRO }\n          forcedDarkMode={ true }/>\n        <hr className={ 'mb-5' }/>\n      </div>\n      <FeatureLinks/>\n    </Fragment>)\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { FormEvent, useCallback, useState } from 'react'\nimport { Alert, Button, Card, Form } from 'react-bootstrap'\nimport { Trans, useTranslation } from 'react-i18next'\nimport { useSelector } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport { doInternalLogin } from '../../../api/auth'\nimport { ApplicationState } from '../../../redux'\nimport { ShowIf } from '../../common/show-if/show-if'\nimport { getAndSetUser } from './utils'\n\nexport const ViaInternal: React.FC = () => {\n  const { t } = useTranslation()\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [error, setError] = useState(false)\n  const allowRegister = useSelector((state: ApplicationState) => state.config.allowRegister)\n\n  const onLoginSubmit = useCallback((event: FormEvent) => {\n    doInternalLogin(username, password)\n      .then(() => getAndSetUser())\n      .catch(() => setError(true))\n    event.preventDefault()\n  }, [username, password])\n\n  return (\n    <Card className=\"bg-dark mb-4\">\n      <Card.Body>\n        <Card.Title>\n          <Trans i18nKey=\"login.signInVia\" values={ { service: t('login.auth.username') } }/>\n        </Card.Title>\n        <Form onSubmit={ onLoginSubmit }>\n          <Form.Group controlId=\"internal-username\">\n            <Form.Control\n              isInvalid={ error }\n              type=\"text\"\n              size=\"sm\"\n              placeholder={ t('login.auth.username') }\n              onChange={ (event) => setUsername(event.currentTarget.value) } className=\"bg-dark text-light\"\n              autoComplete='username'/>\n          </Form.Group>\n\n          <Form.Group controlId=\"internal-password\">\n            <Form.Control\n              isInvalid={ error }\n              type=\"password\"\n              size=\"sm\"\n              placeholder={ t('login.auth.password') }\n              onChange={ (event) => setPassword(event.currentTarget.value) }\n              className=\"bg-dark text-light\"\n              autoComplete='current-password'/>\n          </Form.Group>\n\n          <Alert className=\"small\" show={ error } variant=\"danger\">\n            <Trans i18nKey=\"login.auth.error.usernamePassword\"/>\n          </Alert>\n\n          <div className='flex flex-row' dir='auto'>\n            <Button\n              type=\"submit\"\n              variant=\"primary\"\n              className='mx-2'>\n              <Trans i18nKey=\"login.signIn\"/>\n            </Button>\n            <ShowIf condition={ allowRegister }>\n              <Link to={ '/register' }>\n                <Button\n                  type='button'\n                  variant='secondary'\n                  className='mx-2'>\n                  <Trans i18nKey='login.register.title'/>\n                </Button>\n              </Link>\n            </ShowIf>\n          </div>\n        </Form>\n      </Card.Body>\n    </Card>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { FormEvent, useCallback, useState } from 'react'\nimport { Alert, Button, Card, Form } from 'react-bootstrap'\n\nimport { Trans, useTranslation } from 'react-i18next'\nimport { useSelector } from 'react-redux'\nimport { doLdapLogin } from '../../../api/auth'\nimport { ApplicationState } from '../../../redux'\nimport { getAndSetUser } from './utils'\n\nexport const ViaLdap: React.FC = () => {\n  const { t } = useTranslation()\n  const ldapCustomName = useSelector((state: ApplicationState) => state.config.customAuthNames.ldap)\n\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [error, setError] = useState(false)\n\n  const name = ldapCustomName ? `${ ldapCustomName } (LDAP)` : 'LDAP'\n\n  const onLoginSubmit = useCallback((event: FormEvent) => {\n    doLdapLogin(username, password)\n      .then(() => getAndSetUser())\n      .catch(() => setError(true))\n    event.preventDefault()\n  }, [username, password])\n\n  return (\n    <Card className=\"bg-dark mb-4\">\n      <Card.Body>\n        <Card.Title>\n          <Trans i18nKey=\"login.signInVia\" values={ { service: name } }/>\n        </Card.Title>\n        <Form onSubmit={ onLoginSubmit }>\n          <Form.Group controlId=\"ldap-username\">\n            <Form.Control\n              isInvalid={ error }\n              type=\"text\"\n              size=\"sm\"\n              placeholder={ t('login.auth.username') }\n              onChange={ (event) => setUsername(event.currentTarget.value) } className=\"bg-dark text-light\"\n              autoComplete='username'\n            />\n          </Form.Group>\n\n          <Form.Group controlId=\"ldap-password\">\n            <Form.Control\n              isInvalid={ error }\n              type=\"password\"\n              size=\"sm\"\n              placeholder={ t('login.auth.password') }\n              onChange={ (event) => setPassword(event.currentTarget.value) }\n              className=\"bg-dark text-light\"\n              autoComplete='current-password'\n            />\n          </Form.Group>\n\n          <Alert className=\"small\" show={ error } variant=\"danger\">\n            <Trans i18nKey=\"login.auth.error.usernamePassword\"/>\n          </Alert>\n\n          <Button\n            type=\"submit\"\n            variant=\"primary\">\n            <Trans i18nKey=\"login.signIn\"/>\n          </Button>\n        </Form>\n      </Card.Body>\n    </Card>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { ForkAwesomeIcon } from '../../../common/fork-awesome/fork-awesome-icon'\nimport { IconName } from '../../../common/fork-awesome/types'\nimport './social-link-button.scss'\n\nexport interface SocialButtonProps {\n  backgroundClass: string,\n  href: string\n  icon: IconName\n  title?: string\n}\n\nexport const SocialLinkButton: React.FC<SocialButtonProps> = ({ title, backgroundClass, href, icon, children }) => {\n  return (\n    <a href={ href } title={ title }\n       className={ 'btn social-link-button p-0 d-inline-flex align-items-stretch ' + backgroundClass }>\n      <span className=\"icon-part d-flex align-items-center\">\n        <ForkAwesomeIcon icon={ icon } className={ 'social-icon' } fixedWidth={ true }/>\n      </span>\n      <span className=\"text-part d-flex align-items-center mx-auto\">\n        { children }\n      </span>\n    </a>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { FormEvent, useState } from 'react'\nimport { Alert, Button, Card, Form } from 'react-bootstrap'\nimport { Trans, useTranslation } from 'react-i18next'\nimport { doOpenIdLogin } from '../../../api/auth'\nimport { getAndSetUser } from './utils'\n\nexport const ViaOpenId: React.FC = () => {\n  useTranslation()\n  const [openId, setOpenId] = useState('')\n  const [error, setError] = useState(false)\n  const doAsyncLogin: (() => Promise<void>) = async () => {\n    await doOpenIdLogin(openId)\n    await getAndSetUser()\n  }\n\n  const onFormSubmit = (event: FormEvent) => {\n    doAsyncLogin()\n      .catch(() => setError(true))\n    event.preventDefault()\n  }\n\n  return (\n    <Card className=\"bg-dark mb-4\">\n      <Card.Body>\n        <Card.Title>\n          <Trans i18nKey=\"login.signInVia\" values={ { service: 'OpenID' } }/>\n        </Card.Title>\n\n        <Form onSubmit={ onFormSubmit }>\n          <Form.Group controlId=\"openid\">\n            <Form.Control\n              isInvalid={ error }\n              type=\"text\"\n              size=\"sm\"\n              placeholder={ 'OpenID' }\n              onChange={ (event) => setOpenId(event.currentTarget.value) }\n              className=\"bg-dark text-light\"\n            />\n          </Form.Group>\n\n          <Alert className=\"small\" show={ error } variant=\"danger\">\n            <Trans i18nKey=\"login.auth.error.openIdLogin\"/>\n          </Alert>\n\n          <Button\n            type=\"submit\"\n            variant=\"primary\">\n            <Trans i18nKey=\"login.signIn\"/>\n          </Button>\n        </Form>\n      </Card.Body>\n    </Card>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport equal from 'fast-deep-equal'\nimport React, { Fragment } from 'react'\nimport { Card, Col, Row } from 'react-bootstrap'\nimport { Trans, useTranslation } from 'react-i18next'\nimport { useSelector } from 'react-redux'\nimport { Redirect } from 'react-router'\nimport { ApplicationState } from '../../redux'\nimport { ShowIf } from '../common/show-if/show-if'\nimport { ViaInternal } from './auth/via-internal'\nimport { ViaLdap } from './auth/via-ldap'\nimport { OneClickType, ViaOneClick } from './auth/via-one-click'\nimport { ViaOpenId } from './auth/via-openid'\n\nexport const LoginPage: React.FC = () => {\n  useTranslation()\n  const authProviders = useSelector((state: ApplicationState) => state.config.authProviders, equal)\n  const customSamlAuthName = useSelector((state: ApplicationState) => state.config.customAuthNames.saml)\n  const customOauthAuthName = useSelector((state: ApplicationState) => state.config.customAuthNames.oauth2)\n  const userLoggedIn = useSelector((state: ApplicationState) => !!state.user)\n\n  const oneClickProviders = [authProviders.dropbox, authProviders.facebook, authProviders.github, authProviders.gitlab,\n    authProviders.google, authProviders.oauth2, authProviders.saml, authProviders.twitter]\n\n  const oneClickCustomName: (type: OneClickType) => string | undefined = (type) => {\n    switch (type) {\n      case OneClickType.SAML:\n        return customSamlAuthName\n      case OneClickType.OAUTH2:\n        return customOauthAuthName\n      default:\n        return undefined\n    }\n  }\n\n  if (userLoggedIn) {\n    // TODO Redirect to previous page?\n    return (\n      <Redirect to='/history'/>\n    )\n  }\n\n  return <Fragment>\n    <div className=\"my-3\">\n      <Row className=\"h-100 flex justify-content-center\">\n        <ShowIf condition={ authProviders.internal || authProviders.ldap || authProviders.openid }>\n          <Col xs={ 12 } sm={ 10 } lg={ 4 }>\n            <ShowIf condition={ authProviders.internal }><ViaInternal/></ShowIf>\n            <ShowIf condition={ authProviders.ldap }><ViaLdap/></ShowIf>\n            <ShowIf condition={ authProviders.openid }><ViaOpenId/></ShowIf>\n          </Col>\n        </ShowIf>\n        <ShowIf condition={ oneClickProviders.includes(true) }>\n          <Col xs={ 12 } sm={ 10 } lg={ 4 }>\n            <Card className=\"bg-dark mb-4\">\n              <Card.Body>\n                <Card.Title>\n                  <Trans i18nKey=\"login.signInVia\" values={ { service: '' } }/>\n                </Card.Title>\n                {\n                  Object.values(OneClickType)\n                        .filter((value) => authProviders[value])\n                        .map((value) => (\n                          <div\n                            className=\"p-2 d-flex flex-column social-button-container\"\n                            key={ value }\n                          >\n                            <ViaOneClick\n                              oneClickType={ value }\n                              optionalName={ oneClickCustomName(value) }\n                            />\n                          </div>\n                        ))\n                }\n              </Card.Body>\n            </Card>\n          </Col>\n        </ShowIf>\n      </Row>\n    </div>\n  </Fragment>\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { defaultFetchConfig, expectResponseCode, getApiUrl } from '../utils'\nimport { AccessToken, AccessTokenSecret } from './types'\n\nexport const getAccessTokenList = async (): Promise<AccessToken[]> => {\n  const response = await fetch(`${ getApiUrl() }/tokens`, {\n    ...defaultFetchConfig\n  })\n  expectResponseCode(response)\n  return await response.json() as AccessToken[]\n}\n\nexport const postNewAccessToken = async (label: string): Promise<AccessToken & AccessTokenSecret> => {\n  const response = await fetch(`${ getApiUrl() }/tokens`, {\n    ...defaultFetchConfig,\n    method: 'POST',\n    body: label\n  })\n  expectResponseCode(response)\n  return await response.json() as (AccessToken & AccessTokenSecret)\n}\n\nexport const deleteAccessToken = async (timestamp: number): Promise<void> => {\n  const response = await fetch(`${ getApiUrl() }/tokens/${ timestamp }`, {\n    ...defaultFetchConfig,\n    method: 'DELETE'\n  })\n  expectResponseCode(response)\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { DateTime } from 'luxon'\nimport React, { ChangeEvent, FormEvent, Fragment, useCallback, useEffect, useMemo, useState } from 'react'\nimport { Button, Card, Col, Form, ListGroup, Modal, Row } from 'react-bootstrap'\nimport { Trans, useTranslation } from 'react-i18next'\nimport { deleteAccessToken, getAccessTokenList, postNewAccessToken } from '../../../api/tokens'\nimport { AccessToken } from '../../../api/tokens/types'\nimport { CopyableField } from '../../common/copyable/copyable-field/copyable-field'\nimport { IconButton } from '../../common/icon-button/icon-button'\nimport { CommonModal } from '../../common/modals/common-modal'\nimport { DeletionModal } from '../../common/modals/deletion-modal'\nimport { ShowIf } from '../../common/show-if/show-if'\n\nexport const ProfileAccessTokens: React.FC = () => {\n  const { t } = useTranslation()\n\n  const [error, setError] = useState(false)\n  const [showAddedModal, setShowAddedModal] = useState(false)\n  const [showDeleteModal, setShowDeleteModal] = useState(false)\n  const [accessTokens, setAccessTokens] = useState<AccessToken[]>([])\n  const [newTokenLabel, setNewTokenLabel] = useState('')\n  const [newTokenSecret, setNewTokenSecret] = useState('')\n  const [selectedForDeletion, setSelectedForDeletion] = useState(0)\n\n  const addToken = useCallback((event: FormEvent) => {\n    event.preventDefault()\n    postNewAccessToken(newTokenLabel)\n      .then(token => {\n        setNewTokenSecret(token.secret)\n        setShowAddedModal(true)\n        setNewTokenLabel('')\n      })\n      .catch(error => {\n        console.error(error)\n        setError(true)\n      })\n  }, [newTokenLabel])\n\n  const deleteToken = useCallback(() => {\n    deleteAccessToken(selectedForDeletion)\n      .then(() => {\n        setSelectedForDeletion(0)\n      })\n      .catch(error => {\n        console.error(error)\n        setError(true)\n      })\n      .finally(() => {\n        setShowDeleteModal(false)\n      })\n  }, [selectedForDeletion, setError])\n\n  const selectForDeletion = useCallback((timestamp: number) => {\n    setSelectedForDeletion(timestamp)\n    setShowDeleteModal(true)\n  }, [])\n\n  const newTokenSubmittable = useMemo(() => {\n    return newTokenLabel.trim().length > 0\n  }, [newTokenLabel])\n\n  useEffect(() => {\n    getAccessTokenList()\n      .then(tokens => {\n        setError(false)\n        setAccessTokens(tokens)\n      })\n      .catch(err => {\n        console.error(err)\n        setError(true)\n      })\n  }, [showAddedModal])\n\n  return (\n    <Fragment>\n      <Card className='bg-dark mb-4 access-tokens'>\n        <Card.Body>\n          <Card.Title>\n            <Trans i18nKey='profile.accessTokens.title'/>\n          </Card.Title>\n          <p className='text-start'><Trans i18nKey='profile.accessTokens.info'/></p>\n          <p className='text-start small'><Trans i18nKey='profile.accessTokens.infoDev'/></p>\n          <hr/>\n          <ShowIf condition={ accessTokens.length === 0 && !error }>\n            <Trans i18nKey='profile.accessTokens.noTokens'/>\n          </ShowIf>\n          <ShowIf condition={ error }>\n            <Trans i18nKey='common.errorOccurred'/>\n          </ShowIf>\n          <ListGroup>\n            {\n              accessTokens.map((token) => {\n                return (\n                  <ListGroup.Item className='bg-dark' key={ token.created }>\n                    <Row>\n                      <Col className='text-start'>\n                        { token.label }\n                      </Col>\n                      <Col className='text-start text-white-50'>\n                        <Trans i18nKey='profile.accessTokens.created' values={ {\n                          time: DateTime.fromSeconds(token.created)\n                                        .toRelative({\n                                          style: 'short'\n                                        })\n                        } }/>\n                      </Col>\n                      <Col xs='auto'>\n                        <IconButton icon='trash-o' variant='danger' onClick={ () => selectForDeletion(token.created) }/>\n                      </Col>\n                    </Row>\n                  </ListGroup.Item>\n                )\n              })\n            }\n          </ListGroup>\n          <hr/>\n          <Form onSubmit={ addToken } className='text-left'>\n            <Form.Row>\n              <Col>\n                <Form.Control\n                  type='text'\n                  size='sm'\n                  placeholder={ t('profile.accessTokens.label') }\n                  value={ newTokenLabel }\n                  className='bg-dark text-light'\n                  onChange={ (event: ChangeEvent<HTMLInputElement>) => setNewTokenLabel(event.target.value) }\n                  isValid={ newTokenSubmittable }\n                  required\n                />\n              </Col>\n              <Col xs={ 'auto' }>\n                <Button\n                  type='submit'\n                  variant='primary'\n                  size='sm'\n                  disabled={ !newTokenSubmittable }>\n                  <Trans i18nKey='profile.accessTokens.createToken'/>\n                </Button>\n              </Col>\n            </Form.Row>\n          </Form>\n        </Card.Body>\n      </Card>\n\n      <CommonModal show={ showAddedModal } onHide={ () => setShowAddedModal(false) }\n                   titleI18nKey='profile.modal.addedAccessToken.title'>\n        <Modal.Body>\n          <Trans i18nKey='profile.modal.addedAccessToken.message'/>\n          <br/>\n          <CopyableField content={ newTokenSecret }/>\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant='primary' onClick={ () => setShowAddedModal(false) }>\n            <Trans i18nKey='common.close'/>\n          </Button>\n        </Modal.Footer>\n      </CommonModal>\n\n      <DeletionModal\n        onConfirm={ deleteToken }\n        deletionButtonI18nKey={ 'common.delete' }\n        show={ showDeleteModal }\n        onHide={ () => setShowDeleteModal(false) }\n        titleI18nKey={ 'profile.modal.deleteAccessToken.title' }>\n        <Trans i18nKey='profile.modal.deleteAccessToken.message'/>\n      </DeletionModal>\n    </Fragment>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { Fragment, useEffect, useRef, useState } from 'react'\nimport { Button, Card, Modal } from 'react-bootstrap'\nimport { Trans, useTranslation } from 'react-i18next'\nimport { deleteUser } from '../../../api/me'\nimport { getApiUrl } from '../../../api/utils'\nimport { clearUser } from '../../../redux/user/methods'\nimport { ForkAwesomeIcon } from '../../common/fork-awesome/fork-awesome-icon'\n\nexport const ProfileAccountManagement: React.FC = () => {\n  useTranslation()\n  const [showDeleteModal, setShowDeleteModal] = useState(false)\n  const [deletionButtonActive, setDeletionButtonActive] = useState(false)\n  const [countdown, setCountdown] = useState(0)\n  const interval = useRef<NodeJS.Timeout>()\n\n  const stopCountdown = (): void => {\n    if (interval.current) {\n      clearTimeout(interval.current)\n    }\n  }\n\n  const startCountdown = (): void => {\n    interval.current = setInterval(() => {\n      setCountdown((oldValue) => oldValue - 1)\n    }, 1000)\n  }\n\n  const handleModalClose = () => {\n    setShowDeleteModal(false)\n    stopCountdown()\n  }\n\n  useEffect(() => {\n    if (!showDeleteModal) {\n      return\n    }\n    if (countdown === 0) {\n      setDeletionButtonActive(true)\n      stopCountdown()\n    }\n  }, [countdown, showDeleteModal])\n\n  const handleModalOpen = () => {\n    setShowDeleteModal(true)\n    setDeletionButtonActive(false)\n    setCountdown(10)\n    startCountdown()\n  }\n\n  const deleteUserAccount = async () => {\n    await deleteUser()\n    clearUser()\n  }\n\n  return (\n    <Fragment>\n      <Card className=\"bg-dark mb-4\">\n        <Card.Body>\n          <Card.Title><Trans i18nKey=\"profile.accountManagement\"/></Card.Title>\n          <Button variant=\"secondary\" block href={ getApiUrl() + '/me/export' } className=\"mb-2\">\n            <ForkAwesomeIcon icon=\"cloud-download\" fixedWidth={ true } className=\"mx-2\"/>\n            <Trans i18nKey=\"profile.exportUserData\"/>\n          </Button>\n          <Button variant=\"danger\" block onClick={ handleModalOpen }>\n            <ForkAwesomeIcon icon=\"trash\" fixedWidth={ true } className=\"mx-2\"/>\n            <Trans i18nKey=\"profile.deleteUser\"/>\n          </Button>\n        </Card.Body>\n      </Card>\n\n      <Modal show={ showDeleteModal } onHide={ handleModalClose } animation={ true }>\n        <Modal.Body className=\"text-dark\">\n          <h3 dir=\"auto\"><Trans i18nKey=\"profile.modal.deleteUser.message\"/></h3>\n          <Trans i18nKey=\"profile.modal.deleteUser.subMessage\"/>\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"secondary\" onClick={ handleModalClose }>\n            <Trans i18nKey=\"common.close\"/>\n          </Button>\n          <Button variant=\"danger\" onClick={ deleteUserAccount } disabled={ !deletionButtonActive }>\n            { deletionButtonActive ? <Trans i18nKey={ 'profile.modal.deleteUser.title' }/> : countdown }\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    </Fragment>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { ChangeEvent, FormEvent, useState } from 'react'\nimport { Button, Card, Form } from 'react-bootstrap'\nimport { Trans, useTranslation } from 'react-i18next'\nimport { changePassword } from '../../../api/me'\n\nexport const ProfileChangePassword: React.FC = () => {\n  useTranslation()\n  const [oldPassword, setOldPassword] = useState('')\n  const [newPassword, setNewPassword] = useState('')\n  const [newPasswordAgain, setNewPasswordAgain] = useState('')\n  const [newPasswordValid, setNewPasswordValid] = useState(false)\n  const [newPasswordAgainValid, setNewPasswordAgainValid] = useState(false)\n\n  const regexPassword = /^[^\\s].{5,}$/\n\n  const onChangeNewPassword = (event: ChangeEvent<HTMLInputElement>) => {\n    setNewPassword(event.target.value)\n    setNewPasswordValid(regexPassword.test(event.target.value))\n    setNewPasswordAgainValid(event.target.value === newPasswordAgain)\n  }\n\n  const onChangeNewPasswordAgain = (event: ChangeEvent<HTMLInputElement>) => {\n    setNewPasswordAgain(event.target.value)\n    setNewPasswordAgainValid(event.target.value === newPassword)\n  }\n\n  const updatePasswordSubmit = async (event: FormEvent) => {\n    await changePassword(oldPassword, newPassword)\n    event.preventDefault()\n  }\n\n  return (\n    <Card className=\"bg-dark mb-4\">\n      <Card.Body>\n        <Card.Title><Trans i18nKey=\"profile.changePassword.title\"/></Card.Title>\n        <Form onSubmit={ updatePasswordSubmit } className=\"text-left\">\n          <Form.Group controlId=\"oldPassword\">\n            <Form.Label><Trans i18nKey=\"profile.changePassword.old\"/></Form.Label>\n            <Form.Control\n              type=\"password\"\n              size=\"sm\"\n              className=\"bg-dark text-light\"\n              required\n              onChange={ (event) => setOldPassword(event.target.value) }\n            />\n          </Form.Group>\n          <Form.Group controlId=\"newPassword\">\n            <Form.Label><Trans i18nKey=\"profile.changePassword.new\"/></Form.Label>\n            <Form.Control\n              type=\"password\"\n              size=\"sm\"\n              className=\"bg-dark text-light\"\n              required\n              onChange={ onChangeNewPassword }\n              isValid={ newPasswordValid }\n            />\n            <Form.Text><Trans i18nKey=\"profile.changePassword.info\"/></Form.Text>\n          </Form.Group>\n          <Form.Group controlId=\"newPasswordAgain\">\n            <Form.Label><Trans i18nKey=\"profile.changePassword.newAgain\"/></Form.Label>\n            <Form.Control\n              type=\"password\"\n              size=\"sm\"\n              className=\"bg-dark text-light\"\n              required\n              onChange={ onChangeNewPasswordAgain }\n              isValid={ newPasswordAgainValid }\n              isInvalid={ newPasswordAgain !== '' && !newPasswordAgainValid }\n            />\n          </Form.Group>\n\n          <Button\n            type=\"submit\"\n            variant=\"primary\"\n            disabled={ !newPasswordValid || !newPasswordAgainValid }>\n            <Trans i18nKey=\"common.save\"/>\n          </Button>\n        </Form>\n      </Card.Body>\n    </Card>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { ChangeEvent, FormEvent, useEffect, useState } from 'react'\nimport { Alert, Button, Card, Form } from 'react-bootstrap'\nimport { Trans, useTranslation } from 'react-i18next'\nimport { useSelector } from 'react-redux'\nimport { updateDisplayName } from '../../../api/me'\nimport { ApplicationState } from '../../../redux'\nimport { getAndSetUser } from '../../login-page/auth/utils'\n\nexport const ProfileDisplayName: React.FC = () => {\n  const regexInvalidDisplayName = /^\\s*$/\n  const { t } = useTranslation()\n  const userName = useSelector((state: ApplicationState) => state.user?.name)\n  const [submittable, setSubmittable] = useState(false)\n  const [error, setError] = useState(false)\n  const [displayName, setDisplayName] = useState('')\n\n  useEffect(() => {\n    if (userName !== undefined) {\n      setDisplayName(userName)\n    }\n  }, [userName])\n\n  if (!userName) {\n    return <Alert variant={ 'danger' }>User not logged in</Alert>\n  }\n\n  const changeNameField = (event: ChangeEvent<HTMLInputElement>) => {\n    setSubmittable(!regexInvalidDisplayName.test(event.target.value))\n    setDisplayName(event.target.value)\n  }\n\n  const doAsyncChange = async () => {\n    await updateDisplayName(displayName)\n    await getAndSetUser()\n  }\n\n  const changeNameSubmit = (event: FormEvent) => {\n    doAsyncChange()\n      .catch(() => setError(true))\n    event.preventDefault()\n  }\n\n  return (\n    <Card className=\"bg-dark mb-4\">\n      <Card.Body>\n        <Card.Title>\n          <Trans i18nKey=\"profile.userProfile\"/>\n        </Card.Title>\n        <Form onSubmit={ changeNameSubmit } className=\"text-left\">\n          <Form.Group controlId=\"displayName\">\n            <Form.Label><Trans i18nKey=\"profile.displayName\"/></Form.Label>\n            <Form.Control\n              type=\"text\"\n              size=\"sm\"\n              placeholder={ t('profile.displayName') }\n              value={ displayName }\n              className=\"bg-dark text-light\"\n              onChange={ changeNameField }\n              isValid={ submittable }\n              isInvalid={ error }\n              required\n            />\n            <Form.Text><Trans i18nKey=\"profile.displayNameInfo\"/></Form.Text>\n          </Form.Group>\n\n          <Button\n            type=\"submit\"\n            variant=\"primary\"\n            disabled={ !submittable }>\n            <Trans i18nKey=\"common.save\"/>\n          </Button>\n        </Form>\n      </Card.Body>\n    </Card>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { Fragment } from 'react'\nimport { Col, Row } from 'react-bootstrap'\nimport { useSelector } from 'react-redux'\nimport { Redirect } from 'react-router'\nimport { ApplicationState } from '../../redux'\nimport { LoginProvider } from '../../redux/user/types'\nimport { ShowIf } from '../common/show-if/show-if'\nimport { ProfileAccessTokens } from './access-tokens/profile-access-tokens'\nimport { ProfileAccountManagement } from './settings/profile-account-management'\nimport { ProfileChangePassword } from './settings/profile-change-password'\nimport { ProfileDisplayName } from './settings/profile-display-name'\n\nexport const ProfilePage: React.FC = () => {\n  const userProvider = useSelector((state: ApplicationState) => state.user?.provider)\n\n  if (!userProvider) {\n    return (\n      <Redirect to={ '/login' }/>\n    )\n  }\n\n  return <Fragment>\n    <div className=\"my-3\">\n      <Row className=\"h-100 flex justify-content-center\">\n        <Col lg={ 6 }>\n          <ProfileDisplayName/>\n          <ShowIf condition={ userProvider === LoginProvider.INTERNAL }>\n            <ProfileChangePassword/>\n          </ShowIf>\n          <ProfileAccessTokens/>\n          <ProfileAccountManagement/>\n        </Col>\n      </Row>\n    </div>\n  </Fragment>\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\n// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst localhostRegex = /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n  // [::1] is the IPv6 localhost address.\n  window.location.hostname === '[::1]' ||\n  // 127.0.0.0/8 are considered localhost for IPv4.\n  localhostRegex.exec(window.location.hostname)\n)\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config): void {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${ process.env.PUBLIC_URL }/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n            'worker. To learn more, visit https://cra.link/PWA'\n          )\n        })\n                 .catch((error: Error) => console.error(error))\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n           .register(swUrl)\n           .then((registration) => {\n             registration.onupdatefound = () => {\n               const installingWorker = registration.installing\n               if (installingWorker == null) {\n                 return\n               }\n               installingWorker.onstatechange = () => {\n                 if (installingWorker.state === 'installed') {\n                   if (navigator.serviceWorker.controller) {\n                     // At this point, the updated precached content has been fetched,\n                     // but the previous service worker will still serve the older\n                     // content until all client tabs are closed.\n                     console.log(\n                       'New content is available and will be used when all ' +\n                       'tabs for this page are closed. See https://cra.link/PWA.'\n                     )\n\n                     // Execute callback\n                     if (config && config.onUpdate) {\n                       config.onUpdate(registration)\n                     }\n                   } else {\n                     // At this point, everything has been precached.\n                     // It's the perfect time to display a\n                     // \"Content is cached for offline use.\" message.\n                     console.log('Content is cached for offline use.')\n\n                     // Execute callback\n                     if (config && config.onSuccess) {\n                       config.onSuccess(registration)\n                     }\n                   }\n                 }\n               }\n             }\n           })\n           .catch((error) => {\n             console.error('Error during service worker registration:', error)\n           })\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type')\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister()\n                      .then(() => {\n                        window.location.reload()\n                      })\n                      .catch((error: Error) => console.error(error))\n        })\n                 .catch((error: Error) => console.error(error))\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.')\n    })\n}\n\nexport function unregister(): void {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n             .then((registration) => {\n               registration.unregister()\n                           .catch((error: Error) => console.error(error))\n             })\n             .catch((error: Error) => {\n               console.error(error.message)\n             })\n  }\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\nimport { BrowserRouter as Router, Redirect, Route, Switch } from 'react-router-dom'\nimport { ApplicationLoader } from './components/application-loader/application-loader'\nimport { NotFoundErrorScreen } from './components/common/routing/not-found-error-screen'\nimport { Redirector } from './components/common/routing/redirector'\nimport { ErrorBoundary } from './components/error-boundary/error-boundary'\nimport { HistoryPage } from './components/history-page/history-page'\nimport { IntroPage } from './components/intro-page/intro-page'\nimport { LandingLayout } from './components/landing-layout/landing-layout'\nimport { LoginPage } from './components/login-page/login-page'\nimport { ProfilePage } from './components/profile-page/profile-page'\nimport { RegisterPage } from './components/register-page/register-page'\nimport { store } from './redux'\nimport * as serviceWorkerRegistration from './service-worker-registration'\nimport './style/dark.scss'\nimport './style/index.scss'\nimport { isTestMode } from './utils/is-test-mode'\n\nconst EditorPage = React.lazy(() => import(/* webpackPrefetch: true *//* webpackChunkName: \"editor\" */ './components/editor-page/editor-page'))\nconst RenderPage = React.lazy(() => import (/* webpackPrefetch: true *//* webpackChunkName: \"renderPage\" */ './components/render-page/render-page'))\nconst DocumentReadOnlyPage = React.lazy(() => import (/* webpackPrefetch: true *//* webpackChunkName: \"documentReadOnly\" */ './components/document-read-only-page/document-read-only-page'))\n\nReactDOM.render(\n  <Provider store={ store }>\n    <Router>\n      <ApplicationLoader>\n        <ErrorBoundary>\n          <Switch>\n            <Route path=\"/history\">\n              <LandingLayout>\n                <HistoryPage/>\n              </LandingLayout>\n            </Route>\n            <Route path=\"/intro\">\n              <LandingLayout>\n                <IntroPage/>\n              </LandingLayout>\n            </Route>\n            <Route path=\"/login\">\n              <LandingLayout>\n                <LoginPage/>\n              </LandingLayout>\n            </Route>\n            <Route path=\"/register\">\n              <LandingLayout>\n                <RegisterPage/>\n              </LandingLayout>\n            </Route>\n            <Route path=\"/profile\">\n              <LandingLayout>\n                <ProfilePage/>\n              </LandingLayout>\n            </Route>\n            <Route path=\"/render\">\n              <RenderPage/>\n            </Route>\n            <Route path=\"/n/:id\">\n              <EditorPage/>\n            </Route>\n            <Route path=\"/s/:id\">\n              <DocumentReadOnlyPage/>\n            </Route>\n            <Route path=\"/:id\">\n              <Redirector/>\n            </Route>\n            <Route path=\"/\">\n              <Redirect to=\"/intro\"/>\n            </Route>\n            <Route>\n              <NotFoundErrorScreen/>\n            </Route>\n          </Switch>\n        </ErrorBoundary>\n      </ApplicationLoader>\n    </Router>\n  </Provider>\n  , document.getElementById('root')\n)\n\nif (isTestMode()) {\n  console.log('This build runs in test mode. This means:\\n - no sandboxed iframe')\n}\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorkerRegistration.unregister()\n\n"],"sourceRoot":""}