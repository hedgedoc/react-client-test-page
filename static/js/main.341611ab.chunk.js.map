{"version":3,"sources":["api/utils.ts","components/common/fork-awesome/fork-awesome-icon.tsx","hooks/common/use-application-state.ts","components/common/show-if/show-if.tsx","redux/api-url/reducers.ts","redux/banner/reducers.ts","redux/config/reducers.ts","redux/dark-mode/reducers.ts","redux/editor/reducers.ts","redux/ui-notifications/reducers.ts","redux/renderer-status/reducers.ts","redux/index.ts","redux/user/reducers.ts","redux/history/reducers.ts","redux/history/types.ts","api/history/index.ts","api/history/dto-methods.ts","redux/history/methods.ts","redux/ui-notifications/methods.ts","components/render-page/rendering-message.ts","utils/test-modes.ts","components/common/links/external-link.tsx","components/login-page/auth/utils.ts","redux/editor/types.ts","api/auth/index.ts","redux/editor/methods.ts","components/common/modals/common-modal.tsx","components/common/links/translated-external-link.tsx","api/me/index.ts","redux/user/types.ts","redux/user/methods.ts","components/common/modals/deletion-modal.tsx","redux/note-details/types.ts","redux/ui-notifications/types.ts","redux/dark-mode/methods.ts","redux/banner/methods.ts","components/render-page/iframe-editor-to-renderer-communicator.ts","components/editor-page/render-context/iframe-editor-to-renderer-communicator-context-provider.tsx","hooks/common/use-customize-assets-url.ts","components/common/copyable/copyable-field/copyable-field.tsx","components/landing-layout/navigation/sign-in-button.tsx","api/notes/index.ts","hooks/common/use-backend-base-url.ts","redux/api-url/types.ts","redux/banner/types.ts","redux/config/types.ts","redux/dark-mode/types.ts","redux/renderer-status/types.ts","components/application-loader/initializers/fetch-and-set-banner.ts","components/register-page/register-page.tsx","components/common/hedge-doc-logo/logo_text_bw_horizontal.svg","components/common/hedge-doc-logo/logo_text_color_vertical.svg","components/common/hedge-doc-logo/logo_text_wb_horizontal.svg","components/common/hedge-doc-logo/hedge-doc-logo-with-text.tsx","components/editor-page/note-frontmatter/note-frontmatter.ts","hooks/common/use-is-dark-mode-activated.ts","components/editor-page/app-bar/editor-view-mode.tsx","components/common/user-avatar/user-avatar.tsx","components/common/download/download.ts","hooks/common/use-frontend-base-url.ts","components/common/motd-banner/motd-banner.tsx","components/common/links/internal-link.tsx","components/common/copyable/copy-overlay.tsx","components/markdown-renderer/replace-components/image/proxy-image-frame.tsx","components/markdown-renderer/replace-components/image/image-lightbox-modal.tsx","components/editor-page/renderer-pane/show-on-prop-change-image-lightbox.tsx","redux/renderer-status/methods.ts","components/editor-page/renderer-pane/render-iframe.tsx","components/editor-page/renderer-pane/hooks/use-on-iframe-load.ts","api/notes/dto-methods.ts","redux/note-details/reducers.ts","hooks/common/use-document-title.ts","components/common/links/translated-internal-link.tsx","components/landing-layout/navigation/user-dropdown.tsx","components/common/branding/branding.tsx","components/render-page/iframe-communicator.ts","api/media/index.ts","components/common/wait-spinner/wait-spinner.tsx","components/notifications/ui-notification-toast.tsx","components/notifications/ui-notifications.tsx","components/common/hedge-doc-logo/logo_color.svg","components/application-loader/initializers/i18n.ts","api/config/index.ts","redux/config/methods.ts","components/application-loader/initializers/fetch-frontend-config.ts","components/application-loader/initializers/index.ts","redux/api-url/methods.ts","components/common/hedge-doc-logo/hedge-doc-logo.tsx","components/history-page/sort-button/sort-button.tsx","components/application-loader/loading-screen.tsx","components/application-loader/application-loader.tsx","hooks/common/use-frontend-assets-url.ts","components/landing-layout/footer/language-picker.tsx","components/landing-layout/footer/version-info/version-info-modal-column.tsx","components/landing-layout/footer/version-info/version-info-modal.tsx","components/landing-layout/footer/version-info/version-info-link.tsx","components/landing-layout/footer/powered-by-links.tsx","components/landing-layout/footer/social-links.tsx","components/landing-layout/footer/footer.tsx","components/landing-layout/navigation/header-nav-link.tsx","components/landing-layout/navigation/new-guest-note-button.tsx","components/landing-layout/navigation/new-user-note-button.tsx","components/landing-layout/navigation/header-bar/header-bar.tsx","components/landing-layout/landing-layout.tsx","components/common/routing/not-found-error-screen.tsx","components/common/routing/redirector.tsx","components/error-boundary/error-boundary.tsx","components/common/pagination/pager-item.tsx","components/common/pagination/pager-pagination.tsx","components/common/pagination/pager.tsx","components/history-page/entry-menu/dropdown-item-with-deletion-modal.tsx","components/history-page/entry-menu/delete-note-item.tsx","components/history-page/entry-menu/remove-note-entry-item.tsx","components/history-page/entry-menu/entry-menu.tsx","components/history-page/pin-button/pin-button.tsx","components/common/icon-button/icon-button.tsx","components/history-page/history-toolbar/history-toolbar.tsx","components/history-page/utils.ts","components/history-page/history-card/history-card.tsx","components/history-page/history-card/history-card-list.tsx","components/history-page/history-table/history-table-row.tsx","components/history-page/history-table/history-table.tsx","components/history-page/history-toolbar/clear-history-button.tsx","components/history-page/history-toolbar/export-history-button.tsx","components/common/modals/error-modal.tsx","components/history-page/history-toolbar/import-history-button.tsx","components/login-page/auth/via-one-click.tsx","components/history-page/history-content/history-content.tsx","components/history-page/history-page.tsx","components/intro-page/cover-buttons/cover-buttons.tsx","components/intro-page/feature-links.tsx","components/intro-page/requests.ts","components/intro-page/intro-page.tsx","components/intro-page/hooks/use-intro-page-content.ts","components/login-page/auth/via-internal.tsx","components/login-page/auth/via-ldap.tsx","components/login-page/auth/social-link-button/social-link-button.tsx","components/login-page/auth/via-openid.tsx","components/login-page/login-page.tsx","api/tokens/index.ts","components/profile-page/access-tokens/profile-access-tokens.tsx","components/profile-page/settings/profile-account-management.tsx","components/profile-page/settings/profile-change-password.tsx","components/profile-page/settings/profile-display-name.tsx","components/profile-page/profile-page.tsx","service-worker-registration.ts","index.tsx"],"names":["defaultFetchConfig","mode","cache","credentials","headers","redirect","referrerPolicy","method","getApiUrl","store","getState","apiUrl","expectResponseCode","response","code","status","Error","ForkAwesomeIcon","icon","fixedWidth","size","className","stacked","fixedWithClass","sizeClass","stackClass","extraClasses","useApplicationState","selector","checkForEquality","useSelector","equal","ShowIf","children","condition","initialState","text","undefined","lastModified","allowAnonymous","allowRegister","authProviders","facebook","github","twitter","gitlab","dropbox","ldap","google","saml","oauth2","internal","openid","branding","name","logo","customAuthNames","maxDocumentLength","useImageProxy","plantumlServer","specialUrls","privacy","termsOfUse","imprint","version","major","minor","patch","iframeCommunication","editorOrigin","rendererOrigin","getInitialState","initialMode","loadFromLocalStorage","determineDarkModeBrowserSetting","darkMode","saveToLocalStorage","editorMode","EditorMode","BOTH","ligatures","syncScroll","smartPaste","preferences","theme","keyMap","indentUnit","indentWithTabs","dismissNotification","notificationState","notificationIndex","newArray","oldNotification","dismissed","rendererReady","allReducers","combineReducers","user","state","action","type","UserActionType","SET_USER","CLEAR_USER","config","ConfigActionType","SET_CONFIG","banner","BannerActionType","SET_BANNER","ApiUrlActionType","SET_API_URL","history","HistoryActionType","SET_ENTRIES","entries","UPDATE_ENTRY","filter","entry","identifier","noteId","newEntry","REMOVE_ENTRY","editorConfig","newState","EditorConfigActionType","SET_EDITOR_VIEW_MODE","SET_SYNC_SCROLL","SET_LIGATURES","SET_SMART_PASTE","MERGE_EDITOR_PREFERENCES","darkModeConfigState","DarkModeConfigActionType","SET_DARK_MODE","noteDetails","NoteDetailsReducer","uiNotifications","UiNotificationActionType","DISPATCH_NOTIFICATION","concat","notification","DISMISS_NOTIFICATION","notificationId","rendererStatus","RendererStatusActionType","SET_RENDERER_STATUS","createStore","HistoryEntryOrigin","getHistory","a","fetch","json","postHistory","body","JSON","stringify","updateHistoryEntryPinStatus","deleteHistoryEntry","deleteHistory","historyEntryDtoToHistoryEntry","entryDto","origin","REMOTE","title","pinStatus","tags","lastVisited","historyEntryToHistoryEntryPutDto","note","setHistoryEntries","dispatch","storeLocalHistory","importHistoryEntries","storeRemoteHistory","deleteAllHistoryEntries","updateHistoryEntryRedux","updateLocalHistoryEntry","removeHistoryEntry","entryToDelete","find","toggleHistoryEntryPinning","entryToUpdate","Promise","reject","LOCAL","historyUpdateDto","downloadHistory","forEach","download","Date","now","mergeHistoryEntries","b","entryA","some","entryB","convertV1History","oldHistory","map","id","DateTime","fromMillis","time","toISO","pinned","refreshHistoryState","localEntries","loadLocalHistory","loadRemoteHistory","remoteEntries","allEntries","entriesWithoutOrigin","window","localStorage","setItem","resolve","remoteEntryDtos","localV1Json","getItem","localV1History","parse","removeItem","error","console","String","localJson","localHistory","remoteHistory","DEFAULT_DURATION_IN_SECONDS","dispatchUiNotification","content","durationInSecond","buttons","date","dismissUiNotification","showErrorNotification","message","i18n","t","RenderIframeMessageType","RendererType","isTestMode","process","REACT_APP_TEST_MODE","isMockMode","REACT_APP_BACKEND_BASE_URL","ExternalLink","href","target","rel","dir","fetchAndSetUser","getMe","me","setUser","photo","provider","INTERACTIVE_LOGIN_METHODS","doInternalLogin","username","password","doInternalRegister","RegisterError","USERNAME_EXISTING","doLdapLogin","doOpenIdLogin","openId","stored","_","e","setEditorMode","setEditorSyncScroll","setEditorLigatures","setEditorSmartPaste","mergeEditorPreferences","CommonModal","show","onHide","titleI18nKey","closeButton","additionalClasses","props","useTranslation","data-cy","animation","dialogClassName","Header","Title","i18nKey","TranslatedExternalLink","i18nOption","updateDisplayName","displayName","changePassword","oldPassword","newPassword","deleteUser","LoginProvider","clearUser","getUser","DeletionModal","onConfirm","deletionButtonI18nKey","Body","Footer","variant","onClick","NoteDetailsActionType","setDarkMode","darkModeConfig","storedValue","matchMedia","matches","setBanner","IframeEditorToRendererCommunicator","onSetScrollSourceToRendererHandler","onTaskCheckboxChangeHandler","onFirstHeadingChangeHandler","onFrontmatterChangeHandler","onSetScrollStateHandler","onRendererReadyHandler","onImageClickedHandler","onHeightChangeHandler","onWordCountCalculatedHandler","handler","this","baseConfiguration","sendMessageToOtherSide","SET_BASE_CONFIGURATION","markdownContent","SET_MARKDOWN_CONTENT","darkModeActivated","SET_DARKMODE","activated","scrollState","SET_SCROLL_STATE","GET_WORD_COUNT","event","renderMessage","data","RENDERER_READY","enableCommunication","SET_SCROLL_SOURCE_TO_RENDERER","ON_FIRST_HEADING_CHANGE","firstHeading","ON_TASK_CHECKBOX_CHANGE","lineInMarkdown","checked","ON_SET_FRONTMATTER","frontmatter","IMAGE_CLICKED","details","ON_HEIGHT_CHANGE","height","ON_WORD_COUNT_CALCULATED","words","IframeCommunicator","IFrameEditorToRendererCommunicatorContext","createContext","useIFrameEditorToRendererCommunicator","communicatorFromContext","useContext","IframeEditorToRendererCommunicatorContextProvider","currentIFrameCommunicator","useMemo","Provider","value","useCustomizeAssetsUrl","backendBaseUrl","useBackendBaseUrl","REACT_APP_CUSTOMIZE_ASSETS_URL","CopyableField","nativeShareButton","url","copyButton","useRef","doShareAction","useCallback","navigator","share","catch","err","sharingSupported","readOnly","Append","ref","clickComponent","SignInButton","authEnabled","Object","values","includes","loginLink","activeProviders","activeOneClickProviders","length","to","getNote","deleteNote","BANNER_LOCAL_STORAGE_KEY","fetchAndSetBanner","customizeAssetsUrl","cachedLastModified","bannerUrl","get","bannerText","warn","RegisterPage","userExists","useState","setUsername","setPassword","passwordAgain","setPasswordAgain","NONE","setError","ready","setReady","doRegisterSubmit","then","OTHER","preventDefault","useEffect","lg","onSubmit","Group","controlId","Label","Control","isValid","onChange","placeholder","autoComplete","autoFocus","required","Text","minLength","isInvalid","block","disabled","_g","_excluded","_extends","assign","i","arguments","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgLogoTextBwHorizontal","_ref","svgRef","titleId","clipRule","fillRule","strokeLinejoin","strokeMiterlimit","viewBox","width","xmlns","transform","d","fill","strokeWidth","_linearGradient","_g2","ForwardRef","SvgLogoTextColorVertical","gradientTransform","gradientUnits","x1","x2","y1","y2","offset","stopColor","SvgLogoTextWbHorizontal","stroke","HedgeDocLogoSize","HedgeDocLogoType","HedgeDocLogoWithText","MEDIUM","logoType","COLOR_VERTICAL","style","BW_HORIZONTAL","WB_HORIZONTAL","NoteType","NoteTextDirection","ISO6391","NoteFrontmatter","rawData","description","deprecatedTagsSyntax","robots","lang","breaks","GA","disqus","opengraph","DOCUMENT","LTR","split","trim","tag","Map","useIsDarkModeActivated","EditorViewMode","PREVIEW","EDITOR","UserAvatar","showName","src","alt","fileName","mimeType","file","Blob","downloadLink","URL","createObjectURL","helperElement","document","createElement","appendChild","click","setTimeout","remove","useFrontendBaseUrl","pathname","useLocation","location","cleanedPathName","replace","protocol","host","MotdBanner","bannerState","dismissBanner","InternalLink","CopyOverlay","showCopiedTooltip","setShowCopiedTooltip","uuid","tooltipId","copyToClipboard","clipboard","writeText","finally","current","addEventListener","clickComponentSaved","removeEventListener","placement","ProxyImageFrame","imageUrl","setImageUrl","imageProxyEnabled","getProxiedUrl","proxyResponse","ImageLightboxModal","Modal","centered","ShowOnPropChangeImageLightbox","setShow","hideLightbox","setRendererStatus","RenderIframe","onTaskCheckedChange","onFrontmatterChange","onFirstHeadingChange","onScroll","onMakeScrollSource","frameClasses","rendererType","forcedDarkMode","savedDarkMode","lightboxDetails","setLightboxDetails","frameReference","renderPageUrl","resetRendererReady","iframeCommunicator","onIframeLoad","onNavigateAway","sendToRenderPage","frame","contentWindow","setMessageTarget","unsetMessageTarget","useOnIframeLoad","frameHeight","setFrameHeight","unregisterEventListener","onSetScrollState","onSetScrollSourceToRenderer","onTaskCheckboxChange","onImageClicked","onHeightChange","onRendererReady","sendSetBaseConfiguration","baseUrl","toString","sendSetDarkmode","oldScrollState","sendScrollState","sendSetMarkdownContent","onLoad","sandbox","data-content-ready","noteDtoToNoteDetails","metadata","noteTitle","createTime","fromISO","lastChange","userName","updateUser","timestamp","updateTime","viewCount","alias","authorship","editedBy","fromSeconds","SET_DOCUMENT_CONTENT","UPDATE_NOTE_TITLE_BY_FIRST_HEADING","generateNoteTitle","SET_NOTE_DATA_FROM_SERVER","SET_NOTE_FRONTMATTER","SET_CHECKBOX_IN_MARKDOWN_CONTENT","setCheckboxInMarkdownContent","TASK_REGEX","lines","results","exec","before","after","join","useDocumentTitle","brandingName","TranslatedInternalLink","UserDropdown","alignRight","Toggle","Menu","Item","Branding","inline","delimiter","showBranding","brandingDom","IframeCommunicatorSendingError","messageTarget","targetOrigin","communicationEnabled","handleEvent","bind","otherSide","otherOrigin","postMessage","uploadFile","media","WaitSpinner","UiNotificationToast","eta","setEta","interval","deleteInterval","clearInterval","dismissThisNotification","debug","useLayoutEffect","setInterval","lastETA","buttonsDom","button","buttonIndex","Button","label","contentDom","lineNumber","Toast","onClose","toRelative","ProgressBar","max","min","UiNotifications","notifications","aria-live","aria-atomic","_path","setUpI18n","frontendAssetsUrl","use","Backend","LanguageDetector","initReactI18next","init","fallbackLng","backend","loadPath","interpolation","escapeValue","Settings","defaultLocale","language","getConfig","setConfig","fetchFrontendConfig","customDelay","createSetUpTaskList","setApiUrl","task","SvgLogoColor","SortModeEnum","HedgeDocLogo","LoadingScreen","failedTitle","BIG","Alert","ApplicationLoader","frontendBaseUrl","REACT_APP_FRONTEND_ASSETS_URL","useFrontendAssetsUrl","setUpTasks","setFailedTitle","doneTasks","setDoneTasks","initTasks","runTask","prevDoneTasks","reason","fallback","languages","en","fr","de","ja","es","ca","el","pt","it","tr","ru","nl","hr","pl","uk","hi","sv","eo","da","ko","sr","vi","ar","cs","sk","LanguagePicker","onChangeLang","currentTarget","changeLanguage","languageCode","wantedLanguage","supportedLanguage","substr","findLanguageCode","languageOptions","languageName","Form","as","VersionInfoModalColumn","issueTrackerLink","sourceCodeLink","Col","md","Trans","VersionInfoModal","serverVersion","backendVersion","preRelease","commit","Row","links","backendIssues","backendSourceCode","frontendVersion","issueTrackerUrl","sourceCodeUrl","VersionInfoLink","closeModal","showModal","PoweredByLinks","i18nkey","webpage","SocialLink","components","githubOrg","community","chat","mastodon","translate","HeaderNavLink","Nav","Link","NewGuestNoteButton","NewUserNoteButton","HeaderBar","Navbar","LandingLayout","Container","NotFoundErrorScreen","Redirector","useParams","noteFromAPI","ErrorBoundary","hasError","errorInfo","reload","refreshPage","_error","Component","PagerItem","index","role","PagerPagination","numberOfPageButtonsToShowAfterAndBeforeCurrent","onPageChange","lastPageIndex","pageIndex","setPageIndex","correctedPageIndex","Math","wantedUpperPageIndex","wantedLowerPageIndex","correctedLowerPageIndex","correctedUpperPageIndex","paginationItemsBefore","Array","from","k","itemIndex","paginationItemsAfter","Pagination","Ellipsis","active","Pager","numberOfElementsPerPage","onLastPageIndexChange","maxPageIndex","ceil","React","Children","count","toArray","floor","DropdownItemWithDeletionModal","modalTitleI18nKey","modalButtonI18nKey","itemI18nKey","modalIcon","modalQuestionI18nKey","modalWarningI18nKey","showDialog","setShowDialog","Dropdown","DeleteNoteItem","RemoveNoteEntryItem","EntryMenu","isDark","onRemove","onDelete","Divider","PinButton","isPinned","onPinClick","IconButton","iconFixedWidth","border","ViewStateEnum","getIcon","direction","no","up","down","SortButton","onDirectionChange","toggleDirection","formatHistoryDate","toFormat","filterBySelectedTags","selectedTags","arrayCommonCheck","array1","array2","element1","element2","filterByKeywordSearch","keywords","searchTerm","toLowerCase","sortEntries","viewState","sort","firstEntry","secondEntry","titleSortDirection","localeCompare","lastVisitedSortDirection","HistoryCard","onRemoveClick","onDeleteClick","Card","bg","Badge","HistoryCardList","HistoryTableRow","HistoryTable","Table","striped","bordered","hover","ClearHistoryButton","handleClose","ExportHistoryButton","ErrorModal","ImportHistoryButton","historyState","uploadInput","setFilename","setI18nKey","handleShow","onImportHistory","accept","validity","files","valid","fileReader","FileReader","onload","result","oldEntries","readAsText","OneClickType","initSortState","initToolbarState","CARD","keywordSearch","HistoryToolbar","onSettingsChange","historyEntries","allTags","flat","Set","previousState","useQueryState","searchState","setSearchState","tagsState","setTagsState","setViewState","sortState","setSortState","titleSortChanged","lastVisitedSortChanged","keywordSearchChanged","toggleViewChanged","newViewState","selectedTagsChanged","selected","refreshHistory","onUploadAllToRemote","InputGroup","options","multiple","FormControl","aria-label","ToggleButtonGroup","ToggleButton","TABLE","HistoryContent","setLastPageIndex","mapViewStateToComponent","HistoryPage","toolbarState","setToolbarState","entriesToShow","filteredBySelectedTagsEntries","filteredByKeywordSearchEntries","sortAndFilterEntries","CoverButtons","anyAuthProviderActivated","FeatureLinks","fetchFrontPageContent","IntroPage","introPageContent","setContent","useIntroPageContent","INTRO","ViaInternal","onLoginSubmit","service","ViaLdap","ldapCustomName","SocialLinkButton","backgroundClass","ViaOneClick","oneClickType","optionalName","backendUrl","buildBackendAuthUrlWithFirstParameterSet","backendName","buildBackendAuthUrl","DROPBOX","FACEBOOK","GITHUB","GITLAB","GOOGLE","OAUTH2","SAML","TWITTER","getMetadata","ViaOpenId","setOpenId","doAsyncLogin","LoginPage","customSamlAuthName","customOauthAuthName","userLoggedIn","oneClickProviders","oneClickCustomName","xs","sm","getAccessTokenList","postNewAccessToken","deleteAccessToken","ProfileAccessTokens","showAddedModal","setShowAddedModal","showDeleteModal","setShowDeleteModal","accessTokens","setAccessTokens","newTokenLabel","setNewTokenLabel","newTokenSecret","setNewTokenSecret","selectedForDeletion","setSelectedForDeletion","addToken","token","secret","deleteToken","selectForDeletion","newTokenSubmittable","tokens","ListGroup","created","ProfileAccountManagement","deletionButtonActive","setDeletionButtonActive","countdown","setCountdown","stopCountdown","clearTimeout","handleModalClose","deleteUserAccount","oldValue","ProfileChangePassword","setOldPassword","setNewPassword","newPasswordAgain","setNewPasswordAgain","newPasswordValid","setNewPasswordValid","newPasswordAgainValid","setNewPasswordAgainValid","regexPassword","updatePasswordSubmit","test","ProfileDisplayName","regexInvalidDisplayName","submittable","setSubmittable","setDisplayName","doAsyncChange","ProfilePage","userProvider","INTERNAL","Boolean","hostname","EditorPage","lazy","RenderPage","DocumentReadOnlyPage","head","baseURI","ReactDOM","render","basename","path","getElementById","log","serviceWorker","registration","unregister"],"mappings":"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EAAG,yIACHD,UAAW,0DACI,gBAAoB,IAAK,CACxCE,KAAM,QACQ,gBAAoB,OAAQ,CAC1CD,EAAG,qIACHD,UAAW,0DACI,gBAAoB,OAAQ,CAC3CC,EAAG,k/NACHE,YAAa,cAIjB,IC1DYe,EAWAC,ED+CR,EAA0B,aAAiBH,G,GAChC,I,gBC3DHE,O,kBAAAA,I,oBAAAA,I,gBAAAA,M,cAWAC,O,mCAAAA,I,iCAAAA,I,kCAAAA,M,KAML,IAAMC,EAAoD,SAAC,GAAkD,IAAD,IAA/Cxd,YAA+C,MAAxCsd,EAAiBG,OAAuB,EACjH,OADiH,EAAfC,UAEhG,KAAKH,EAAiBI,eACpB,OAAO,cAAC,EAAD,CAAmB1d,UAAW,SAAU8I,MAAO,0BAA2B6U,MAAO,CAAE/I,OAAQ7U,KACpG,KAAKud,EAAiBM,cACpB,OAAO,cAAC,EAAD,CAAkB5d,UAAW,SAAU8I,MAAO,0BAA2B6U,MAAO,CAAE/I,OAAQ7U,KACnG,KAAKud,EAAiBO,cACpB,OAAO,cAAC,EAAD,CAAkB7d,UAAW,SAAU8I,MAAO,0BAA2B6U,MAAO,CAAE/I,OAAQ7U,KACnG,QACE,OAAO,Q,4IC+LD+d,EAKAC,E,QAlNCC,EAAU,CACrB,KACA,KACA,KACA,KACA,KACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,KACA,KACA,QACA,QACA,QACA,QACA,MACA,KACA,KACA,KACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,KACA,KACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,QACA,QACA,QACA,QACA,QACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,QACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA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","file":"static/js/main.341611ab.chunk.js","sourcesContent":["/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { store } from '../redux'\n\nexport const defaultFetchConfig: Partial<RequestInit> = {\n  mode: 'cors',\n  cache: 'no-cache',\n  credentials: 'same-origin',\n  headers: {\n    'Content-Type': 'application/json'\n  },\n  redirect: 'follow',\n  referrerPolicy: 'no-referrer',\n  method: 'GET'\n}\n\nexport const getApiUrl = (): string => {\n  return store.getState().apiUrl.apiUrl\n}\n\nexport const expectResponseCode = (response: Response, code = 200): void => {\n  if (response.status !== code) {\n    throw new Error(`response code is not ${code}`)\n  }\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { IconName, IconSize } from './types'\n\nexport interface ForkAwesomeIconProps {\n  icon: IconName\n  className?: string\n  fixedWidth?: boolean\n  size?: IconSize\n  stacked?: boolean\n}\n\nexport const ForkAwesomeIcon: React.FC<ForkAwesomeIconProps> = ({\n  icon,\n  fixedWidth = false,\n  size,\n  className,\n  stacked = false\n}) => {\n  const fixedWithClass = fixedWidth ? 'fa-fw' : ''\n  const sizeClass = size ? `-${size}` : stacked ? '-1x' : ''\n  const stackClass = stacked ? '-stack' : ''\n  const extraClasses = `${className ?? ''} ${sizeClass || stackClass ? `fa${stackClass}${sizeClass}` : ''}`\n  return <i className={`fa ${fixedWithClass} fa-${icon} ${extraClasses}`} />\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { useSelector } from 'react-redux'\nimport { ApplicationState } from '../../redux'\nimport equal from 'fast-deep-equal'\n\n/**\n * Accesses the global application state to retrieve information.\n *\n * @param selector A selector function that extracts the needed information from the state.\n * @param checkForEquality An optional custom equality function. If not provided then {@link equal equal from fast-deep-equal} will be used.\n */\nexport const useApplicationState = <TSelected>(\n  selector: (state: ApplicationState) => TSelected,\n  checkForEquality?: (a: TSelected, b: TSelected) => boolean\n): TSelected => {\n  return useSelector<ApplicationState, TSelected>(selector, checkForEquality ? checkForEquality : equal)\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { Fragment } from 'react'\n\nexport interface ShowIfProps {\n  condition: boolean\n}\n\nexport const ShowIf: React.FC<ShowIfProps> = ({ children, condition }) => {\n  return condition ? <Fragment>{children}</Fragment> : null\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { Reducer } from 'redux'\nimport { ApiUrlActions, ApiUrlActionType, ApiUrlObject, SetApiUrlAction } from './types'\n\nexport const initialState: ApiUrlObject = {\n  apiUrl: ''\n}\n\nexport const ApiUrlReducer: Reducer<ApiUrlObject, ApiUrlActions> = (\n  state: ApiUrlObject = initialState,\n  action: ApiUrlActions\n) => {\n  switch (action.type) {\n    case ApiUrlActionType.SET_API_URL:\n      return (action as SetApiUrlAction).state\n    default:\n      return state\n  }\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { Reducer } from 'redux'\nimport { BannerActions, BannerActionType, BannerState, SetBannerAction } from './types'\n\nexport const initialState: BannerState = {\n  text: undefined,\n  lastModified: null\n}\n\nexport const BannerReducer: Reducer<BannerState, BannerActions> = (\n  state: BannerState = initialState,\n  action: BannerActions\n) => {\n  switch (action.type) {\n    case BannerActionType.SET_BANNER:\n      return (action as SetBannerAction).state\n    default:\n      return state\n  }\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { Reducer } from 'redux'\nimport { Config } from '../../api/config/types'\nimport { ConfigActions, ConfigActionType, SetConfigAction } from './types'\n\nexport const initialState: Config = {\n  allowAnonymous: true,\n  allowRegister: true,\n  authProviders: {\n    facebook: false,\n    github: false,\n    twitter: false,\n    gitlab: false,\n    dropbox: false,\n    ldap: false,\n    google: false,\n    saml: false,\n    oauth2: false,\n    internal: false,\n    openid: false\n  },\n  branding: {\n    name: '',\n    logo: ''\n  },\n  customAuthNames: {\n    ldap: '',\n    oauth2: '',\n    saml: ''\n  },\n  maxDocumentLength: 0,\n  useImageProxy: false,\n  plantumlServer: null,\n  specialUrls: {\n    privacy: '',\n    termsOfUse: '',\n    imprint: ''\n  },\n  version: {\n    major: -1,\n    minor: -1,\n    patch: -1\n  },\n  iframeCommunication: {\n    editorOrigin: '',\n    rendererOrigin: ''\n  }\n}\n\nexport const ConfigReducer: Reducer<Config, ConfigActions> = (state: Config = initialState, action: ConfigActions) => {\n  switch (action.type) {\n    case ConfigActionType.SET_CONFIG:\n      return (action as SetConfigAction).state\n    default:\n      return state\n  }\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { Reducer } from 'redux'\nimport { determineDarkModeBrowserSetting, loadFromLocalStorage, saveToLocalStorage } from './methods'\nimport { DarkModeConfig, DarkModeConfigActions, DarkModeConfigActionType, SetDarkModeConfigAction } from './types'\n\nexport const getInitialState = (): DarkModeConfig => {\n  const initialMode = loadFromLocalStorage() ??\n    determineDarkModeBrowserSetting() ?? {\n      darkMode: false\n    }\n  saveToLocalStorage(initialMode)\n  return initialMode\n}\n\nexport const DarkModeConfigReducer: Reducer<DarkModeConfig, DarkModeConfigActions> = (\n  state: DarkModeConfig = getInitialState(),\n  action: DarkModeConfigActions\n) => {\n  let darkModeConfigState: DarkModeConfig\n  switch (action.type) {\n    case DarkModeConfigActionType.SET_DARK_MODE:\n      darkModeConfigState = {\n        ...state,\n        darkMode: (action as SetDarkModeConfigAction).darkMode\n      }\n      saveToLocalStorage(darkModeConfigState)\n      return darkModeConfigState\n    default:\n      return state\n  }\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { Reducer } from 'redux'\nimport { EditorMode } from '../../components/editor-page/app-bar/editor-view-mode'\nimport { loadFromLocalStorage, saveToLocalStorage } from './methods'\nimport {\n  EditorConfig,\n  EditorConfigActions,\n  EditorConfigActionType,\n  SetEditorConfigAction,\n  SetEditorLigaturesAction,\n  SetEditorPreferencesAction,\n  SetEditorSmartPasteAction,\n  SetEditorSyncScrollAction\n} from './types'\n\nconst initialState: EditorConfig = {\n  editorMode: EditorMode.BOTH,\n  ligatures: true,\n  syncScroll: true,\n  smartPaste: true,\n  preferences: {\n    theme: 'one-dark',\n    keyMap: 'sublime',\n    indentUnit: 4,\n    indentWithTabs: false\n  }\n}\n\nconst getInitialState = (): EditorConfig => {\n  return { ...initialState, ...loadFromLocalStorage() }\n}\n\nexport const EditorConfigReducer: Reducer<EditorConfig, EditorConfigActions> = (\n  state: EditorConfig = getInitialState(),\n  action: EditorConfigActions\n) => {\n  let newState: EditorConfig\n  switch (action.type) {\n    case EditorConfigActionType.SET_EDITOR_VIEW_MODE:\n      newState = {\n        ...state,\n        editorMode: (action as SetEditorConfigAction).mode\n      }\n      saveToLocalStorage(newState)\n      return newState\n    case EditorConfigActionType.SET_SYNC_SCROLL:\n      newState = {\n        ...state,\n        syncScroll: (action as SetEditorSyncScrollAction).syncScroll\n      }\n      saveToLocalStorage(newState)\n      return newState\n    case EditorConfigActionType.SET_LIGATURES:\n      newState = {\n        ...state,\n        ligatures: (action as SetEditorLigaturesAction).ligatures\n      }\n      saveToLocalStorage(newState)\n      return newState\n    case EditorConfigActionType.SET_SMART_PASTE:\n      newState = {\n        ...state,\n        smartPaste: (action as SetEditorSmartPasteAction).smartPaste\n      }\n      saveToLocalStorage(newState)\n      return newState\n    case EditorConfigActionType.MERGE_EDITOR_PREFERENCES:\n      newState = {\n        ...state,\n        preferences: {\n          ...state.preferences,\n          ...(action as SetEditorPreferencesAction).preferences\n        }\n      }\n      saveToLocalStorage(newState)\n      return newState\n    default:\n      return state\n  }\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { Reducer } from 'redux'\nimport {\n  DismissUiNotificationAction,\n  DispatchUiNotificationAction,\n  UiNotificationAction,\n  UiNotificationActionType,\n  UiNotificationState\n} from './types'\n\nexport const UiNotificationReducer: Reducer<UiNotificationState, UiNotificationAction> = (\n  state: UiNotificationState = [],\n  action: UiNotificationAction\n) => {\n  switch (action.type) {\n    case UiNotificationActionType.DISPATCH_NOTIFICATION:\n      return state.concat((action as DispatchUiNotificationAction).notification)\n    case UiNotificationActionType.DISMISS_NOTIFICATION:\n      return dismissNotification(state, (action as DismissUiNotificationAction).notificationId)\n    default:\n      return state\n  }\n}\n\nconst dismissNotification = (\n  notificationState: UiNotificationState,\n  notificationIndex: number\n): UiNotificationState => {\n  const newArray = [...notificationState]\n  const oldNotification = newArray[notificationIndex]\n  newArray[notificationIndex] = {\n    ...oldNotification,\n    dismissed: true\n  }\n  return newArray\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { RendererStatus, RendererStatusActions, RendererStatusActionType } from './types'\nimport { Reducer } from 'redux'\n\nconst initialState: RendererStatus = {\n  rendererReady: false\n}\n\n/**\n * Applies {@link RendererStatusActions renderer status actions} to the global application state.\n *\n * @param state the current state\n * @param action the action that should get applied\n * @return The new changed state\n */\nexport const RendererStatusReducer: Reducer<RendererStatus, RendererStatusActions> = (\n  state: RendererStatus = initialState,\n  action: RendererStatusActions\n) => {\n  switch (action.type) {\n    case RendererStatusActionType.SET_RENDERER_STATUS:\n      return {\n        ...state,\n        rendererReady: action.rendererReady\n      }\n    default:\n      return state\n  }\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { combineReducers, createStore, Reducer } from 'redux'\nimport { Config } from '../api/config/types'\nimport { ApiUrlReducer } from './api-url/reducers'\nimport { ApiUrlObject } from './api-url/types'\nimport { BannerReducer } from './banner/reducers'\nimport { BannerState } from './banner/types'\nimport { ConfigReducer } from './config/reducers'\nimport { DarkModeConfigReducer } from './dark-mode/reducers'\nimport { DarkModeConfig } from './dark-mode/types'\nimport { EditorConfigReducer } from './editor/reducers'\nimport { EditorConfig } from './editor/types'\nimport { NoteDetailsReducer } from './note-details/reducers'\nimport { NoteDetails } from './note-details/types'\nimport { UserReducer } from './user/reducers'\nimport { MaybeUserState } from './user/types'\nimport { UiNotificationState } from './ui-notifications/types'\nimport { UiNotificationReducer } from './ui-notifications/reducers'\nimport { HistoryEntry } from './history/types'\nimport { HistoryReducer } from './history/reducers'\nimport { RendererStatusReducer } from './renderer-status/reducers'\nimport { RendererStatus } from './renderer-status/types'\n\nexport interface ApplicationState {\n  user: MaybeUserState\n  config: Config\n  banner: BannerState\n  history: HistoryEntry[]\n  apiUrl: ApiUrlObject\n  editorConfig: EditorConfig\n  darkMode: DarkModeConfig\n  noteDetails: NoteDetails\n  uiNotifications: UiNotificationState\n  rendererStatus: RendererStatus\n}\n\nexport const allReducers: Reducer<ApplicationState> = combineReducers<ApplicationState>({\n  user: UserReducer,\n  config: ConfigReducer,\n  banner: BannerReducer,\n  apiUrl: ApiUrlReducer,\n  history: HistoryReducer,\n  editorConfig: EditorConfigReducer,\n  darkMode: DarkModeConfigReducer,\n  noteDetails: NoteDetailsReducer,\n  uiNotifications: UiNotificationReducer,\n  rendererStatus: RendererStatusReducer\n})\n\nexport const store = createStore(allReducers)\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { Reducer } from 'redux'\nimport { MaybeUserState, SetUserAction, UserActions, UserActionType } from './types'\n\nexport const UserReducer: Reducer<MaybeUserState, UserActions> = (\n  state: MaybeUserState = null,\n  action: UserActions\n) => {\n  switch (action.type) {\n    case UserActionType.SET_USER:\n      return (action as SetUserAction).state\n    case UserActionType.CLEAR_USER:\n      return null\n    default:\n      return state\n  }\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { Reducer } from 'redux'\nimport {\n  HistoryAction,\n  HistoryActionType,\n  HistoryEntry,\n  RemoveEntryAction,\n  SetEntriesAction,\n  UpdateEntryAction\n} from './types'\n\n// Q: Why is the reducer initialized with an empty array instead of the actual history entries like in the config reducer?\n// A: The history reducer will be created without entries because of async entry retrieval.\n//    Entries will be added after reducer initialization.\n\nexport const HistoryReducer: Reducer<HistoryEntry[], HistoryAction> = (\n  state: HistoryEntry[] = [],\n  action: HistoryAction\n) => {\n  switch (action.type) {\n    case HistoryActionType.SET_ENTRIES:\n      return (action as SetEntriesAction).entries\n    case HistoryActionType.UPDATE_ENTRY:\n      return [\n        ...state.filter((entry) => entry.identifier !== (action as UpdateEntryAction).noteId),\n        (action as UpdateEntryAction).newEntry\n      ]\n    case HistoryActionType.REMOVE_ENTRY:\n      return state.filter((entry) => entry.identifier !== (action as RemoveEntryAction).noteId)\n    default:\n      return state\n  }\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { Action } from 'redux'\n\nexport enum HistoryEntryOrigin {\n  LOCAL,\n  REMOTE\n}\n\nexport interface HistoryEntry {\n  identifier: string\n  title: string\n  lastVisited: string\n  tags: string[]\n  pinStatus: boolean\n  origin: HistoryEntryOrigin\n}\n\nexport interface V1HistoryEntry {\n  id: string\n  text: string\n  time: number\n  tags: string[]\n  pinned: boolean\n}\n\nexport interface HistoryExportJson {\n  version: number\n  entries: HistoryEntry[]\n}\n\nexport enum HistoryActionType {\n  SET_ENTRIES = 'SET_ENTRIES',\n  ADD_ENTRY = 'ADD_ENTRY',\n  UPDATE_ENTRY = 'UPDATE_ENTRY',\n  REMOVE_ENTRY = 'REMOVE_ENTRY'\n}\n\nexport interface HistoryAction extends Action<HistoryActionType> {\n  type: HistoryActionType\n}\n\nexport interface SetEntriesAction extends HistoryAction {\n  type: HistoryActionType.SET_ENTRIES\n  entries: HistoryEntry[]\n}\n\nexport interface AddEntryAction extends HistoryAction {\n  type: HistoryActionType.ADD_ENTRY\n  newEntry: HistoryEntry\n}\n\nexport interface UpdateEntryAction extends HistoryAction {\n  type: HistoryActionType.UPDATE_ENTRY\n  noteId: string\n  newEntry: HistoryEntry\n}\n\nexport interface RemoveEntryAction extends HistoryEntry {\n  type: HistoryActionType.REMOVE_ENTRY\n  noteId: string\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { defaultFetchConfig, expectResponseCode, getApiUrl } from '../utils'\nimport { HistoryEntryDto, HistoryEntryPutDto, HistoryEntryUpdateDto } from './types'\n\nexport const getHistory = async (): Promise<HistoryEntryDto[]> => {\n  const response = await fetch(getApiUrl() + 'me/history')\n  expectResponseCode(response)\n  return (await response.json()) as Promise<HistoryEntryDto[]>\n}\n\nexport const postHistory = async (entries: HistoryEntryPutDto[]): Promise<void> => {\n  const response = await fetch(getApiUrl() + 'me/history', {\n    ...defaultFetchConfig,\n    method: 'POST',\n    body: JSON.stringify(entries)\n  })\n  expectResponseCode(response)\n}\n\nexport const updateHistoryEntryPinStatus = async (noteId: string, entry: HistoryEntryUpdateDto): Promise<void> => {\n  const response = await fetch(getApiUrl() + 'me/history/' + noteId, {\n    ...defaultFetchConfig,\n    method: 'PUT',\n    body: JSON.stringify(entry)\n  })\n  expectResponseCode(response)\n}\n\nexport const deleteHistoryEntry = async (noteId: string): Promise<void> => {\n  const response = await fetch(getApiUrl() + 'me/history/' + noteId, {\n    ...defaultFetchConfig,\n    method: 'DELETE'\n  })\n  expectResponseCode(response)\n}\n\nexport const deleteHistory = async (): Promise<void> => {\n  const response = await fetch(getApiUrl() + 'me/history', {\n    ...defaultFetchConfig,\n    method: 'DELETE'\n  })\n  expectResponseCode(response)\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { HistoryEntry, HistoryEntryOrigin } from '../../redux/history/types'\nimport { HistoryEntryDto, HistoryEntryPutDto, HistoryEntryUpdateDto } from './types'\n\nexport const historyEntryDtoToHistoryEntry = (entryDto: HistoryEntryDto): HistoryEntry => {\n  return {\n    origin: HistoryEntryOrigin.REMOTE,\n    title: entryDto.title,\n    pinStatus: entryDto.pinStatus,\n    identifier: entryDto.identifier,\n    tags: entryDto.tags,\n    lastVisited: entryDto.lastVisited\n  }\n}\n\nexport const historyEntryToHistoryEntryPutDto = (entry: HistoryEntry): HistoryEntryPutDto => {\n  return {\n    pinStatus: entry.pinStatus,\n    lastVisited: entry.lastVisited,\n    note: entry.identifier\n  }\n}\n\nexport const historyEntryToHistoryEntryUpdateDto = (entry: HistoryEntry): HistoryEntryUpdateDto => {\n  return {\n    pinStatus: entry.pinStatus\n  }\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { store } from '../index'\nimport {\n  HistoryActionType,\n  HistoryEntry,\n  HistoryEntryOrigin,\n  HistoryExportJson,\n  RemoveEntryAction,\n  SetEntriesAction,\n  UpdateEntryAction,\n  V1HistoryEntry\n} from './types'\nimport { download } from '../../components/common/download/download'\nimport { DateTime } from 'luxon'\nimport {\n  deleteHistory,\n  deleteHistoryEntry,\n  getHistory,\n  postHistory,\n  updateHistoryEntryPinStatus\n} from '../../api/history'\nimport {\n  historyEntryDtoToHistoryEntry,\n  historyEntryToHistoryEntryPutDto,\n  historyEntryToHistoryEntryUpdateDto\n} from '../../api/history/dto-methods'\n\nexport const setHistoryEntries = (entries: HistoryEntry[]): void => {\n  store.dispatch({\n    type: HistoryActionType.SET_ENTRIES,\n    entries\n  } as SetEntriesAction)\n  storeLocalHistory()\n}\n\nexport const importHistoryEntries = (entries: HistoryEntry[]): Promise<void> => {\n  setHistoryEntries(entries)\n  return storeRemoteHistory()\n}\n\nexport const deleteAllHistoryEntries = (): Promise<void> => {\n  store.dispatch({\n    type: HistoryActionType.SET_ENTRIES,\n    entries: []\n  })\n  storeLocalHistory()\n  return deleteHistory()\n}\n\nexport const updateHistoryEntryRedux = (noteId: string, newEntry: HistoryEntry): void => {\n  store.dispatch({\n    type: HistoryActionType.UPDATE_ENTRY,\n    noteId,\n    newEntry\n  } as UpdateEntryAction)\n}\n\nexport const updateLocalHistoryEntry = (noteId: string, newEntry: HistoryEntry): void => {\n  updateHistoryEntryRedux(noteId, newEntry)\n  storeLocalHistory()\n}\n\nexport const removeHistoryEntry = async (noteId: string): Promise<void> => {\n  const entryToDelete = store.getState().history.find((entry) => entry.identifier === noteId)\n  if (entryToDelete && entryToDelete.origin === HistoryEntryOrigin.REMOTE) {\n    await deleteHistoryEntry(noteId)\n  }\n  store.dispatch({\n    type: HistoryActionType.REMOVE_ENTRY,\n    noteId\n  } as RemoveEntryAction)\n  storeLocalHistory()\n}\n\nexport const toggleHistoryEntryPinning = async (noteId: string): Promise<void> => {\n  const state = store.getState().history\n  const entryToUpdate = state.find((entry) => entry.identifier === noteId)\n  if (!entryToUpdate) {\n    return Promise.reject(`History entry for note '${noteId}' not found`)\n  }\n  if (entryToUpdate.pinStatus === undefined) {\n    entryToUpdate.pinStatus = false\n  }\n  entryToUpdate.pinStatus = !entryToUpdate.pinStatus\n  if (entryToUpdate.origin === HistoryEntryOrigin.LOCAL) {\n    updateLocalHistoryEntry(noteId, entryToUpdate)\n  } else {\n    const historyUpdateDto = historyEntryToHistoryEntryUpdateDto(entryToUpdate)\n    await updateHistoryEntryPinStatus(noteId, historyUpdateDto)\n    updateHistoryEntryRedux(noteId, entryToUpdate)\n  }\n}\n\nexport const downloadHistory = (): void => {\n  const history = store.getState().history\n  history.forEach((entry: Partial<HistoryEntry>) => {\n    delete entry.origin\n  })\n  const json = JSON.stringify({\n    version: 2,\n    entries: history\n  } as HistoryExportJson)\n  download(json, `history_${Date.now()}.json`, 'application/json')\n}\n\nexport const mergeHistoryEntries = (a: HistoryEntry[], b: HistoryEntry[]): HistoryEntry[] => {\n  const noDuplicates = a.filter((entryA) => !b.some((entryB) => entryA.identifier === entryB.identifier))\n  return noDuplicates.concat(b)\n}\n\nexport const convertV1History = (oldHistory: V1HistoryEntry[]): HistoryEntry[] => {\n  return oldHistory.map((entry) => ({\n    identifier: entry.id,\n    title: entry.text,\n    tags: entry.tags,\n    lastVisited: DateTime.fromMillis(entry.time).toISO(),\n    pinStatus: entry.pinned,\n    origin: HistoryEntryOrigin.LOCAL\n  }))\n}\n\nexport const refreshHistoryState = async (): Promise<void> => {\n  const localEntries = loadLocalHistory()\n  if (!store.getState().user) {\n    setHistoryEntries(localEntries)\n    return\n  }\n  const remoteEntries = await loadRemoteHistory()\n  const allEntries = mergeHistoryEntries(localEntries, remoteEntries)\n  setHistoryEntries(allEntries)\n}\n\nexport const storeLocalHistory = (): void => {\n  const history = store.getState().history\n  const localEntries = history.filter((entry) => entry.origin === HistoryEntryOrigin.LOCAL)\n  const entriesWithoutOrigin = localEntries.map((entry) => ({\n    ...entry,\n    origin: undefined\n  }))\n  window.localStorage.setItem('history', JSON.stringify(entriesWithoutOrigin))\n}\n\nexport const storeRemoteHistory = (): Promise<void> => {\n  if (!store.getState().user) {\n    return Promise.resolve()\n  }\n  const history = store.getState().history\n  const remoteEntries = history.filter((entry) => entry.origin === HistoryEntryOrigin.REMOTE)\n  const remoteEntryDtos = remoteEntries.map(historyEntryToHistoryEntryPutDto)\n  return postHistory(remoteEntryDtos)\n}\n\nconst loadLocalHistory = (): HistoryEntry[] => {\n  const localV1Json = window.localStorage.getItem('notehistory')\n  if (localV1Json) {\n    try {\n      const localV1History = JSON.parse(JSON.parse(localV1Json)) as V1HistoryEntry[]\n      window.localStorage.removeItem('notehistory')\n      return convertV1History(localV1History)\n    } catch (error) {\n      console.error(`Error converting old history entries: ${String(error)}`)\n      return []\n    }\n  }\n\n  const localJson = window.localStorage.getItem('history')\n  if (!localJson) {\n    return []\n  }\n\n  try {\n    const localHistory = JSON.parse(localJson) as HistoryEntry[]\n    localHistory.forEach((entry) => {\n      entry.origin = HistoryEntryOrigin.LOCAL\n    })\n    return localHistory\n  } catch (error) {\n    console.error(`Error parsing local stored history entries: ${String(error)}`)\n    return []\n  }\n}\n\nconst loadRemoteHistory = async (): Promise<HistoryEntry[]> => {\n  try {\n    const remoteHistory = await getHistory()\n    return remoteHistory.map(historyEntryDtoToHistoryEntry)\n  } catch (error) {\n    console.error(`Error fetching history entries from server: ${String(error)}`)\n    return []\n  }\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport i18n from 'i18next'\nimport { store } from '../index'\nimport {\n  DismissUiNotificationAction,\n  DispatchUiNotificationAction,\n  UiNotificationActionType,\n  UiNotificationButton\n} from './types'\nimport { DateTime } from 'luxon'\nimport { IconName } from '../../components/common/fork-awesome/types'\n\nexport const DEFAULT_DURATION_IN_SECONDS = 10\n\nexport const dispatchUiNotification = (\n  title: string,\n  content: string,\n  durationInSecond = DEFAULT_DURATION_IN_SECONDS,\n  icon?: IconName,\n  buttons?: UiNotificationButton[]\n): void => {\n  store.dispatch({\n    type: UiNotificationActionType.DISPATCH_NOTIFICATION,\n    notification: {\n      title,\n      content,\n      date: DateTime.now(),\n      dismissed: false,\n      icon,\n      durationInSecond,\n      buttons: buttons\n    }\n  } as DispatchUiNotificationAction)\n}\n\nexport const dismissUiNotification = (notificationId: number): void => {\n  store.dispatch({\n    type: UiNotificationActionType.DISMISS_NOTIFICATION,\n    notificationId\n  } as DismissUiNotificationAction)\n}\n\nexport const showErrorNotification =\n  (message: string) =>\n  (error: Error): void => {\n    console.error(message, error)\n    dispatchUiNotification(i18n.t('common.errorOccurred'), message, DEFAULT_DURATION_IN_SECONDS, 'exclamation-triangle')\n  }\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\nimport { NoteFrontmatter } from '../editor-page/note-frontmatter/note-frontmatter'\nimport { ScrollState } from '../editor-page/synced-scroll/scroll-props'\n\nexport enum RenderIframeMessageType {\n  SET_MARKDOWN_CONTENT = 'SET_MARKDOWN_CONTENT',\n  RENDERER_READY = 'RENDERER_READY',\n  SET_DARKMODE = 'SET_DARKMODE',\n  ON_TASK_CHECKBOX_CHANGE = 'ON_TASK_CHECKBOX_CHANGE',\n  ON_FIRST_HEADING_CHANGE = 'ON_FIRST_HEADING_CHANGE',\n  SET_SCROLL_SOURCE_TO_RENDERER = 'SET_SCROLL_SOURCE_TO_RENDERER',\n  SET_SCROLL_STATE = 'SET_SCROLL_STATE',\n  ON_SET_FRONTMATTER = 'ON_SET_FRONTMATTER',\n  IMAGE_CLICKED = 'IMAGE_CLICKED',\n  ON_HEIGHT_CHANGE = 'ON_HEIGHT_CHANGE',\n  SET_BASE_CONFIGURATION = 'SET_BASE_CONFIGURATION',\n  GET_WORD_COUNT = 'GET_WORD_COUNT',\n  ON_WORD_COUNT_CALCULATED = 'ON_WORD_COUNT_CALCULATED'\n}\n\nexport interface RendererToEditorSimpleMessage {\n  type: RenderIframeMessageType.RENDERER_READY | RenderIframeMessageType.SET_SCROLL_SOURCE_TO_RENDERER\n}\n\nexport interface SetDarkModeMessage {\n  type: RenderIframeMessageType.SET_DARKMODE\n  activated: boolean\n}\n\nexport interface ImageDetails {\n  alt?: string\n  src: string\n  title?: string\n}\n\nexport interface SetBaseUrlMessage {\n  type: RenderIframeMessageType.SET_BASE_CONFIGURATION\n  baseConfiguration: BaseConfiguration\n}\n\nexport interface GetWordCountMessage {\n  type: RenderIframeMessageType.GET_WORD_COUNT\n}\n\nexport interface ImageClickedMessage {\n  type: RenderIframeMessageType.IMAGE_CLICKED\n  details: ImageDetails\n}\n\nexport interface SetMarkdownContentMessage {\n  type: RenderIframeMessageType.SET_MARKDOWN_CONTENT\n  content: string\n}\n\nexport interface SetScrollStateMessage {\n  type: RenderIframeMessageType.SET_SCROLL_STATE\n  scrollState: ScrollState\n}\n\nexport interface OnTaskCheckboxChangeMessage {\n  type: RenderIframeMessageType.ON_TASK_CHECKBOX_CHANGE\n  lineInMarkdown: number\n  checked: boolean\n}\n\nexport interface OnFirstHeadingChangeMessage {\n  type: RenderIframeMessageType.ON_FIRST_HEADING_CHANGE\n  firstHeading: string | undefined\n}\n\nexport interface OnFrontmatterChangeMessage {\n  type: RenderIframeMessageType.ON_SET_FRONTMATTER\n  frontmatter: NoteFrontmatter | undefined\n}\n\nexport interface OnHeightChangeMessage {\n  type: RenderIframeMessageType.ON_HEIGHT_CHANGE\n  height: number\n}\n\nexport interface OnWordCountCalculatedMessage {\n  type: RenderIframeMessageType.ON_WORD_COUNT_CALCULATED\n  words: number\n}\n\nexport type EditorToRendererIframeMessage =\n  | SetMarkdownContentMessage\n  | SetDarkModeMessage\n  | SetScrollStateMessage\n  | SetBaseUrlMessage\n  | GetWordCountMessage\n\nexport type RendererToEditorIframeMessage =\n  | RendererToEditorSimpleMessage\n  | OnFirstHeadingChangeMessage\n  | OnTaskCheckboxChangeMessage\n  | OnFrontmatterChangeMessage\n  | SetScrollStateMessage\n  | ImageClickedMessage\n  | OnHeightChangeMessage\n  | OnWordCountCalculatedMessage\n\nexport enum RendererType {\n  DOCUMENT,\n  INTRO,\n  SLIDESHOW\n}\n\nexport interface BaseConfiguration {\n  baseUrl: string\n  rendererType: RendererType\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nexport const isTestMode = (): boolean => {\n  return !!process.env.REACT_APP_TEST_MODE\n}\n\nexport const isMockMode = (): boolean => {\n  return process.env.REACT_APP_BACKEND_BASE_URL === undefined\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { ForkAwesomeIcon } from '../fork-awesome/fork-awesome-icon'\nimport { IconName } from '../fork-awesome/types'\nimport { ShowIf } from '../show-if/show-if'\nimport { LinkWithTextProps } from './types'\n\nexport const ExternalLink: React.FC<LinkWithTextProps> = ({\n  href,\n  text,\n  icon,\n  id,\n  className = 'text-light',\n  title\n}) => {\n  return (\n    <a href={href} target='_blank' rel='noopener noreferrer' id={id} className={className} title={title} dir='auto'>\n      <ShowIf condition={!!icon}>\n        <ForkAwesomeIcon icon={icon as IconName} fixedWidth={true} />\n        &nbsp;\n      </ShowIf>\n      {text}\n    </a>\n  )\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { getMe } from '../../../api/me'\nimport { setUser } from '../../../redux/user/methods'\n\nexport const fetchAndSetUser: () => Promise<void> = async () => {\n  const me = await getMe()\n  setUser({\n    id: me.id,\n    name: me.name,\n    photo: me.photo,\n    provider: me.provider\n  })\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { EditorConfiguration } from 'codemirror'\nimport { Action } from 'redux'\nimport { EditorMode } from '../../components/editor-page/app-bar/editor-view-mode'\n\nexport enum EditorConfigActionType {\n  SET_EDITOR_VIEW_MODE = 'editor/mode/set',\n  SET_SYNC_SCROLL = 'editor/syncScroll/set',\n  MERGE_EDITOR_PREFERENCES = 'editor/preferences/merge',\n  SET_LIGATURES = 'editor/preferences/setLigatures',\n  SET_SMART_PASTE = 'editor/preferences/setSmartPaste'\n}\n\nexport interface EditorConfig {\n  editorMode: EditorMode\n  syncScroll: boolean\n  ligatures: boolean\n  smartPaste: boolean\n  preferences: EditorConfiguration\n}\n\nexport interface EditorConfigActions extends Action<EditorConfigActionType> {\n  type: EditorConfigActionType\n}\n\nexport interface SetEditorSyncScrollAction extends EditorConfigActions {\n  syncScroll: boolean\n}\n\nexport interface SetEditorLigaturesAction extends EditorConfigActions {\n  ligatures: boolean\n}\n\nexport interface SetEditorSmartPasteAction extends EditorConfigActions {\n  smartPaste: boolean\n}\n\nexport interface SetEditorConfigAction extends EditorConfigActions {\n  mode: EditorMode\n}\n\nexport interface SetEditorPreferencesAction extends EditorConfigActions {\n  preferences: EditorConfiguration\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { RegisterError } from '../../components/register-page/register-page'\nimport { defaultFetchConfig, expectResponseCode, getApiUrl } from '../utils'\n\nexport const INTERACTIVE_LOGIN_METHODS = ['internal', 'ldap', 'openid']\n\nexport const doInternalLogin = async (username: string, password: string): Promise<void> => {\n  const response = await fetch(getApiUrl() + 'auth/internal', {\n    ...defaultFetchConfig,\n    method: 'POST',\n    body: JSON.stringify({\n      username: username,\n      password: password\n    })\n  })\n\n  expectResponseCode(response)\n}\n\nexport const doInternalRegister = async (username: string, password: string): Promise<void> => {\n  const response = await fetch(getApiUrl() + 'auth/register', {\n    ...defaultFetchConfig,\n    method: 'POST',\n    body: JSON.stringify({\n      username: username,\n      password: password\n    })\n  })\n\n  if (response.status === 409) {\n    throw new Error(RegisterError.USERNAME_EXISTING)\n  }\n\n  expectResponseCode(response)\n}\n\nexport const doLdapLogin = async (username: string, password: string): Promise<void> => {\n  const response = await fetch(getApiUrl() + 'auth/ldap', {\n    ...defaultFetchConfig,\n    method: 'POST',\n    body: JSON.stringify({\n      username: username,\n      password: password\n    })\n  })\n\n  expectResponseCode(response)\n}\n\nexport const doOpenIdLogin = async (openId: string): Promise<void> => {\n  const response = await fetch(getApiUrl() + 'auth/openid', {\n    ...defaultFetchConfig,\n    method: 'POST',\n    body: JSON.stringify({\n      openId: openId\n    })\n  })\n\n  expectResponseCode(response)\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { EditorConfiguration } from 'codemirror'\nimport { store } from '..'\nimport { EditorMode } from '../../components/editor-page/app-bar/editor-view-mode'\nimport {\n  EditorConfig,\n  EditorConfigActionType,\n  SetEditorConfigAction,\n  SetEditorLigaturesAction,\n  SetEditorPreferencesAction,\n  SetEditorSmartPasteAction,\n  SetEditorSyncScrollAction\n} from './types'\n\nexport const loadFromLocalStorage = (): EditorConfig | undefined => {\n  try {\n    const stored = window.localStorage.getItem('editorConfig')\n    if (!stored) {\n      return undefined\n    }\n    return JSON.parse(stored) as EditorConfig\n  } catch (_) {\n    return undefined\n  }\n}\n\nexport const saveToLocalStorage = (editorConfig: EditorConfig): void => {\n  try {\n    const json = JSON.stringify(editorConfig)\n    localStorage.setItem('editorConfig', json)\n  } catch (e) {\n    console.error('Can not persist editor config in local storage: ', e)\n  }\n}\n\nexport const setEditorMode = (editorMode: EditorMode): void => {\n  const action: SetEditorConfigAction = {\n    type: EditorConfigActionType.SET_EDITOR_VIEW_MODE,\n    mode: editorMode\n  }\n  store.dispatch(action)\n}\n\nexport const setEditorSyncScroll = (syncScroll: boolean): void => {\n  const action: SetEditorSyncScrollAction = {\n    type: EditorConfigActionType.SET_SYNC_SCROLL,\n    syncScroll\n  }\n  store.dispatch(action)\n}\n\nexport const setEditorLigatures = (ligatures: boolean): void => {\n  const action: SetEditorLigaturesAction = {\n    type: EditorConfigActionType.SET_LIGATURES,\n    ligatures\n  }\n  store.dispatch(action)\n}\n\nexport const setEditorSmartPaste = (smartPaste: boolean): void => {\n  const action: SetEditorSmartPasteAction = {\n    type: EditorConfigActionType.SET_SMART_PASTE,\n    smartPaste\n  }\n  store.dispatch(action)\n}\n\nexport const mergeEditorPreferences = (preferences: EditorConfiguration): void => {\n  const action: SetEditorPreferencesAction = {\n    type: EditorConfigActionType.MERGE_EDITOR_PREFERENCES,\n    preferences\n  }\n  store.dispatch(action)\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { Modal } from 'react-bootstrap'\nimport { Trans, useTranslation } from 'react-i18next'\nimport { ForkAwesomeIcon } from '../fork-awesome/fork-awesome-icon'\nimport { IconName } from '../fork-awesome/types'\nimport { ShowIf } from '../show-if/show-if'\n\nexport interface CommonModalProps {\n  show: boolean\n  onHide: () => void\n  titleI18nKey?: string\n  title?: string\n  closeButton?: boolean\n  icon?: IconName\n  size?: 'lg' | 'sm' | 'xl'\n  additionalClasses?: string\n  'data-cy'?: string\n}\n\nexport const CommonModal: React.FC<CommonModalProps> = ({\n  show,\n  onHide,\n  titleI18nKey,\n  title,\n  closeButton,\n  icon,\n  additionalClasses,\n  size,\n  children,\n  ...props\n}) => {\n  useTranslation()\n\n  return (\n    <Modal\n      data-cy={props['data-cy']}\n      show={show}\n      onHide={onHide}\n      animation={true}\n      dialogClassName={`text-dark ${additionalClasses ?? ''}`}\n      size={size}>\n      <Modal.Header closeButton={!!closeButton}>\n        <Modal.Title>\n          <ShowIf condition={!!icon}>\n            <ForkAwesomeIcon icon={icon as IconName} />\n            &nbsp;\n          </ShowIf>\n          {titleI18nKey ? <Trans i18nKey={titleI18nKey} /> : <span>{title}</span>}\n        </Modal.Title>\n      </Modal.Header>\n      {children}\n    </Modal>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { useTranslation } from 'react-i18next'\nimport { ExternalLink } from './external-link'\nimport { TranslatedLinkProps } from './types'\n\nexport const TranslatedExternalLink: React.FC<TranslatedLinkProps> = ({ i18nKey, i18nOption, ...props }) => {\n  const { t } = useTranslation()\n  return <ExternalLink text={t(i18nKey, i18nOption)} {...props} />\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { UserResponse } from '../users/types'\nimport { defaultFetchConfig, expectResponseCode, getApiUrl } from '../utils'\nimport { isMockMode } from '../../utils/test-modes'\n\nexport const getMe = async (): Promise<UserResponse> => {\n  const response = await fetch(getApiUrl() + `me${isMockMode() ? '-get' : ''}`, {\n    ...defaultFetchConfig\n  })\n  expectResponseCode(response)\n  return (await response.json()) as UserResponse\n}\n\nexport const updateDisplayName = async (displayName: string): Promise<void> => {\n  const response = await fetch(getApiUrl() + 'me', {\n    ...defaultFetchConfig,\n    method: 'POST',\n    body: JSON.stringify({\n      name: displayName\n    })\n  })\n\n  expectResponseCode(response)\n}\n\nexport const changePassword = async (oldPassword: string, newPassword: string): Promise<void> => {\n  const response = await fetch(getApiUrl() + 'me/password', {\n    ...defaultFetchConfig,\n    method: 'POST',\n    body: JSON.stringify({\n      oldPassword,\n      newPassword\n    })\n  })\n\n  expectResponseCode(response)\n}\n\nexport const deleteUser = async (): Promise<void> => {\n  const response = await fetch(getApiUrl() + 'me', {\n    ...defaultFetchConfig,\n    method: 'DELETE'\n  })\n\n  expectResponseCode(response)\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { Action } from 'redux'\n\nexport enum UserActionType {\n  SET_USER = 'user/set',\n  CLEAR_USER = 'user/clear'\n}\n\nexport interface UserActions extends Action<UserActionType> {\n  type: UserActionType\n}\n\nexport interface SetUserAction extends UserActions {\n  state: UserState\n}\n\nexport type ClearUserAction = UserActions\n\nexport interface UserState {\n  id: string\n  name: string\n  photo: string\n  provider: LoginProvider\n}\n\nexport enum LoginProvider {\n  FACEBOOK = 'facebook',\n  GITHUB = 'github',\n  TWITTER = 'twitter',\n  GITLAB = 'gitlab',\n  DROPBOX = 'dropbox',\n  GOOGLE = 'google',\n  SAML = 'saml',\n  OAUTH2 = 'oauth2',\n  INTERNAL = 'internal',\n  LDAP = 'ldap',\n  OPENID = 'openid'\n}\n\nexport type MaybeUserState = UserState | null\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { store } from '..'\nimport { ClearUserAction, SetUserAction, UserActionType, UserState } from './types'\n\nexport const setUser: (state: UserState) => void = (state: UserState) => {\n  const action: SetUserAction = {\n    type: UserActionType.SET_USER,\n    state\n  }\n  store.dispatch(action)\n}\n\nexport const clearUser: () => void = () => {\n  const action: ClearUserAction = {\n    type: UserActionType.CLEAR_USER\n  }\n  store.dispatch(action)\n}\n\nexport const getUser = (): UserState | null => {\n  return store.getState().user\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { Button, Modal } from 'react-bootstrap'\nimport { Trans, useTranslation } from 'react-i18next'\nimport { CommonModal, CommonModalProps } from './common-modal'\n\nexport interface DeletionModalProps extends CommonModalProps {\n  onConfirm: () => void\n  deletionButtonI18nKey: string\n}\n\nexport const DeletionModal: React.FC<DeletionModalProps> = ({\n  show,\n  onHide,\n  titleI18nKey,\n  onConfirm,\n  deletionButtonI18nKey,\n  icon,\n  children\n}) => {\n  useTranslation()\n\n  return (\n    <CommonModal show={show} onHide={onHide} titleI18nKey={titleI18nKey} icon={icon} closeButton={true}>\n      <Modal.Body className='text-dark'>{children}</Modal.Body>\n      <Modal.Footer>\n        <Button variant='danger' onClick={onConfirm}>\n          <Trans i18nKey={deletionButtonI18nKey} />\n        </Button>\n      </Modal.Footer>\n    </CommonModal>\n  )\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { DateTime } from 'luxon'\nimport { Action } from 'redux'\nimport { NoteFrontmatter } from '../../components/editor-page/note-frontmatter/note-frontmatter'\nimport { NoteDto } from '../../api/notes/types'\n\nexport enum NoteDetailsActionType {\n  SET_DOCUMENT_CONTENT = 'note-details/set',\n  SET_NOTE_DATA_FROM_SERVER = 'note-details/data/server/set',\n  SET_NOTE_FRONTMATTER = 'note-details/frontmatter/set',\n  UPDATE_NOTE_TITLE_BY_FIRST_HEADING = 'note-details/update-note-title-by-first-heading',\n  SET_CHECKBOX_IN_MARKDOWN_CONTENT = 'note-details/toggle-checkbox-in-markdown-content'\n}\n\ninterface LastChange {\n  userName: string\n  timestamp: DateTime\n}\n\nexport interface NoteDetails {\n  markdownContent: string\n  id: string\n  createTime: DateTime\n  lastChange: LastChange\n  viewCount: number\n  alias: string\n  authorship: string[]\n  noteTitle: string\n  firstHeading?: string\n  frontmatter: NoteFrontmatter\n}\n\nexport interface NoteDetailsAction extends Action<NoteDetailsActionType> {\n  type: NoteDetailsActionType\n}\n\nexport interface SetNoteDetailsAction extends NoteDetailsAction {\n  type: NoteDetailsActionType.SET_DOCUMENT_CONTENT\n  content: string\n}\n\nexport interface SetNoteDetailsFromServerAction extends NoteDetailsAction {\n  type: NoteDetailsActionType.SET_NOTE_DATA_FROM_SERVER\n  note: NoteDto\n}\n\nexport interface UpdateNoteTitleByFirstHeadingAction extends NoteDetailsAction {\n  type: NoteDetailsActionType.UPDATE_NOTE_TITLE_BY_FIRST_HEADING\n  firstHeading?: string\n}\n\nexport interface SetNoteFrontmatterFromRenderingAction extends NoteDetailsAction {\n  type: NoteDetailsActionType.SET_NOTE_FRONTMATTER\n  frontmatter: NoteFrontmatter\n}\n\nexport interface SetCheckboxInMarkdownContentAction extends NoteDetailsAction {\n  type: NoteDetailsActionType.SET_CHECKBOX_IN_MARKDOWN_CONTENT\n  lineInMarkdown: number\n  checked: boolean\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { Action } from 'redux'\nimport { DateTime } from 'luxon'\nimport { IconName } from '../../components/common/fork-awesome/types'\n\nexport enum UiNotificationActionType {\n  DISPATCH_NOTIFICATION = 'notification/dispatch',\n  DISMISS_NOTIFICATION = 'notification/dismiss'\n}\n\nexport interface UiNotificationButton {\n  label: string\n  onClick: () => void\n}\n\nexport interface UiNotification {\n  title: string\n  date: DateTime\n  content: string\n  dismissed: boolean\n  icon?: IconName\n  durationInSecond: number\n  buttons?: UiNotificationButton[]\n}\n\nexport interface UiNotificationAction extends Action<UiNotificationActionType> {\n  type: UiNotificationActionType\n}\n\nexport interface DispatchUiNotificationAction extends UiNotificationAction {\n  type: UiNotificationActionType.DISPATCH_NOTIFICATION\n  notification: UiNotification\n}\n\nexport interface DismissUiNotificationAction extends UiNotificationAction {\n  type: UiNotificationActionType.DISMISS_NOTIFICATION\n  notificationId: number\n}\n\nexport type UiNotificationState = UiNotification[]\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { store } from '..'\nimport { DarkModeConfig, DarkModeConfigActionType, SetDarkModeConfigAction } from './types'\n\nexport const setDarkMode = (darkMode: boolean): void => {\n  const action: SetDarkModeConfigAction = {\n    type: DarkModeConfigActionType.SET_DARK_MODE,\n    darkMode: darkMode\n  }\n  store.dispatch(action)\n}\n\nexport const saveToLocalStorage = (darkModeConfig: DarkModeConfig): void => {\n  try {\n    window.localStorage.setItem('nightMode', String(darkModeConfig.darkMode))\n  } catch (e) {\n    console.error('Saving dark-mode setting to local storage failed: ', e)\n  }\n}\n\nexport const loadFromLocalStorage = (): DarkModeConfig | undefined => {\n  try {\n    const storedValue = window.localStorage.getItem('nightMode')\n    if (!storedValue) {\n      return undefined\n    }\n    return {\n      darkMode: storedValue === 'true'\n    }\n  } catch (e) {\n    console.error('Loading dark-mode setting from local storage failed: ', e)\n    return undefined\n  }\n}\n\nexport const determineDarkModeBrowserSetting = (): DarkModeConfig | undefined => {\n  try {\n    const mediaQueryResult = window.matchMedia('(prefers-color-scheme: dark)').matches\n    return {\n      darkMode: mediaQueryResult\n    }\n  } catch (e) {\n    console.error('Can not determine dark-mode setting from browser: ', e)\n    return undefined\n  }\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { store } from '..'\nimport { BannerActionType, BannerState, SetBannerAction } from './types'\n\nexport const setBanner = (state: BannerState): void => {\n  const action: SetBannerAction = {\n    type: BannerActionType.SET_BANNER,\n    state\n  }\n  store.dispatch(action)\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { NoteFrontmatter } from '../editor-page/note-frontmatter/note-frontmatter'\nimport { ScrollState } from '../editor-page/synced-scroll/scroll-props'\nimport { IframeCommunicator } from './iframe-communicator'\nimport {\n  BaseConfiguration,\n  EditorToRendererIframeMessage,\n  ImageDetails,\n  RendererToEditorIframeMessage,\n  RenderIframeMessageType\n} from './rendering-message'\n\nexport class IframeEditorToRendererCommunicator extends IframeCommunicator<\n  EditorToRendererIframeMessage,\n  RendererToEditorIframeMessage\n> {\n  private onSetScrollSourceToRendererHandler?: () => void\n  private onTaskCheckboxChangeHandler?: (lineInMarkdown: number, checked: boolean) => void\n  private onFirstHeadingChangeHandler?: (heading?: string) => void\n  private onFrontmatterChangeHandler?: (frontmatter?: NoteFrontmatter) => void\n  private onSetScrollStateHandler?: (scrollState: ScrollState) => void\n  private onRendererReadyHandler?: () => void\n  private onImageClickedHandler?: (details: ImageDetails) => void\n  private onHeightChangeHandler?: (height: number) => void\n  private onWordCountCalculatedHandler?: (words: number) => void\n\n  public onHeightChange(handler?: (height: number) => void): void {\n    this.onHeightChangeHandler = handler\n  }\n\n  public onFrontmatterChange(handler?: (frontmatter?: NoteFrontmatter) => void): void {\n    this.onFrontmatterChangeHandler = handler\n  }\n\n  public onImageClicked(handler?: (details: ImageDetails) => void): void {\n    this.onImageClickedHandler = handler\n  }\n\n  public onRendererReady(handler?: () => void): void {\n    this.onRendererReadyHandler = handler\n  }\n\n  public onSetScrollSourceToRenderer(handler?: () => void): void {\n    this.onSetScrollSourceToRendererHandler = handler\n  }\n\n  public onTaskCheckboxChange(handler?: (lineInMarkdown: number, checked: boolean) => void): void {\n    this.onTaskCheckboxChangeHandler = handler\n  }\n\n  public onFirstHeadingChange(handler?: (heading?: string) => void): void {\n    this.onFirstHeadingChangeHandler = handler\n  }\n\n  public onSetScrollState(handler?: (scrollState: ScrollState) => void): void {\n    this.onSetScrollStateHandler = handler\n  }\n\n  public onWordCountCalculated(handler?: (words: number) => void): void {\n    this.onWordCountCalculatedHandler = handler\n  }\n\n  public sendSetBaseConfiguration(baseConfiguration: BaseConfiguration): void {\n    this.sendMessageToOtherSide({\n      type: RenderIframeMessageType.SET_BASE_CONFIGURATION,\n      baseConfiguration\n    })\n  }\n\n  public sendSetMarkdownContent(markdownContent: string): void {\n    this.sendMessageToOtherSide({\n      type: RenderIframeMessageType.SET_MARKDOWN_CONTENT,\n      content: markdownContent\n    })\n  }\n\n  public sendSetDarkmode(darkModeActivated: boolean): void {\n    this.sendMessageToOtherSide({\n      type: RenderIframeMessageType.SET_DARKMODE,\n      activated: darkModeActivated\n    })\n  }\n\n  public sendScrollState(scrollState?: ScrollState): void {\n    if (!scrollState) {\n      return\n    }\n    this.sendMessageToOtherSide({\n      type: RenderIframeMessageType.SET_SCROLL_STATE,\n      scrollState\n    })\n  }\n\n  public sendGetWordCount(): void {\n    this.sendMessageToOtherSide({\n      type: RenderIframeMessageType.GET_WORD_COUNT\n    })\n  }\n\n  protected handleEvent(event: MessageEvent<RendererToEditorIframeMessage>): boolean | undefined {\n    const renderMessage = event.data\n    switch (renderMessage.type) {\n      case RenderIframeMessageType.RENDERER_READY:\n        this.enableCommunication()\n        this.onRendererReadyHandler?.()\n        return false\n      case RenderIframeMessageType.SET_SCROLL_SOURCE_TO_RENDERER:\n        this.onSetScrollSourceToRendererHandler?.()\n        return false\n      case RenderIframeMessageType.SET_SCROLL_STATE:\n        this.onSetScrollStateHandler?.(renderMessage.scrollState)\n        return false\n      case RenderIframeMessageType.ON_FIRST_HEADING_CHANGE:\n        this.onFirstHeadingChangeHandler?.(renderMessage.firstHeading)\n        return false\n      case RenderIframeMessageType.ON_TASK_CHECKBOX_CHANGE:\n        this.onTaskCheckboxChangeHandler?.(renderMessage.lineInMarkdown, renderMessage.checked)\n        return false\n      case RenderIframeMessageType.ON_SET_FRONTMATTER:\n        this.onFrontmatterChangeHandler?.(renderMessage.frontmatter)\n        return false\n      case RenderIframeMessageType.IMAGE_CLICKED:\n        this.onImageClickedHandler?.(renderMessage.details)\n        return false\n      case RenderIframeMessageType.ON_HEIGHT_CHANGE:\n        this.onHeightChangeHandler?.(renderMessage.height)\n        return false\n      case RenderIframeMessageType.ON_WORD_COUNT_CALCULATED:\n        this.onWordCountCalculatedHandler?.(renderMessage.words)\n        return false\n    }\n  }\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { createContext, useContext, useMemo } from 'react'\nimport { IframeEditorToRendererCommunicator } from '../../render-page/iframe-editor-to-renderer-communicator'\n\nconst IFrameEditorToRendererCommunicatorContext = createContext<IframeEditorToRendererCommunicator | undefined>(\n  undefined\n)\n\n/**\n * Provides the {@link IframeEditorToRendererCommunicator editor to renderer iframe communicator} that is set by a {@link IframeEditorToRendererCommunicatorContextProvider context provider}.\n *\n * @return the received communicator\n * @throws Error if no communicator was received\n */\nexport const useIFrameEditorToRendererCommunicator: () => IframeEditorToRendererCommunicator = () => {\n  const communicatorFromContext = useContext(IFrameEditorToRendererCommunicatorContext)\n  if (!communicatorFromContext) {\n    throw new Error('No editor-to-renderer-iframe-communicator received. Did you forget to use the provider component?')\n  }\n  return communicatorFromContext\n}\n\nexport const IframeEditorToRendererCommunicatorContextProvider: React.FC = ({ children }) => {\n  const currentIFrameCommunicator = useMemo<IframeEditorToRendererCommunicator>(\n    () => new IframeEditorToRendererCommunicator(),\n    []\n  )\n\n  return (\n    <IFrameEditorToRendererCommunicatorContext.Provider value={currentIFrameCommunicator}>\n      {children}\n    </IFrameEditorToRendererCommunicatorContext.Provider>\n  )\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { useBackendBaseUrl } from './use-backend-base-url'\n\nexport const useCustomizeAssetsUrl = (): string => {\n  const backendBaseUrl = useBackendBaseUrl()\n  return process.env.REACT_APP_CUSTOMIZE_ASSETS_URL || `${backendBaseUrl}public/`\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { Fragment, useCallback, useRef } from 'react'\nimport { Button, FormControl, InputGroup } from 'react-bootstrap'\nimport { useTranslation } from 'react-i18next'\nimport { ForkAwesomeIcon } from '../../fork-awesome/fork-awesome-icon'\nimport { ShowIf } from '../../show-if/show-if'\nimport { CopyOverlay } from '../copy-overlay'\n\nexport interface CopyableFieldProps {\n  content: string\n  nativeShareButton?: boolean\n  url?: string\n}\n\nexport const CopyableField: React.FC<CopyableFieldProps> = ({ content, nativeShareButton, url }) => {\n  useTranslation()\n  const copyButton = useRef<HTMLButtonElement>(null)\n\n  const doShareAction = useCallback(() => {\n    navigator\n      .share({\n        text: content,\n        url: url\n      })\n      .catch((err) => {\n        console.error('Native sharing failed: ', err)\n      })\n  }, [content, url])\n\n  const sharingSupported = typeof navigator.share === 'function'\n\n  return (\n    <Fragment>\n      <InputGroup className='my-3'>\n        <FormControl readOnly={true} className={'text-center'} value={content} />\n        <InputGroup.Append>\n          <Button variant='outline-secondary' ref={copyButton} title={'Copy'}>\n            <ForkAwesomeIcon icon='files-o' />\n          </Button>\n        </InputGroup.Append>\n        <ShowIf condition={!!nativeShareButton && sharingSupported}>\n          <InputGroup.Append>\n            <Button variant='outline-secondary' title={'Share'} onClick={doShareAction}>\n              <ForkAwesomeIcon icon='share-alt' />\n            </Button>\n          </InputGroup.Append>\n        </ShowIf>\n      </InputGroup>\n      <CopyOverlay content={content} clickComponent={copyButton} />\n    </Fragment>\n  )\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { useMemo } from 'react'\nimport { Button } from 'react-bootstrap'\nimport { ButtonProps } from 'react-bootstrap/Button'\nimport { Trans, useTranslation } from 'react-i18next'\nimport { LinkContainer } from 'react-router-bootstrap'\nimport { ShowIf } from '../../common/show-if/show-if'\nimport { getApiUrl } from '../../../api/utils'\nimport { INTERACTIVE_LOGIN_METHODS } from '../../../api/auth'\nimport { useApplicationState } from '../../../hooks/common/use-application-state'\n\nexport type SignInButtonProps = Omit<ButtonProps, 'href'>\n\nexport const SignInButton: React.FC<SignInButtonProps> = ({ variant, ...props }) => {\n  const { t } = useTranslation()\n  const authProviders = useApplicationState((state) => state.config.authProviders)\n  const authEnabled = useMemo(() => Object.values(authProviders).includes(true), [authProviders])\n\n  const loginLink = useMemo(() => {\n    const activeProviders = Object.entries(authProviders)\n      .filter((entry: [string, boolean]) => entry[1])\n      .map((entry) => entry[0])\n    const activeOneClickProviders = activeProviders.filter((entry) => !INTERACTIVE_LOGIN_METHODS.includes(entry))\n\n    if (activeProviders.length === 1 && activeOneClickProviders.length === 1) {\n      return `${getApiUrl()}auth/${activeOneClickProviders[0]}`\n    }\n    return '/login'\n  }, [authProviders])\n\n  return (\n    <ShowIf condition={authEnabled}>\n      <LinkContainer to={loginLink} title={t('login.signIn')}>\n        <Button data-cy={'sign-in-button'} variant={variant || 'success'} {...props}>\n          <Trans i18nKey='login.signIn' />\n        </Button>\n      </LinkContainer>\n    </ShowIf>\n  )\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { defaultFetchConfig, expectResponseCode, getApiUrl } from '../utils'\nimport { NoteDto } from './types'\nimport { isMockMode } from '../../utils/test-modes'\n\nexport const getNote = async (noteId: string): Promise<NoteDto> => {\n  // The \"-get\" suffix is necessary, because in our mock api (filesystem) the note id might already be a folder.\n  // TODO: [mrdrogdrog] replace -get with actual api route as soon as api backend is ready.\n  const response = await fetch(getApiUrl() + `notes/${noteId}${isMockMode() ? '-get' : ''}`, {\n    ...defaultFetchConfig\n  })\n  expectResponseCode(response)\n  return (await response.json()) as Promise<NoteDto>\n}\n\nexport const deleteNote = async (noteId: string): Promise<void> => {\n  const response = await fetch(getApiUrl() + `notes/${noteId}`, {\n    ...defaultFetchConfig,\n    method: 'DELETE'\n  })\n  expectResponseCode(response)\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nexport const useBackendBaseUrl = (): string => {\n  return process.env.REACT_APP_BACKEND_BASE_URL ?? '/mock-backend/'\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { Action } from 'redux'\n\nexport enum ApiUrlActionType {\n  SET_API_URL = 'api-url/set'\n}\n\nexport interface ApiUrlActions extends Action<ApiUrlActionType> {\n  type: ApiUrlActionType\n}\n\nexport interface SetApiUrlAction extends ApiUrlActions {\n  state: ApiUrlObject\n}\n\nexport interface ApiUrlObject {\n  apiUrl: string\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { Action } from 'redux'\n\nexport enum BannerActionType {\n  SET_BANNER = 'banner/set'\n}\n\nexport interface BannerActions extends Action<BannerActionType> {\n  type: BannerActionType\n}\n\nexport interface SetBannerAction extends BannerActions {\n  type: BannerActionType.SET_BANNER\n  state: BannerState\n}\n\nexport interface BannerState {\n  text: string | undefined\n  lastModified: string | null\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { Action } from 'redux'\nimport { Config } from '../../api/config/types'\n\nexport enum ConfigActionType {\n  SET_CONFIG = 'config/set'\n}\n\nexport interface ConfigActions extends Action<ConfigActionType> {\n  type: ConfigActionType\n}\n\nexport interface SetConfigAction extends ConfigActions {\n  state: Config\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { Action } from 'redux'\n\nexport enum DarkModeConfigActionType {\n  SET_DARK_MODE = 'dark-mode/set'\n}\n\nexport interface DarkModeConfig {\n  darkMode: boolean\n}\n\nexport interface DarkModeConfigActions extends Action<DarkModeConfigActionType> {\n  type: DarkModeConfigActionType\n}\n\nexport interface SetDarkModeConfigAction extends DarkModeConfigActions {\n  darkMode: boolean\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { Action } from 'redux'\n\nexport enum RendererStatusActionType {\n  SET_RENDERER_STATUS = 'renderer-status/set-ready'\n}\n\nexport interface RendererStatus {\n  rendererReady: boolean\n}\n\nexport interface SetRendererStatusAction extends Action<RendererStatusActionType> {\n  type: RendererStatusActionType.SET_RENDERER_STATUS\n  rendererReady: boolean\n}\n\nexport type RendererStatusActions = SetRendererStatusAction\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { setBanner } from '../../../redux/banner/methods'\nimport { defaultFetchConfig } from '../../../api/utils'\n\nexport const BANNER_LOCAL_STORAGE_KEY = 'banner.lastModified'\n\nexport const fetchAndSetBanner = async (customizeAssetsUrl: string): Promise<void> => {\n  const cachedLastModified = window.localStorage.getItem(BANNER_LOCAL_STORAGE_KEY)\n  const bannerUrl = `${customizeAssetsUrl}banner.txt`\n\n  if (cachedLastModified) {\n    const response = await fetch(bannerUrl, {\n      ...defaultFetchConfig,\n      method: 'HEAD'\n    })\n    if (response.status !== 200) {\n      return\n    }\n    if (response.headers.get('Last-Modified') === cachedLastModified) {\n      setBanner({\n        lastModified: cachedLastModified,\n        text: ''\n      })\n      return\n    }\n  }\n\n  const response = await fetch(bannerUrl, {\n    ...defaultFetchConfig\n  })\n\n  if (response.status !== 200) {\n    return\n  }\n\n  const bannerText = await response.text()\n\n  const lastModified = response.headers.get('Last-Modified')\n  if (!lastModified) {\n    console.warn(\"'Last-Modified' not found for banner.txt!\")\n  }\n\n  setBanner({\n    lastModified: lastModified,\n    text: bannerText\n  })\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { FormEvent, Fragment, useCallback, useEffect, useState } from 'react'\nimport { Alert, Button, Card, Col, Form, Row } from 'react-bootstrap'\nimport { Trans, useTranslation } from 'react-i18next'\nimport { Redirect } from 'react-router'\nimport { doInternalRegister } from '../../api/auth'\nimport { useApplicationState } from '../../hooks/common/use-application-state'\nimport { TranslatedExternalLink } from '../common/links/translated-external-link'\nimport { ShowIf } from '../common/show-if/show-if'\nimport { fetchAndSetUser } from '../login-page/auth/utils'\n\nexport enum RegisterError {\n  NONE = 'none',\n  USERNAME_EXISTING = 'usernameExisting',\n  OTHER = 'other'\n}\n\nexport const RegisterPage: React.FC = () => {\n  const { t } = useTranslation()\n  const allowRegister = useApplicationState((state) => state.config.allowRegister)\n  const specialUrls = useApplicationState((state) => state.config.specialUrls)\n  const userExists = useApplicationState((state) => !!state.user)\n\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [passwordAgain, setPasswordAgain] = useState('')\n  const [error, setError] = useState(RegisterError.NONE)\n  const [ready, setReady] = useState(false)\n\n  const doRegisterSubmit = useCallback(\n    (event: FormEvent) => {\n      doInternalRegister(username, password)\n        .then(() => fetchAndSetUser())\n        .catch((err: Error) => {\n          console.error(err)\n          setError(err.message === RegisterError.USERNAME_EXISTING ? err.message : RegisterError.OTHER)\n        })\n      event.preventDefault()\n    },\n    [username, password]\n  )\n\n  useEffect(() => {\n    setReady(username !== '' && password !== '' && password.length >= 8 && password === passwordAgain)\n  }, [username, password, passwordAgain])\n\n  if (!allowRegister) {\n    return <Redirect to={'/login'} />\n  }\n\n  if (userExists) {\n    return <Redirect to={'/intro'} />\n  }\n\n  return (\n    <Fragment>\n      <div className='my-3'>\n        <h1 className='mb-4'>\n          <Trans i18nKey='login.register.title' />\n        </h1>\n        <Row className='h-100 d-flex justify-content-center'>\n          <Col lg={6}>\n            <Card className='bg-dark mb-4 text-start'>\n              <Card.Body>\n                <Form onSubmit={doRegisterSubmit}>\n                  <Form.Group controlId='username'>\n                    <Form.Label>\n                      <Trans i18nKey='login.auth.username' />\n                    </Form.Label>\n                    <Form.Control\n                      type='text'\n                      size='sm'\n                      value={username}\n                      isValid={username !== ''}\n                      onChange={(event) => setUsername(event.target.value)}\n                      placeholder={t('login.auth.username')}\n                      className='bg-dark text-light'\n                      autoComplete='username'\n                      autoFocus={true}\n                      required\n                    />\n                    <Form.Text>\n                      <Trans i18nKey='login.register.usernameInfo' />\n                    </Form.Text>\n                  </Form.Group>\n                  <Form.Group controlId='password'>\n                    <Form.Label>\n                      <Trans i18nKey='login.auth.password' />\n                    </Form.Label>\n                    <Form.Control\n                      type='password'\n                      size='sm'\n                      isValid={password !== '' && password.length >= 8}\n                      onChange={(event) => setPassword(event.target.value)}\n                      placeholder={t('login.auth.password')}\n                      className='bg-dark text-light'\n                      minLength={8}\n                      autoComplete='new-password'\n                      required\n                    />\n                    <Form.Text>\n                      <Trans i18nKey='login.register.passwordInfo' />\n                    </Form.Text>\n                  </Form.Group>\n                  <Form.Group controlId='re-password'>\n                    <Form.Label>\n                      <Trans i18nKey='login.register.passwordAgain' />\n                    </Form.Label>\n                    <Form.Control\n                      type='password'\n                      size='sm'\n                      isInvalid={passwordAgain !== '' && password !== passwordAgain}\n                      isValid={passwordAgain !== '' && password === passwordAgain}\n                      onChange={(event) => setPasswordAgain(event.target.value)}\n                      placeholder={t('login.register.passwordAgain')}\n                      className='bg-dark text-light'\n                      autoComplete='new-password'\n                      required\n                    />\n                  </Form.Group>\n                  <ShowIf condition={!!specialUrls.termsOfUse || !!specialUrls.privacy}>\n                    <Trans i18nKey='login.register.infoTermsPrivacy' />\n                    <ul>\n                      <ShowIf condition={!!specialUrls.termsOfUse}>\n                        <li>\n                          <TranslatedExternalLink\n                            i18nKey='landing.footer.termsOfUse'\n                            href={specialUrls.termsOfUse ?? ''}\n                          />\n                        </li>\n                      </ShowIf>\n                      <ShowIf condition={!!specialUrls.privacy}>\n                        <li>\n                          <TranslatedExternalLink i18nKey='landing.footer.privacy' href={specialUrls.privacy ?? ''} />\n                        </li>\n                      </ShowIf>\n                    </ul>\n                  </ShowIf>\n                  <Button variant='primary' type='submit' block={true} disabled={!ready}>\n                    <Trans i18nKey='login.register.title' />\n                  </Button>\n                </Form>\n                <br />\n                <Alert show={error !== RegisterError.NONE} variant='danger'>\n                  <Trans i18nKey={`login.register.error.${error}`} />\n                </Alert>\n              </Card.Body>\n            </Card>\n          </Col>\n        </Row>\n      </div>\n    </Fragment>\n  )\n}\n","var _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLogoTextBwHorizontal(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    clipRule: \"evenodd\",\n    fillRule: \"evenodd\",\n    height: 430.07892,\n    strokeLinejoin: \"round\",\n    strokeMiterlimit: 2,\n    viewBox: \"0 0 1660.2405 430.07892\",\n    width: 1660.2405,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    fillRule: \"nonzero\",\n    transform: \"translate(10.242436 10.242452)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m0-124.766-6.399 6.398-7.662-4.814-4.812 7.662-8.541-2.989-2.988 8.54-8.993-1.013-1.011 8.991-8.992 1.013 1.012 8.991-8.541 2.989 2.988 8.54-7.661 4.815 4.815 7.662-6.399 6.399 6.398 6.398-4.814 7.661 7.661 4.814-2.988 8.541 8.541 2.988-1.012 8.985 8.992 1.011 1.011 8.985 8.993-1.015 2.988 8.54 8.541-2.988 4.812 7.662 7.662-4.813h12.796l7.661 4.813 4.814-7.66 8.541 2.988 2.988-8.54 8.992 1.014 1.014-8.985 8.99-1.012-1.012-8.985 8.54-2.988-2.988-8.541 7.662-4.815-4.815-7.66 6.398-6.398-6.398-6.399 4.815-7.66-7.662-4.814 2.988-8.542-8.54-2.988 1.014-8.991-8.992-1.015-1.013-8.991-8.991 1.013-2.989-8.54-8.54 2.989-4.814-7.663-7.663 4.815z\",\n    fill: \"#333\",\n    transform: \"matrix(3.2849556 0 0 3.2849556 207.55664 409.85076)\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m0-30.513c0-12.366-10.025-22.393-22.392-22.393-6.143 0-11.707 2.476-15.752 6.481l-.003-.002-5.705 5.706-4.665-4.665c-4.104-4.683-10.125-7.642-16.839-7.642-12.367 0-22.392 10.025-22.392 22.391 0 6.463 2.74 12.281 7.118 16.368l36.799 36.784 35.987-36.014c4.496-4.232 7.844-10.203 7.844-17.014\",\n    fill: \"#fefefe\",\n    transform: \"matrix(3.2849556 0 0 3.2849556 351.53527 341.0132)\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m-4.558-8.253c1.645 1.64 2.662 3.904 2.662 6.406 0 2.5-1.017 4.766-2.662 6.405-3.514-.026-6.357-2.883-6.357-6.405s2.843-6.38 6.357-6.406\",\n    transform: \"matrix(0 -3.2849556 -3.2849556 0 201.44397 379.04995)\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m-4.896-4.894c-2.704 0-4.895 2.191-4.895 4.894 0 2.704 2.191 4.896 4.895 4.896s4.896-2.192 4.896-4.896c0-2.703-2.192-4.894-4.896-4.894\",\n    transform: \"matrix(0 -3.2849556 -3.2849556 0 166.86087 250.80164)\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m-1.356-1.355c-.751 0-1.356.607-1.356 1.356 0 .748.605 1.355 1.356 1.355.749 0 1.357-.607 1.357-1.355 0-.749-.608-1.356-1.357-1.356\",\n    fill: \"#fff\",\n    transform: \"matrix(0 -3.2849556 -3.2849556 0 172.96926 261.80315)\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m-4.896-4.894c-2.704 0-4.895 2.191-4.895 4.896 0 2.703 2.191 4.894 4.895 4.894s4.896-2.191 4.896-4.894c0-2.705-2.192-4.896-4.896-4.896\",\n    transform: \"matrix(0 -3.2849556 -3.2849556 0 248.40602 250.80164)\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m-1.357-1.356c-.751 0-1.356.608-1.356 1.358 0 .748.605 1.355 1.356 1.355.749 0 1.357-.607 1.357-1.355 0-.75-.608-1.358-1.357-1.358\",\n    fill: \"#fff\",\n    transform: \"matrix(0 -3.2849556 -3.2849556 0 254.51398 261.79888)\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m914.05273 122.625v70.36133c-4.97999-5.27564-10.96602-9.39883-17.95312-12.375-6.99039-2.97289-14.57179-4.46094-22.74805-4.46094-10.77794 0-20.42618 2.50598-28.9375 7.52539s-15.20529 11.89616-20.07031 20.63086c-4.87159 8.73798-7.30664 18.67703-7.30664 29.82617 0 11.15571 2.43505 21.10062 7.30664 29.83203 4.86502 8.7347 11.55899 15.6095 20.07031 20.62891s18.15956 7.5293 28.9375 7.5293c8.39963 0 16.16843-1.58011 23.30664-4.74024 7.13493-3.16012 13.19251-7.48988 18.17578-12.99219l1.00586 15.50196h16.61133v-167.26758zm-393.29492.002v167.26563h19.51563v-73.5957h95.33984v73.5957h19.51172v-167.26568h-19.51172v75.82813h-95.33984v-75.82813zm724.69919.22071v167.26757h45.4961c32.8594 0 58.0977-7.32308 75.7149-21.9707 17.6172-14.64105 26.4277-35.27334 26.4277-61.88476 0-26.53916-8.8105-47.07674-26.4277-61.60938s-42.8555-21.80273-75.7149-21.80273zm19.5157 17.8457h25.9804c26.4636 0 46.7614 5.70463 60.8867 17.11328 14.1221 11.41522 21.1856 27.56409 21.1856 48.45313 0 20.9613-7.0635 37.20817-21.1856 48.72851-14.1253 11.52363-34.4231 17.28711-60.8867 17.28711h-25.9804zm-248.3301 35.45508c-10.778 0-20.42425 2.50988-28.93557 7.52929-8.51132 5.01942-15.20725 11.89421-20.07226 20.62891-4.87159 8.7347-7.30469 18.6757-7.30469 29.82813 0 11.15242 2.4331 21.09538 7.30469 29.83007 4.86501 8.7347 11.56094 15.61145 20.07226 20.63086 8.51132 5.01942 18.15757 7.52539 28.93557 7.52539 8.1762 0 15.7596-1.48805 22.75-4.46093 6.9871-2.97289 12.9712-7.09608 17.9512-12.375v5.79492c0 15.16664-3.81 27.30097-11.4278 36.41015-7.6244 9.10262-19.3481 13.65625-35.1816 13.65625-6.2447 0-12.04336-1.02121-17.39456-3.06445-5.35447-2.04653-10.11335-4.88956-14.27539-8.5293l-9.14257 15.38672c5.49901 4.08977 11.66853 7.2633 18.50781 9.53321 6.83928 2.2699 14.16041 3.40039 21.96871 3.40039 14.1976 0 26.1478-2.88015 35.8516-8.63867 9.7005-5.76182 17.0402-13.8114 22.0234-24.14258 4.98-10.33447 7.4688-22.37675 7.4688-36.13086v-100.58208h-16.6152l-1.004 15.50195c-4.9799-5.5023-11.0375-9.83206-18.1757-12.99219-7.135-3.16013-14.9051-4.74023-23.3047-4.74023zm591.7656.002c-11.1524 0-21.0973 2.50989-29.832 7.5293-8.7347 5.01612-15.6095 11.89092-20.6289 20.6289-5.0162 8.7347-7.5254 18.67375-7.5254 29.82618 0 11.15242 2.5092 21.09671 7.5254 29.82812 5.0194 8.73798 11.8942 15.61278 20.6289 20.62891 8.7347 5.01941 18.6796 7.52929 29.832 7.52929 8.3996 0 16.1288-1.44899 23.1914-4.34961 7.0627-2.90061 13.1951-6.95092 18.3984-12.15429l-12.8242-12.71094c-3.4952 3.86639-7.6932 6.91014-12.5976 9.14063-4.9078 2.23048-10.2978 3.34765-16.168 3.34765-7.5094 0-14.2007-1.78277-20.0742-5.35351-5.8735-3.56747-10.5026-8.47539-13.8828-14.7168-3.3835-6.2447-5.0723-13.30885-5.0723-21.18945 0-7.95288 1.6888-15.03363 5.0723-21.24219 3.3802-6.20528 8.0093-11.09465 13.8828-14.66211 5.8735-3.57075 12.5648-5.35352 20.0742-5.35352 5.8702 0 11.2602 1.09605 16.168 3.28711 4.9044 2.19435 9.1024 5.25923 12.5976 9.20117l12.8242-12.82421c-5.2033-5.12782-11.3357-9.14236-18.3984-12.04297-7.0626-2.90062-14.7918-4.34766-23.1914-4.34766zm-867.86718.002c-11.00132 0-20.85027 2.494-29.54883 7.47071-8.69856 4.98327-15.53759 11.8057-20.51758 20.46484s-7.47266 18.49149-7.47266 29.49609c0 11.30025 2.65627 21.37042 7.97461 30.2168 5.31178 8.84639 12.65475 15.77942 22.02344 20.79883 9.36541 5.01613 32.11328 7.52539 32.11328 7.52539 7.50941 0 15.29543-1.26551 23.36328-3.79492 8.06457-2.52613 16.14797-7.17049 24.25196-13.9375l-10.81641-13.82617c-5.5023 5.20337-11.59699 8.97814-18.28516 11.32031-6.69474 2.33889-13.04765 3.51172-19.07226 3.51172-10.8535 0-20.12695-3.1801-27.82031-9.53321-7.69337-6.35967-12.46885-14.48142-14.32813-24.36914h94.56055v-7.46875c0-11.22469-2.41783-21.18948-7.25-29.88476-4.83217-8.69856-11.48576-15.53626-19.96094-20.51953-8.47519-4.97671-18.21024-7.47071-29.21484-7.47071zm420.61328 0c-11.0013 0-20.8483 2.494-29.5469 7.47071-8.6985 4.98327-15.5395 11.8057-20.5195 20.46484s-7.4727 18.49149-7.4727 29.49609c0 11.30025 2.6583 21.37042 7.9766 30.2168 5.3118 8.84639 12.6561 15.77942 22.0215 20.79883 9.3654 5.01613 20.0706 7.52539 32.1133 7.52539 7.5094 0 15.2954-1.26551 23.3632-3.79492 8.0646-2.52613 16.15-7.17049 24.254-13.9375l-10.8184-13.82617c-5.5023 5.20337-11.595 8.97814-18.2832 11.32031-6.6915 2.33889-13.0496 3.51172-19.0742 3.51172-10.8535 0-20.125-3.1801-27.8184-9.53321-7.6934-6.35967-12.4708-14.48142-14.3301-24.36914h94.5606v-7.46875c0-11.22469-2.4179-21.18948-7.25-29.88476-4.8322-8.69856-11.4838-15.53626-19.959-20.51953-8.4752-4.97671-18.2122-7.47071-29.2168-7.47071zm311.2109 0c-11.1524 0-21.0914 2.50598-29.8261 7.52539-8.738 5.01942-15.6134 11.89617-20.6329 20.63086-5.0161 8.7347-7.5273 18.67704-7.5273 29.82618 0 11.15242 2.5112 21.09733 7.5273 29.83203 5.0195 8.73469 11.8949 15.60949 20.6329 20.6289 8.7347 5.01942 18.6737 7.52539 29.8261 7.52539 11.1492 0 21.0935-2.50597 29.8282-7.52539 8.7347-5.01941 15.6095-11.89421 20.6289-20.6289 5.0194-8.7347 7.5254-18.67961 7.5254-29.83203 0-11.14914-2.506-21.09148-7.5254-29.82618-5.0194-8.73469-11.8942-15.61144-20.6289-20.63086-8.7347-5.01941-18.679-7.52539-29.8282-7.52539zm-454.0488 16.72251c7.5061 0 14.2001 1.78472 20.0703 5.35547 5.8735 3.56746 10.5026 8.45816 13.8828 14.66015 3.3835 6.20857 5.0743 13.29127 5.0743 21.24415 0 7.8806-1.6908 14.9428-5.0743 21.1875-3.3802 6.2447-8.0093 11.14995-13.8828 14.7207-5.8702 3.56746-12.5642 5.35156-20.0703 5.35156-7.5094 0-14.202-1.7841-20.07226-5.35156-5.8735-3.57075-10.50259-8.476-13.88281-14.7207-3.38679-6.2447-5.07422-13.3069-5.07422-21.1875 0-7.95288 1.68743-15.03558 5.07422-21.24415 3.38022-6.20199 8.00931-11.09269 13.88281-14.66015 5.87026-3.57075 12.56286-5.35547 20.07226-5.35547zm-143.29296.002c7.50941 0 14.20009 1.7841 20.07031 5.35157 5.8735 3.57074 10.50321 8.45878 13.88672 14.66406 3.38022 6.20856 5.07226 13.29064 5.07226 21.24023 0 7.88061-1.69204 14.94476-5.07226 21.18946-3.38351 6.2447-8.01322 11.15128-13.88672 14.71875-5.87022 3.57074-12.5609 5.35546-20.07031 5.35546s-14.2001-1.78472-20.07032-5.35546c-5.8735-3.56747-10.50259-8.47405-13.88281-14.71875-3.3835-6.2447-5.07617-13.30885-5.07617-21.18946 0-7.94959 1.69267-15.03167 5.07617-21.24023 3.38022-6.20528 8.00931-11.09332 13.88281-14.66406 5.87022-3.56747 12.56091-5.35157 20.07032-5.35157zm-134.5918.002c9.73661 0 17.98823 3.06487 24.75195 9.20117 6.76373 6.13301 10.96566 14.06675 12.60157 23.80664h-75.60352c1.63591-9.58879 5.94845-17.4887 12.93555-23.69727 6.9871-6.20528 15.42673-9.31054 25.31445-9.31054zm420.61526 0c9.7366 0 17.9882 3.06487 24.7519 9.20117 6.7638 6.13301 10.9657 14.06675 12.6016 23.80664h-75.6035c1.6359-9.58879 5.9484-17.4887 12.9355-23.69727 6.9871-6.20528 15.4268-9.31054 25.3145-9.31054zm311.3183 0c7.5062 0 14.2021 1.78081 20.0723 5.35156 5.8735 3.57075 10.5013 8.45878 13.8848 14.66406 3.3802 6.20528 5.0722 13.28736 5.0722 21.24024 0 7.8806-1.692 14.94475-5.0722 21.18945-3.3835 6.2447-8.0113 11.148-13.8848 14.71875-5.8702 3.56746-12.5661 5.35156-20.0723 5.35156-7.5094 0-14.2001-1.7841-20.0703-5.35156-5.8735-3.57075-10.5026-8.47405-13.8828-14.71875-3.3868-6.2447-5.0742-13.30885-5.0742-21.18945 0-7.95288 1.6874-15.03496 5.0742-21.24024 3.3802-6.20528 8.0093-11.09331 13.8828-14.66406 5.8702-3.57075 12.5609-5.35156 20.0703-5.35156z\",\n    fill: \"#333\",\n    strokeWidth: 3.28496\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLogoTextBwHorizontal);\nexport default __webpack_public_path__ + \"static/media/logo_text_bw_horizontal.bbf91c64.svg\";\nexport { ForwardRef as ReactComponent };","var _linearGradient, _g, _g2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLogoTextColorVertical(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    clipRule: \"evenodd\",\n    fillRule: \"evenodd\",\n    height: 1000,\n    strokeLinejoin: \"round\",\n    strokeMiterlimit: 2,\n    viewBox: \"0 0 1510 1000\",\n    width: 1510,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _linearGradient || (_linearGradient = /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"a\",\n    gradientTransform: \"matrix(200 -420 420 200 660 1340)\",\n    gradientUnits: \"userSpaceOnUse\",\n    x1: 0,\n    x2: 1,\n    y1: 0,\n    y2: 0\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0,\n    stopColor: \"#fdd49a\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#dca055\"\n  }))), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    fillRule: \"nonzero\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m526.55078 695.48438v94.20312c-6.66549-7.06493-14.67792-12.58654-24.03125-16.56836-9.35749-3.98182-19.51014-5.97461-30.45703-5.97461-14.43358 0-27.34789 3.35659-38.74414 10.07617-11.39625 6.71959-20.35539 15.92332-26.87109 27.61914-6.51987 11.69583-9.77735 25.00684-9.77735 39.93555 0 14.93287 3.25748 28.24389 9.77735 39.93555 6.5157 11.69582 15.47484 20.90346 26.87109 27.62304 11.39625 6.71543 24.31056 10.07227 38.74414 10.07227 11.24646 0 21.64813-2.11449 31.20117-6.3418 9.55305-4.23146 17.66212-10.02587 24.33594-17.39453l1.34375 20.75391h22.24414v-223.93945zm-526.55078.00195v223.93945h26.128906v-98.53125h127.642574v98.53125h26.1211v-223.93945h-26.1211v101.52148h-127.642574v-101.52148zm970.24609.29687v223.93946h60.91011c43.9915 0 77.78-9.80258 101.3672-29.41211 23.5872-19.60538 35.3828-47.2249 35.3828-82.85743 0-35.5285-11.7956-63.02267-35.3828-82.48242-23.5872-19.45559-57.3757-29.1875-101.3672-29.1875zm26.125 23.88672h34.78511c35.4287 0 62.6012 7.63976 81.5118 22.91797 18.9063 15.27821 28.3652 36.90095 28.3652 64.86523 0 28.06831-9.4589 49.8164-28.3652 65.24024-18.9106 15.428-46.0831 23.14258-81.5118 23.14258h-34.78511zm-702.11718 47.47656c-14.73316 0-27.91466 3.33256-39.56055 9.99805-11.64589 6.67382-20.80521 15.80664-27.4707 27.39844-6.66966 11.59596-10.00586 24.75512-10.00586 39.48828 0 15.12843 3.56092 28.61363 10.67578 40.45508 7.11485 11.84977 16.94808 21.12416 29.48437 27.84375 12.54045 6.71958 26.87325 10.07812 42.9961 10.07812 10.05233 0 20.47608-1.69349 31.27734-5.07617 10.7971-3.38268 21.62172-9.60419 32.46875-18.66211l-14.47852-18.50976c-7.36865 6.96506-15.52852 12.01515-24.48242 15.15234-8.95806 3.13303-17.46554 4.70117-25.5332 4.70117-14.52928 0-26.94633-4.25497-37.24414-12.76367-10.30198-8.5087-16.69548-19.3858-19.18359-32.62109h126.59765v-10.00196c0-15.02857-3.23709-28.36803-9.70703-40.00976-6.46578-11.6459-15.37438-20.79884-26.7207-27.47266-11.34632-6.66549-24.38013-9.99805-39.11328-9.99805zm369.64843 0c-14.43358 0-27.34789 3.35685-38.74414 10.07227-11.39625 6.71958-20.35538 15.92723-26.87109 27.62305-6.51987 11.69582-9.77734 25.00293-9.77734 39.93164 0 14.93287 3.25747 28.24779 9.77734 39.93945 6.51571 11.69582 15.47484 20.8976 26.87109 27.61719 11.39625 6.71958 24.31056 10.07812 38.74414 10.07812 10.94273 0 21.09955-1.99304 30.45704-5.9707 9.34916-3.98182 17.36575-9.50318 24.03124-16.57227v7.76368c0 20.30021-5.10087 36.54903-15.29882 48.74414-10.20628 12.18679-25.90458 18.28515-47.10352 18.28515-8.35891 0-16.12233-1.3677-23.28711-4.10547-7.16478-2.73776-13.53985-6.54575-19.11523-11.41796l-12.23633 20.59961c7.36034 5.47552 15.62347 9.72828 24.78125 12.76562 9.15361 3.03734 18.96035 4.55273 29.41211 4.55273 19.00623 0 35.00407-3.85826 47.99805-11.57226 12.98564-7.70984 22.81276-18.48613 29.48242-32.31641 6.66549-13.8386 10.0039-29.96154 10.0039-48.37695v-134.6582h-22.24414l-1.34765 20.7539c-6.66966-7.36866-14.77899-13.16086-24.33203-17.39648-9.55305-4.22731-19.95887-6.33985-31.20118-6.33985zm193.48047 0c-14.72899 0-27.91465 3.33256-39.56054 9.99805-11.6459 6.67382-20.80326 15.80664-27.46875 27.39844-6.66966 11.59596-10.00586 24.75512-10.00586 39.48828 0 15.12843 3.56092 28.61363 10.67578 40.45508 7.11485 11.84977 16.94587 21.12416 29.48633 27.84375 12.54045 6.71958 26.87129 10.07812 42.99414 10.07812 10.05649 0 20.47803-1.69349 31.27929-5.07617 10.79295-3.38268 21.61977-9.60419 32.4668-18.66211l-14.47852-18.50976c-7.36865 6.96506-15.52436 12.01515-24.48242 15.15234-8.95806 3.13303-17.46775 4.70117-25.53125 4.70117-14.52928 0-26.94412-4.25497-37.24609-12.76367-10.30198-8.5087-16.69743-19.3858-19.18555-32.62109h126.59961v-10.00196c0-15.02857-3.23709-28.36803-9.70703-40.00976-6.46578-11.6459-15.37438-20.79884-26.7207-27.47266-11.34632-6.66549-24.38208-9.99805-39.11524-9.99805zm413.53909 0c-14.9329 0-28.2437 3.35659-39.9395 10.07618-11.6958 6.71958-20.8995 15.92332-27.6191 27.61914-6.7154 11.69582-10.0781 25.00683-10.0781 39.93554 0 14.93288 3.3627 28.24194 10.0781 39.9336 6.7196 11.69582 15.9233 20.90346 27.6191 27.62304 11.6958 6.71959 25.0066 10.07813 39.9395 10.07813 14.9287 0 28.238-3.35854 39.9297-10.07813 11.6958-6.71958 20.9034-15.92722 27.623-27.62304 6.7196-11.69166 10.0781-25.00072 10.0781-39.9336 0-14.92871-3.3585-28.23972-10.0781-39.93554s-15.9272-20.89956-27.623-27.61914c-11.6917-6.71959-25.001-10.07618-39.9297-10.07618zm182.1347.002c-14.9328 0-28.2438 3.35854-39.9355 10.07812-11.6958 6.71959-20.9035 15.92332-27.6231 27.61914-6.7154 11.69582-10.0761 25.00489-10.0761 39.9336s3.3607 28.24388 10.0761 39.93554c6.7196 11.69583 15.9273 20.89956 27.6231 27.61914 11.6917 6.71959 25.0027 10.07813 39.9355 10.07813 11.2465 0 21.5935-1.9403 31.0508-5.82227 9.4532-3.88196 17.6678-9.30641 24.6328-16.27148l-17.1679-17.02148c-4.6809 5.18011-10.3016 9.25698-16.8672 12.24023-6.574 2.98741-13.7888 4.48047-21.6485 4.48047-10.0565 0-19.0153-2.38754-26.875-7.16406-7.8637-4.78069-14.059-11.34591-18.5859-19.70899-4.531-8.35891-6.793-17.81777-6.793-28.36523 0-10.64732 2.262-20.12852 6.793-28.4375 4.5269-8.30899 10.7222-14.85409 18.5859-19.63477 7.8597-4.77652 16.8185-7.16406 26.875-7.16406 7.8597 0 15.0745 1.46903 21.6485 4.40234 6.5656 2.93748 12.1863 7.04255 16.8672 12.31836l17.1679-17.16992c-6.965-6.86521-15.1796-12.24108-24.6328-16.12305-9.4573-3.88196-19.8043-5.82226-31.0508-5.82226zm-978.75582 22.38867c10.05233 0 19.00952 2.38924 26.86914 7.16992 7.86379 4.77652 14.06076 11.31992 18.5918 19.62891 4.52688 8.30898 6.78906 17.79213 6.78906 28.43945 0 10.55162-2.26218 20.00437-6.78906 28.36328-4.53104 8.36308-10.72801 14.9283-18.5918 19.70899-7.85962 4.77652-16.81681 7.16601-26.86914 7.16601s-19.00951-2.38949-26.86914-7.16601c-7.86795-4.78069-14.06322-11.34591-18.58594-19.70899-4.5352-8.35891-6.79882-17.81166-6.79882-28.36328 0-10.64732 2.26362-20.13047 6.79882-28.43945 4.52272-8.30899 10.71799-14.85239 18.58594-19.62891 7.85963-4.78068 16.81681-7.16992 26.86914-7.16992zm-180.19336.002c13.03558 0 24.08271 4.10312 33.14063 12.31641 9.05375 8.21329 14.67864 18.83551 16.86718 31.87109h-101.21875c2.18855-12.83586 7.96478-23.41367 17.32227-31.72265 9.35333-8.30899 20.64922-12.46485 33.88867-12.46485zm372.0332 0c10.05234 0 19.00952 2.3895 26.86915 7.16602 7.86378 4.78068 14.06075 11.32408 18.59179 19.6289 4.52688 8.31315 6.78906 17.7963 6.78906 28.43946 0 10.55162-2.26218 20.00827-6.78906 28.36718-4.53104 8.35892-10.72801 14.92856-18.59179 19.70508-7.85963 4.78069-16.81681 7.16992-26.86915 7.16992-10.05233 0-19.01121-2.38923-26.875-7.16992-7.86378-4.77652-14.05931-11.34616-18.58203-19.70508-4.5352-8.35891-6.79687-17.81556-6.79687-28.36718 0-10.64316 2.26167-20.12631 6.79687-28.43946 4.52272-8.30482 10.71825-14.84822 18.58203-19.6289 7.86379-4.77652 16.82267-7.16602 26.875-7.16602zm191.09766 0c13.03558 0 24.08076 4.10312 33.13867 12.31641 9.05376 8.21329 14.6806 18.83551 16.86914 31.87109h-101.21875c2.18855-12.83586 7.96283-23.41367 17.32032-31.72265 9.35333-8.30899 20.65117-12.46485 33.89062-12.46485zm413.68362 0c10.0481 0 19.0095 2.38729 26.8691 7.16797 7.8638 4.77652 14.0591 11.32188 18.586 19.63086 4.531 8.30899 6.7949 17.79214 6.7949 28.43945 0 10.55162-2.2639 20.00412-6.7949 28.36719-4.5269 8.35891-10.7222 14.9244-18.586 19.70508-7.8596 4.78068-16.821 7.16601-26.8691 7.16601-10.0565 0-19.0154-2.38533-26.875-7.16601-7.8638-4.78068-14.0591-11.34617-18.586-19.70508-4.531-8.36307-6.7949-17.81557-6.7949-28.36719 0-10.64731 2.2639-20.13046 6.7949-28.43945 4.5269-8.30898 10.7222-14.85434 18.586-19.63086 7.8596-4.78068 16.8185-7.16797 26.875-7.16797z\",\n    fill: \"#fff\",\n    strokeWidth: 4.16073\n  }), /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"matrix(.41332019 0 0 .41332019 390.39426 -59.003113)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m1553.66 961.083 75.25-75.258-75.25-75.246 56.61-90.096-90.1-56.616 35.15-100.446-100.44-35.142 11.91-105.746-105.74-11.912-11.92-105.75-105.74 11.912-35.15-100.445-100.43 35.145-56.63-90.1-90.107 56.617-75.242-75.246-75.242 75.25-90.104-56.612-56.612 90.096-100.442-35.15-35.142 100.441-105.75-11.916-11.912 105.741-105.742 11.913 11.917 105.741-100.454 35.15 35.145 100.438-90.1 56.612 56.621 90.117-75.258 75.25 75.25 75.258-56.613 90.107 90.1 56.61-35.145 100.44 100.45 35.15-11.913 105.73 105.742 11.92 11.912 105.74 105.75-11.91 35.142 100.43 100.437-35.13 56.617 90.1 90.096-56.62 75.25 74.55 75.25-74.53 90.099 56.61 56.61-90.11 100.45 35.15 35.14-100.44 105.75 11.91 11.91-105.75 105.75-11.91-11.92-105.74 100.45-35.15-35.15-100.45 90.1-56.61z\",\n    fill: \"#b51f08\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m1401.3 1004.78c0-145.437-117.9-263.341-263.34-263.341-72.24 0-137.68 29.112-185.252 76.225l-.033-.034-67.096 67.1-54.862-54.862c-48.267-55.067-119.071-89.879-198.042-89.879-145.442 0-263.342 117.904-263.342 263.341 0 76 32.23 144.43 83.721 192.49l432.779 432.55 423.217-423.49c52.88-49.77 92.25-120 92.25-200.1\",\n    fill: \"#fdd49a\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m885.579 884.73-54.862-54.862c-48.267-55.067-119.071-89.879-198.042-89.879-145.442 0-263.342 117.904-263.342 263.341 0 76 32.23 144.43 83.721 192.49l432.779 432.55\",\n    fill: \"url(#a)\"\n  })))), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"matrix(.41332019 0 0 .41332019 390.394261 -59.003113)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m885.833 1628.37-.254-743.64\",\n    fill: \"none\"\n  }), /*#__PURE__*/React.createElement(\"g\", {\n    fillRule: \"nonzero\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m961.011 1553.59c-19.279-19.35-45.917-31.31-75.325-31.31-29.417 0-56.046 11.96-75.329 31.31.308 41.34 33.908 74.76 75.325 74.76 41.416 0 75.02-33.43 75.329-74.76\",\n    fill: \"#010007\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m797.707 1098.22c0 31.8-25.767 57.57-57.571 57.57-31.787 0-57.558-25.77-57.558-57.57s25.771-57.57 57.558-57.57c31.804 0 57.571 25.77 57.571 57.57\",\n    fill: \"#010007\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m777.962 1089.59c0 8.82-7.146 15.94-15.95 15.94-8.808 0-15.958-7.12-15.958-15.94 0-8.81 7.15-15.96 15.958-15.96 8.804 0 15.95 7.15 15.95 15.96\",\n    fill: \"#fffffa\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m1089.65 1098.22c0 31.8-25.77 57.57-57.57 57.57-31.79 0-57.567-25.77-57.567-57.57s25.777-57.57 57.567-57.57c31.8 0 57.57 25.77 57.57 57.57\",\n    fill: \"#010007\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m1069.9 1089.59c0 8.82-7.15 15.94-15.95 15.94-8.81 0-15.96-7.12-15.96-15.94 0-8.81 7.15-15.96 15.96-15.96 8.8 0 15.95 7.15 15.95 15.96\",\n    fill: \"#fffffa\"\n  })))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLogoTextColorVertical);\nexport default __webpack_public_path__ + \"static/media/logo_text_color_vertical.44692fde.svg\";\nexport { ForwardRef as ReactComponent };","var _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLogoTextWbHorizontal(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    clipRule: \"evenodd\",\n    fillRule: \"evenodd\",\n    height: 430.07892,\n    strokeLinejoin: \"round\",\n    strokeMiterlimit: 2,\n    viewBox: \"0 0 1660.2405 430.07892\",\n    width: 1660.2405,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    fillRule: \"nonzero\",\n    transform: \"translate(10.242436 10.242452)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m0-124.766-6.399 6.398-7.662-4.814-4.812 7.662-8.541-2.989-2.988 8.54-8.993-1.013-1.011 8.991-8.992 1.013 1.012 8.991-8.541 2.989 2.988 8.54-7.661 4.815 4.815 7.662-6.399 6.399 6.398 6.398-4.814 7.661 7.661 4.814-2.988 8.541 8.541 2.988-1.012 8.985 8.992 1.011 1.011 8.985 8.993-1.015 2.988 8.54 8.541-2.988 4.812 7.662 7.662-4.813h12.796l7.661 4.813 4.814-7.66 8.541 2.988 2.988-8.54 8.992 1.014 1.014-8.985 8.99-1.012-1.012-8.985 8.54-2.988-2.988-8.541 7.662-4.815-4.815-7.66 6.398-6.398-6.398-6.399 4.815-7.66-7.662-4.814 2.988-8.542-8.54-2.988 1.014-8.991-8.992-1.015-1.013-8.991-8.991 1.013-2.989-8.54-8.54 2.989-4.814-7.663-7.663 4.815z\",\n    fill: \"none\",\n    stroke: \"#fff\",\n    strokeLinejoin: \"miter\",\n    strokeMiterlimit: 2,\n    strokeWidth: 4.4095,\n    transform: \"matrix(3.2849556 0 0 3.2849556 207.55664 409.85076)\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m0-30.513c0-12.366-10.025-22.393-22.392-22.393-6.143 0-11.707 2.476-15.752 6.481l-.003-.002-5.705 5.706-4.665-4.665c-4.104-4.683-10.125-7.642-16.839-7.642-12.367 0-22.392 10.025-22.392 22.391 0 6.463 2.74 12.281 7.118 16.368l36.799 36.784 35.987-36.014c4.496-4.232 7.844-10.203 7.844-17.014\",\n    fill: \"#fefefe\",\n    transform: \"matrix(3.2849556 0 0 3.2849556 351.53527 341.0132)\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m-4.558-8.253c1.645 1.64 2.662 3.904 2.662 6.406 0 2.5-1.017 4.766-2.662 6.405-3.514-.026-6.357-2.883-6.357-6.405s2.843-6.38 6.357-6.406\",\n    transform: \"matrix(0 -3.2849556 -3.2849556 0 201.44397 379.04995)\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m-4.896-4.894c-2.704 0-4.895 2.191-4.895 4.894 0 2.704 2.191 4.896 4.895 4.896s4.896-2.192 4.896-4.896c0-2.703-2.192-4.894-4.896-4.894\",\n    transform: \"matrix(0 -3.2849556 -3.2849556 0 166.86087 250.80164)\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m-1.356-1.355c-.751 0-1.356.607-1.356 1.356 0 .748.605 1.355 1.356 1.355.749 0 1.357-.607 1.357-1.355 0-.749-.608-1.356-1.357-1.356\",\n    fill: \"#fff\",\n    transform: \"matrix(0 -3.2849556 -3.2849556 0 172.96926 261.80315)\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m-4.896-4.894c-2.704 0-4.895 2.191-4.895 4.896 0 2.703 2.191 4.894 4.895 4.894s4.896-2.191 4.896-4.894c0-2.705-2.192-4.896-4.896-4.896\",\n    transform: \"matrix(0 -3.2849556 -3.2849556 0 248.40602 250.80164)\"\n  }), /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"#fff\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m-1.357-1.356c-.751 0-1.356.608-1.356 1.358 0 .748.605 1.355 1.356 1.355.749 0 1.357-.607 1.357-1.355 0-.75-.608-1.358-1.357-1.358\",\n    transform: \"matrix(0 -3.2849556 -3.2849556 0 254.51398 261.79888)\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m914.05273 122.625v70.36133c-4.97999-5.27564-10.96602-9.39883-17.95312-12.375-6.99039-2.97289-14.57179-4.46094-22.74805-4.46094-10.77794 0-20.42618 2.50598-28.9375 7.52539s-15.20529 11.89616-20.07031 20.63086c-4.87159 8.73798-7.30664 18.67703-7.30664 29.82617 0 11.15571 2.43505 21.10062 7.30664 29.83203 4.86502 8.7347 11.55899 15.6095 20.07031 20.62891s18.15956 7.5293 28.9375 7.5293c8.39963 0 16.16843-1.58011 23.30664-4.74024 7.13493-3.16012 13.19251-7.48988 18.17578-12.99219l1.00586 15.50196h16.61133v-167.26758zm-393.29492.002v167.26563h19.51563v-73.5957h95.33984v73.5957h19.51172v-167.26568h-19.51172v75.82813h-95.33984v-75.82813zm724.69919.22071v167.26757h45.4961c32.8594 0 58.0977-7.32308 75.7149-21.9707 17.6172-14.64105 26.4277-35.27334 26.4277-61.88476 0-26.53916-8.8105-47.07674-26.4277-61.60938s-42.8555-21.80273-75.7149-21.80273zm19.5157 17.8457h25.9804c26.4636 0 46.7614 5.70463 60.8867 17.11328 14.1221 11.41522 21.1856 27.56409 21.1856 48.45313 0 20.9613-7.0635 37.20817-21.1856 48.72851-14.1253 11.52363-34.4231 17.28711-60.8867 17.28711h-25.9804zm-248.3301 35.45508c-10.778 0-20.42425 2.50988-28.93557 7.52929-8.51132 5.01942-15.20725 11.89421-20.07226 20.62891-4.87159 8.7347-7.30469 18.6757-7.30469 29.82813 0 11.15242 2.4331 21.09538 7.30469 29.83007 4.86501 8.7347 11.56094 15.61145 20.07226 20.63086 8.51132 5.01942 18.15757 7.52539 28.93557 7.52539 8.1762 0 15.7596-1.48805 22.75-4.46093 6.9871-2.97289 12.9712-7.09608 17.9512-12.375v5.79492c0 15.16664-3.81 27.30097-11.4278 36.41015-7.6244 9.10262-19.3481 13.65625-35.1816 13.65625-6.2447 0-12.04336-1.02121-17.39456-3.06445-5.35447-2.04653-10.11335-4.88956-14.27539-8.5293l-9.14257 15.38672c5.49901 4.08977 11.66853 7.2633 18.50781 9.53321 6.83928 2.2699 14.16041 3.40039 21.96871 3.40039 14.1976 0 26.1478-2.88015 35.8516-8.63867 9.7005-5.76182 17.0402-13.8114 22.0234-24.14258 4.98-10.33447 7.4688-22.37675 7.4688-36.13086v-100.58208h-16.6152l-1.004 15.50195c-4.9799-5.5023-11.0375-9.83206-18.1757-12.99219-7.135-3.16013-14.9051-4.74023-23.3047-4.74023zm591.7656.002c-11.1524 0-21.0973 2.50989-29.832 7.5293-8.7347 5.01612-15.6095 11.89092-20.6289 20.6289-5.0162 8.7347-7.5254 18.67375-7.5254 29.82618 0 11.15242 2.5092 21.09671 7.5254 29.82812 5.0194 8.73798 11.8942 15.61278 20.6289 20.62891 8.7347 5.01941 18.6796 7.52929 29.832 7.52929 8.3996 0 16.1288-1.44899 23.1914-4.34961 7.0627-2.90061 13.1951-6.95092 18.3984-12.15429l-12.8242-12.71094c-3.4952 3.86639-7.6932 6.91014-12.5976 9.14063-4.9078 2.23048-10.2978 3.34765-16.168 3.34765-7.5094 0-14.2007-1.78277-20.0742-5.35351-5.8735-3.56747-10.5026-8.47539-13.8828-14.7168-3.3835-6.2447-5.0723-13.30885-5.0723-21.18945 0-7.95288 1.6888-15.03363 5.0723-21.24219 3.3802-6.20528 8.0093-11.09465 13.8828-14.66211 5.8735-3.57075 12.5648-5.35352 20.0742-5.35352 5.8702 0 11.2602 1.09605 16.168 3.28711 4.9044 2.19435 9.1024 5.25923 12.5976 9.20117l12.8242-12.82421c-5.2033-5.12782-11.3357-9.14236-18.3984-12.04297-7.0626-2.90062-14.7918-4.34766-23.1914-4.34766zm-867.86718.002c-11.00132 0-20.85027 2.494-29.54883 7.47071-8.69856 4.98327-15.53759 11.8057-20.51758 20.46484s-7.47266 18.49149-7.47266 29.49609c0 11.30025 2.65627 21.37042 7.97461 30.2168 5.31178 8.84639 12.65475 15.77942 22.02344 20.79883 9.36541 5.01613 32.11328 7.52539 32.11328 7.52539 7.50941 0 15.29543-1.26551 23.36328-3.79492 8.06457-2.52613 16.14797-7.17049 24.25196-13.9375l-10.81641-13.82617c-5.5023 5.20337-11.59699 8.97814-18.28516 11.32031-6.69474 2.33889-13.04765 3.51172-19.07226 3.51172-10.8535 0-20.12695-3.1801-27.82031-9.53321-7.69337-6.35967-12.46885-14.48142-14.32813-24.36914h94.56055v-7.46875c0-11.22469-2.41783-21.18948-7.25-29.88476-4.83217-8.69856-11.48576-15.53626-19.96094-20.51953-8.47519-4.97671-18.21024-7.47071-29.21484-7.47071zm420.61328 0c-11.0013 0-20.8483 2.494-29.5469 7.47071-8.6985 4.98327-15.5395 11.8057-20.5195 20.46484s-7.4727 18.49149-7.4727 29.49609c0 11.30025 2.6583 21.37042 7.9766 30.2168 5.3118 8.84639 12.6561 15.77942 22.0215 20.79883 9.3654 5.01613 20.0706 7.52539 32.1133 7.52539 7.5094 0 15.2954-1.26551 23.3632-3.79492 8.0646-2.52613 16.15-7.17049 24.254-13.9375l-10.8184-13.82617c-5.5023 5.20337-11.595 8.97814-18.2832 11.32031-6.6915 2.33889-13.0496 3.51172-19.0742 3.51172-10.8535 0-20.125-3.1801-27.8184-9.53321-7.6934-6.35967-12.4708-14.48142-14.3301-24.36914h94.5606v-7.46875c0-11.22469-2.4179-21.18948-7.25-29.88476-4.8322-8.69856-11.4838-15.53626-19.959-20.51953-8.4752-4.97671-18.2122-7.47071-29.2168-7.47071zm311.2109 0c-11.1524 0-21.0914 2.50598-29.8261 7.52539-8.738 5.01942-15.6134 11.89617-20.6329 20.63086-5.0161 8.7347-7.5273 18.67704-7.5273 29.82618 0 11.15242 2.5112 21.09733 7.5273 29.83203 5.0195 8.73469 11.8949 15.60949 20.6329 20.6289 8.7347 5.01942 18.6737 7.52539 29.8261 7.52539 11.1492 0 21.0935-2.50597 29.8282-7.52539 8.7347-5.01941 15.6095-11.89421 20.6289-20.6289 5.0194-8.7347 7.5254-18.67961 7.5254-29.83203 0-11.14914-2.506-21.09148-7.5254-29.82618-5.0194-8.73469-11.8942-15.61144-20.6289-20.63086-8.7347-5.01941-18.679-7.52539-29.8282-7.52539zm-454.0488 16.72251c7.5061 0 14.2001 1.78472 20.0703 5.35547 5.8735 3.56746 10.5026 8.45816 13.8828 14.66015 3.3835 6.20857 5.0743 13.29127 5.0743 21.24415 0 7.8806-1.6908 14.9428-5.0743 21.1875-3.3802 6.2447-8.0093 11.14995-13.8828 14.7207-5.8702 3.56746-12.5642 5.35156-20.0703 5.35156-7.5094 0-14.202-1.7841-20.07226-5.35156-5.8735-3.57075-10.50259-8.476-13.88281-14.7207-3.38679-6.2447-5.07422-13.3069-5.07422-21.1875 0-7.95288 1.68743-15.03558 5.07422-21.24415 3.38022-6.20199 8.00931-11.09269 13.88281-14.66015 5.87026-3.57075 12.56286-5.35547 20.07226-5.35547zm-143.29296.002c7.50941 0 14.20009 1.7841 20.07031 5.35157 5.8735 3.57074 10.50321 8.45878 13.88672 14.66406 3.38022 6.20856 5.07226 13.29064 5.07226 21.24023 0 7.88061-1.69204 14.94476-5.07226 21.18946-3.38351 6.2447-8.01322 11.15128-13.88672 14.71875-5.87022 3.57074-12.5609 5.35546-20.07031 5.35546s-14.2001-1.78472-20.07032-5.35546c-5.8735-3.56747-10.50259-8.47405-13.88281-14.71875-3.3835-6.2447-5.07617-13.30885-5.07617-21.18946 0-7.94959 1.69267-15.03167 5.07617-21.24023 3.38022-6.20528 8.00931-11.09332 13.88281-14.66406 5.87022-3.56747 12.56091-5.35157 20.07032-5.35157zm-134.5918.002c9.73661 0 17.98823 3.06487 24.75195 9.20117 6.76373 6.13301 10.96566 14.06675 12.60157 23.80664h-75.60352c1.63591-9.58879 5.94845-17.4887 12.93555-23.69727 6.9871-6.20528 15.42673-9.31054 25.31445-9.31054zm420.61526 0c9.7366 0 17.9882 3.06487 24.7519 9.20117 6.7638 6.13301 10.9657 14.06675 12.6016 23.80664h-75.6035c1.6359-9.58879 5.9484-17.4887 12.9355-23.69727 6.9871-6.20528 15.4268-9.31054 25.3145-9.31054zm311.3183 0c7.5062 0 14.2021 1.78081 20.0723 5.35156 5.8735 3.57075 10.5013 8.45878 13.8848 14.66406 3.3802 6.20528 5.0722 13.28736 5.0722 21.24024 0 7.8806-1.692 14.94475-5.0722 21.18945-3.3835 6.2447-8.0113 11.148-13.8848 14.71875-5.8702 3.56746-12.5661 5.35156-20.0723 5.35156-7.5094 0-14.2001-1.7841-20.0703-5.35156-5.8735-3.57075-10.5026-8.47405-13.8828-14.71875-3.3868-6.2447-5.0742-13.30885-5.0742-21.18945 0-7.95288 1.6874-15.03496 5.0742-21.24024 3.3802-6.20528 8.0093-11.09331 13.8828-14.66406 5.8702-3.57075 12.5609-5.35156 20.0703-5.35156z\",\n    strokeWidth: 3.28496\n  })))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLogoTextWbHorizontal);\nexport default __webpack_public_path__ + \"static/media/logo_text_wb_horizontal.fb1ff24d.svg\";\nexport { ForwardRef as ReactComponent };","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { ReactComponent as LogoBwHorizontal } from './logo_text_bw_horizontal.svg'\nimport { ReactComponent as LogoColorVertical } from './logo_text_color_vertical.svg'\nimport { ReactComponent as LogoWbHorizontal } from './logo_text_wb_horizontal.svg'\n\nexport enum HedgeDocLogoSize {\n  SMALL = 32,\n  MEDIUM = 64,\n  BIG = 256\n}\n\nexport interface HedgeDocLogoProps {\n  size?: HedgeDocLogoSize | number\n  logoType: HedgeDocLogoType\n}\n\nexport enum HedgeDocLogoType {\n  COLOR_VERTICAL,\n  BW_HORIZONTAL,\n  WB_HORIZONTAL\n}\n\nexport const HedgeDocLogoWithText: React.FC<HedgeDocLogoProps> = ({ size = HedgeDocLogoSize.MEDIUM, logoType }) => {\n  switch (logoType) {\n    case HedgeDocLogoType.COLOR_VERTICAL:\n      return <LogoColorVertical className={'w-auto'} title={'HedgeDoc logo with text'} style={{ height: size }} />\n    case HedgeDocLogoType.BW_HORIZONTAL:\n      return <LogoBwHorizontal className={'w-auto'} title={'HedgeDoc logo with text'} style={{ height: size }} />\n    case HedgeDocLogoType.WB_HORIZONTAL:\n      return <LogoWbHorizontal className={'w-auto'} title={'HedgeDoc logo with text'} style={{ height: size }} />\n    default:\n      return null\n  }\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\n// import { RevealOptions } from 'reveal.js'\n\nexport interface RawNoteFrontmatter {\n  title: string | undefined\n  description: string | undefined\n  tags: string | string[] | undefined\n  robots: string | undefined\n  lang: string | undefined\n  dir: string | undefined\n  breaks: boolean | undefined\n  GA: string | undefined\n  disqus: string | undefined\n  type: string | undefined\n  slideOptions: unknown\n  opengraph: { [key: string]: string } | null\n}\n\nexport const ISO6391 = [\n  'aa',\n  'ab',\n  'af',\n  'am',\n  'ar',\n  'ar-ae',\n  'ar-bh',\n  'ar-dz',\n  'ar-eg',\n  'ar-iq',\n  'ar-jo',\n  'ar-kw',\n  'ar-lb',\n  'ar-ly',\n  'ar-ma',\n  'ar-om',\n  'ar-qa',\n  'ar-sa',\n  'ar-sy',\n  'ar-tn',\n  'ar-ye',\n  'as',\n  'ay',\n  'de-at',\n  'de-ch',\n  'de-li',\n  'de-lu',\n  'div',\n  'dz',\n  'el',\n  'en',\n  'en-au',\n  'en-bz',\n  'en-ca',\n  'en-gb',\n  'en-ie',\n  'en-jm',\n  'en-nz',\n  'en-ph',\n  'en-tt',\n  'en-us',\n  'en-za',\n  'en-zw',\n  'eo',\n  'es',\n  'es-ar',\n  'es-bo',\n  'es-cl',\n  'es-co',\n  'es-cr',\n  'es-do',\n  'es-ec',\n  'es-es',\n  'es-gt',\n  'es-hn',\n  'es-mx',\n  'es-ni',\n  'es-pa',\n  'es-pe',\n  'es-pr',\n  'es-py',\n  'es-sv',\n  'es-us',\n  'es-uy',\n  'es-ve',\n  'et',\n  'eu',\n  'fa',\n  'fi',\n  'fj',\n  'fo',\n  'fr',\n  'fr-be',\n  'fr-ca',\n  'fr-ch',\n  'fr-lu',\n  'fr-mc',\n  'fy',\n  'ga',\n  'gd',\n  'gl',\n  'gn',\n  'gu',\n  'ha',\n  'he',\n  'hi',\n  'hr',\n  'hu',\n  'hy',\n  'ia',\n  'id',\n  'ie',\n  'ik',\n  'in',\n  'is',\n  'it',\n  'it-ch',\n  'iw',\n  'ja',\n  'ji',\n  'jw',\n  'ka',\n  'kk',\n  'kl',\n  'km',\n  'kn',\n  'ko',\n  'kok',\n  'ks',\n  'ku',\n  'ky',\n  'kz',\n  'la',\n  'ln',\n  'lo',\n  'ls',\n  'lt',\n  'lv',\n  'mg',\n  'mi',\n  'mk',\n  'ml',\n  'mn',\n  'mo',\n  'mr',\n  'ms',\n  'mt',\n  'my',\n  'na',\n  'nb-no',\n  'ne',\n  'nl',\n  'nl-be',\n  'nn-no',\n  'no',\n  'oc',\n  'om',\n  'or',\n  'pa',\n  'pl',\n  'ps',\n  'pt',\n  'pt-br',\n  'qu',\n  'rm',\n  'rn',\n  'ro',\n  'ro-md',\n  'ru',\n  'ru-md',\n  'rw',\n  'sa',\n  'sb',\n  'sd',\n  'sg',\n  'sh',\n  'si',\n  'sk',\n  'sl',\n  'sm',\n  'sn',\n  'so',\n  'sq',\n  'sr',\n  'ss',\n  'st',\n  'su',\n  'sv',\n  'sv-fi',\n  'sw',\n  'sx',\n  'syr',\n  'ta',\n  'te',\n  'tg',\n  'th',\n  'ti',\n  'tk',\n  'tl',\n  'tn',\n  'to',\n  'tr',\n  'ts',\n  'tt',\n  'tw',\n  'uk',\n  'ur',\n  'us',\n  'uz',\n  'vi',\n  'vo',\n  'wo',\n  'xh',\n  'yi',\n  'yo',\n  'zh',\n  'zh-cn',\n  'zh-hk',\n  'zh-mo',\n  'zh-sg',\n  'zh-tw',\n  'zu'\n] as const\n\nexport enum NoteType {\n  DOCUMENT = '',\n  SLIDE = 'slide'\n}\n\nexport enum NoteTextDirection {\n  LTR = 'ltr',\n  RTL = 'rtl'\n}\n\nexport class NoteFrontmatter {\n  title: string\n  description: string\n  tags: string[]\n  deprecatedTagsSyntax: boolean\n  robots: string\n  lang: typeof ISO6391[number]\n  dir: NoteTextDirection\n  breaks: boolean\n  GA: string\n  disqus: string\n  type: NoteType\n  // slideOptions: RevealOptions\n  opengraph: Map<string, string>\n\n  constructor(rawData: RawNoteFrontmatter) {\n    this.title = rawData.title ?? ''\n    this.description = rawData.description ?? ''\n    this.robots = rawData.robots ?? ''\n    this.breaks = rawData.breaks ?? true\n    this.GA = rawData.GA ?? ''\n    this.disqus = rawData.disqus ?? ''\n    this.lang = (rawData.lang ? ISO6391.find((lang) => lang === rawData.lang) : undefined) ?? 'en'\n    this.type =\n      (rawData.type ? Object.values(NoteType).find((type) => type === rawData.type) : undefined) ?? NoteType.DOCUMENT\n    this.dir =\n      (rawData.dir ? Object.values(NoteTextDirection).find((dir) => dir === rawData.dir) : undefined) ??\n      NoteTextDirection.LTR\n\n    /* this.slideOptions = (rawData?.slideOptions as RevealOptions) ?? {\n     transition: 'none',\n     theme: 'white'\n     } */\n    if (typeof rawData?.tags === 'string') {\n      this.tags = rawData?.tags?.split(',').map((entry) => entry.trim()) ?? []\n      this.deprecatedTagsSyntax = true\n    } else if (typeof rawData?.tags === 'object') {\n      this.tags = rawData?.tags?.filter((tag) => tag !== null) ?? []\n      this.deprecatedTagsSyntax = false\n    } else {\n      this.tags = []\n      this.deprecatedTagsSyntax = false\n    }\n    this.opengraph = rawData?.opengraph\n      ? new Map<string, string>(Object.entries(rawData.opengraph))\n      : new Map<string, string>()\n  }\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { useApplicationState } from './use-application-state'\n\nexport const useIsDarkModeActivated = (): boolean => {\n  return useApplicationState((state) => state.darkMode.darkMode)\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { ToggleButton, ToggleButtonGroup } from 'react-bootstrap'\nimport { useTranslation } from 'react-i18next'\nimport { setEditorMode } from '../../../redux/editor/methods'\nimport { ForkAwesomeIcon } from '../../common/fork-awesome/fork-awesome-icon'\nimport { useApplicationState } from '../../../hooks/common/use-application-state'\n\nexport enum EditorMode {\n  PREVIEW = 'view',\n  BOTH = 'both',\n  EDITOR = 'edit'\n}\n\nexport const EditorViewMode: React.FC = () => {\n  const { t } = useTranslation()\n  const editorMode = useApplicationState((state) => state.editorConfig.editorMode)\n\n  return (\n    <ToggleButtonGroup\n      type='radio'\n      name='options'\n      value={editorMode}\n      onChange={(value: EditorMode) => {\n        setEditorMode(value)\n      }}>\n      <ToggleButton\n        data-cy={'view-mode-preview'}\n        value={EditorMode.PREVIEW}\n        variant='outline-secondary'\n        title={t('editor.viewMode.view')}>\n        <ForkAwesomeIcon icon='eye' />\n      </ToggleButton>\n      <ToggleButton\n        data-cy={'view-mode-both'}\n        value={EditorMode.BOTH}\n        variant='outline-secondary'\n        title={t('editor.viewMode.both')}>\n        <ForkAwesomeIcon icon='columns' />\n      </ToggleButton>\n      <ToggleButton\n        data-cy={'view-mode-editor'}\n        value={EditorMode.EDITOR}\n        variant='outline-secondary'\n        title={t('editor.viewMode.edit')}>\n        <ForkAwesomeIcon icon='pencil' />\n      </ToggleButton>\n    </ToggleButtonGroup>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { useTranslation } from 'react-i18next'\nimport { ShowIf } from '../show-if/show-if'\nimport './user-avatar.scss'\n\nexport interface UserAvatarProps {\n  size?: 'sm' | 'lg'\n  name: string\n  photo: string\n  additionalClasses?: string\n  showName?: boolean\n}\n\nconst UserAvatar: React.FC<UserAvatarProps> = ({ name, photo, size, additionalClasses = '', showName = true }) => {\n  const { t } = useTranslation()\n\n  return (\n    <span className={'d-inline-flex align-items-center ' + additionalClasses}>\n      <img\n        src={photo}\n        className={`user-avatar rounded mr-1 ${size ?? ''}`}\n        alt={t('common.avatarOf', { name })}\n        title={name}\n      />\n      <ShowIf condition={showName}>\n        <span className='mx-1 user-line-name'>{name}</span>\n      </ShowIf>\n    </span>\n  )\n}\n\nexport { UserAvatar }\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nexport const download = (data: BlobPart, fileName: string, mimeType: string): void => {\n  const file = new Blob([data], { type: mimeType })\n  downloadLink(URL.createObjectURL(file), fileName)\n}\n\nexport const downloadLink = (url: string, fileName: string): void => {\n  const helperElement = document.createElement('a')\n  helperElement.href = url\n  helperElement.download = fileName\n  document.body.appendChild(helperElement)\n  helperElement.click()\n  setTimeout(() => helperElement.remove(), 2000)\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { useLocation } from 'react-router'\n\nexport const useFrontendBaseUrl = (): string => {\n  const { pathname } = useLocation()\n  const location = window.location\n  const cleanedPathName = location.pathname.replace(pathname, '')\n\n  return `${location.protocol}//${location.host}${cleanedPathName}/`\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { useCallback } from 'react'\nimport { Alert, Button } from 'react-bootstrap'\nimport { setBanner } from '../../../redux/banner/methods'\nimport { ForkAwesomeIcon } from '../fork-awesome/fork-awesome-icon'\nimport { BANNER_LOCAL_STORAGE_KEY } from '../../application-loader/initializers/fetch-and-set-banner'\nimport { useApplicationState } from '../../../hooks/common/use-application-state'\n\nexport const MotdBanner: React.FC = () => {\n  const bannerState = useApplicationState((state) => state.banner)\n\n  const dismissBanner = useCallback(() => {\n    if (bannerState.lastModified) {\n      window.localStorage.setItem(BANNER_LOCAL_STORAGE_KEY, bannerState.lastModified)\n    }\n    setBanner({\n      text: '',\n      lastModified: null\n    })\n  }, [bannerState])\n\n  if (bannerState.text === undefined) {\n    return null\n  }\n\n  if (!bannerState.text) {\n    return <span data-cy={'no-motd-banner'} />\n  }\n\n  return (\n    <Alert\n      data-cy={'motd-banner'}\n      variant='primary'\n      dir='auto'\n      className='mb-0 text-center d-flex flex-row justify-content-center'>\n      <span className='flex-grow-1 align-self-center text-black'>{bannerState.text}</span>\n      <Button data-cy={'motd-dismiss'} variant='outline-primary' size='sm' className='mx-2' onClick={dismissBanner}>\n        <ForkAwesomeIcon icon='times' />\n      </Button>\n    </Alert>\n  )\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { Link } from 'react-router-dom'\nimport { ForkAwesomeIcon } from '../fork-awesome/fork-awesome-icon'\nimport { IconName } from '../fork-awesome/types'\nimport { ShowIf } from '../show-if/show-if'\nimport { LinkWithTextProps } from './types'\n\nexport const InternalLink: React.FC<LinkWithTextProps> = ({\n  href,\n  text,\n  icon,\n  id,\n  className = 'text-light',\n  title\n}) => {\n  return (\n    <Link to={href} className={className} id={id} title={title}>\n      <ShowIf condition={!!icon}>\n        <ForkAwesomeIcon icon={icon as IconName} fixedWidth={true} />\n        &nbsp;\n      </ShowIf>\n      {text}\n    </Link>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { RefObject, useCallback, useEffect, useState } from 'react'\nimport { Overlay, Tooltip } from 'react-bootstrap'\nimport { Trans, useTranslation } from 'react-i18next'\nimport { v4 as uuid } from 'uuid'\nimport { ShowIf } from '../show-if/show-if'\n\nexport interface CopyOverlayProps {\n  content: string\n  clickComponent: RefObject<HTMLElement>\n}\n\nexport const CopyOverlay: React.FC<CopyOverlayProps> = ({ content, clickComponent }) => {\n  useTranslation()\n  const [showCopiedTooltip, setShowCopiedTooltip] = useState(false)\n  const [error, setError] = useState(false)\n  const [tooltipId] = useState<string>(() => uuid())\n\n  const copyToClipboard = useCallback((content: string) => {\n    navigator.clipboard\n      .writeText(content)\n      .then(() => {\n        setError(false)\n      })\n      .catch(() => {\n        setError(true)\n        console.error(\"couldn't copy\")\n      })\n      .finally(() => {\n        setShowCopiedTooltip(true)\n        setTimeout(() => {\n          setShowCopiedTooltip(false)\n        }, 2000)\n      })\n  }, [])\n\n  useEffect(() => {\n    if (clickComponent && clickComponent.current) {\n      clickComponent.current.addEventListener('click', () => copyToClipboard(content))\n      const clickComponentSaved = clickComponent.current\n      return () => {\n        if (clickComponentSaved) {\n          clickComponentSaved.removeEventListener('click', () => copyToClipboard(content))\n        }\n      }\n    }\n  }, [clickComponent, copyToClipboard, content])\n\n  return (\n    <Overlay target={clickComponent} show={showCopiedTooltip} placement='top'>\n      {(props) => (\n        <Tooltip id={`copied_${tooltipId}`} {...props}>\n          <ShowIf condition={error}>\n            <Trans i18nKey={'common.copyError'} />\n          </ShowIf>\n          <ShowIf condition={!error}>\n            <Trans i18nKey={'common.successfullyCopied'} />\n          </ShowIf>\n        </Tooltip>\n      )}\n    </Overlay>\n  )\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { useEffect, useState } from 'react'\nimport { getProxiedUrl } from '../../../../api/media'\nimport { useApplicationState } from '../../../../hooks/common/use-application-state'\n\nexport const ProxyImageFrame: React.FC<React.ImgHTMLAttributes<HTMLImageElement>> = ({ src, title, alt, ...props }) => {\n  const [imageUrl, setImageUrl] = useState('')\n  const imageProxyEnabled = useApplicationState((state) => state.config.useImageProxy)\n\n  useEffect(() => {\n    if (!imageProxyEnabled || !src) {\n      return\n    }\n    getProxiedUrl(src)\n      .then((proxyResponse) => setImageUrl(proxyResponse.src))\n      .catch((err) => console.error(err))\n  }, [imageProxyEnabled, src])\n\n  return <img src={imageProxyEnabled ? imageUrl : src ?? ''} title={title ?? alt ?? ''} alt={alt} {...props} />\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { Modal } from 'react-bootstrap'\nimport { ForkAwesomeIcon } from '../../../common/fork-awesome/fork-awesome-icon'\nimport './lightbox.scss'\nimport { ProxyImageFrame } from './proxy-image-frame'\n\nexport interface ImageLightboxModalProps {\n  show: boolean\n  onHide: () => void\n  alt?: string\n  src?: string\n  title?: string\n}\n\nexport const ImageLightboxModal: React.FC<ImageLightboxModalProps> = ({ show, onHide, src, alt, title }) => {\n  return (\n    <Modal\n      animation={true}\n      centered={true}\n      dialogClassName={'text-dark lightbox'}\n      show={show && !!src}\n      onHide={onHide}\n      size={'xl'}>\n      <Modal.Header closeButton={true}>\n        <Modal.Title className={'h6'}>\n          <ForkAwesomeIcon icon={'picture-o'} />\n          &nbsp;\n          <span>{alt ?? title ?? ''}</span>\n        </Modal.Title>\n      </Modal.Header>\n      <ProxyImageFrame alt={alt} src={src} title={title} className={'w-100 cursor-zoom-out'} onClick={onHide} />\n    </Modal>\n  )\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { useCallback, useEffect, useState } from 'react'\nimport { ImageLightboxModal } from '../../markdown-renderer/replace-components/image/image-lightbox-modal'\nimport { ImageDetails } from '../../render-page/rendering-message'\n\nexport interface ShowOnPropChangeImageLightboxProps {\n  details?: ImageDetails\n}\n\nexport const ShowOnPropChangeImageLightbox: React.FC<ShowOnPropChangeImageLightboxProps> = ({ details }) => {\n  const [show, setShow] = useState<boolean>(false)\n\n  const hideLightbox = useCallback(() => {\n    setShow(false)\n  }, [])\n\n  useEffect(() => {\n    if (details) {\n      setShow(true)\n    }\n  }, [details])\n\n  return (\n    <ImageLightboxModal\n      show={show}\n      onHide={hideLightbox}\n      src={details?.src}\n      alt={details?.alt}\n      title={details?.title}\n    />\n  )\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { store } from '..'\nimport { RendererStatusActionType, SetRendererStatusAction } from './types'\n\n/**\n * Dispatches a global application state change for the \"renderer ready\" state.\n *\n * @param rendererReady The new renderer ready state.\n */\nexport const setRendererStatus = (rendererReady: boolean): void => {\n  const action: SetRendererStatusAction = {\n    type: RendererStatusActionType.SET_RENDERER_STATUS,\n    rendererReady\n  }\n  store.dispatch(action)\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\nimport equal from 'fast-deep-equal'\nimport React, { Fragment, useCallback, useEffect, useRef, useState } from 'react'\nimport { useApplicationState } from '../../../hooks/common/use-application-state'\nimport { useIsDarkModeActivated } from '../../../hooks/common/use-is-dark-mode-activated'\nimport { isTestMode } from '../../../utils/test-modes'\nimport { RendererProps } from '../../render-page/markdown-document'\nimport { ImageDetails, RendererType } from '../../render-page/rendering-message'\nimport { useIFrameEditorToRendererCommunicator } from '../render-context/iframe-editor-to-renderer-communicator-context-provider'\nimport { ScrollState } from '../synced-scroll/scroll-props'\nimport { useOnIframeLoad } from './hooks/use-on-iframe-load'\nimport { ShowOnPropChangeImageLightbox } from './show-on-prop-change-image-lightbox'\nimport { setRendererStatus } from '../../../redux/renderer-status/methods'\n\nexport interface RenderIframeProps extends RendererProps {\n  rendererType: RendererType\n  forcedDarkMode?: boolean\n  frameClasses?: string\n}\n\nexport const RenderIframe: React.FC<RenderIframeProps> = ({\n  markdownContent,\n  onTaskCheckedChange,\n  onFrontmatterChange,\n  scrollState,\n  onFirstHeadingChange,\n  onScroll,\n  onMakeScrollSource,\n  frameClasses,\n  rendererType,\n  forcedDarkMode\n}) => {\n  const savedDarkMode = useIsDarkModeActivated()\n  const darkMode = forcedDarkMode ?? savedDarkMode\n  const [lightboxDetails, setLightboxDetails] = useState<ImageDetails | undefined>(undefined)\n\n  const frameReference = useRef<HTMLIFrameElement>(null)\n  const rendererOrigin = useApplicationState((state) => state.config.iframeCommunication.rendererOrigin)\n  const renderPageUrl = `${rendererOrigin}render`\n  const resetRendererReady = useCallback(() => setRendererStatus(false), [])\n  const iframeCommunicator = useIFrameEditorToRendererCommunicator()\n  const onIframeLoad = useOnIframeLoad(\n    frameReference,\n    iframeCommunicator,\n    rendererOrigin,\n    renderPageUrl,\n    resetRendererReady\n  )\n  const [frameHeight, setFrameHeight] = useState<number>(0)\n\n  const rendererReady = useApplicationState((state) => state.rendererStatus.rendererReady)\n\n  useEffect(\n    () => () => {\n      iframeCommunicator.unregisterEventListener()\n      setRendererStatus(false)\n    },\n    [iframeCommunicator]\n  )\n\n  useEffect(() => {\n    iframeCommunicator.onFirstHeadingChange(onFirstHeadingChange)\n    return () => iframeCommunicator.onFirstHeadingChange(undefined)\n  }, [iframeCommunicator, onFirstHeadingChange])\n\n  useEffect(() => {\n    iframeCommunicator.onFrontmatterChange(onFrontmatterChange)\n    return () => iframeCommunicator.onFrontmatterChange(undefined)\n  }, [iframeCommunicator, onFrontmatterChange])\n\n  useEffect(() => {\n    iframeCommunicator.onSetScrollState(onScroll)\n    return () => iframeCommunicator.onSetScrollState(undefined)\n  }, [iframeCommunicator, onScroll])\n\n  useEffect(() => {\n    iframeCommunicator.onSetScrollSourceToRenderer(onMakeScrollSource)\n    return () => iframeCommunicator.onSetScrollSourceToRenderer(undefined)\n  }, [iframeCommunicator, onMakeScrollSource])\n\n  useEffect(() => {\n    iframeCommunicator.onTaskCheckboxChange(onTaskCheckedChange)\n    return () => iframeCommunicator.onTaskCheckboxChange(undefined)\n  }, [iframeCommunicator, onTaskCheckedChange])\n\n  useEffect(() => {\n    iframeCommunicator.onImageClicked(setLightboxDetails)\n    return () => iframeCommunicator.onImageClicked(undefined)\n  }, [iframeCommunicator])\n\n  useEffect(() => {\n    iframeCommunicator.onHeightChange(setFrameHeight)\n    return () => iframeCommunicator.onHeightChange(undefined)\n  }, [iframeCommunicator])\n\n  useEffect(() => {\n    iframeCommunicator.onRendererReady(() => {\n      iframeCommunicator.sendSetBaseConfiguration({\n        baseUrl: window.location.toString(),\n        rendererType\n      })\n      setRendererStatus(true)\n    })\n    return () => iframeCommunicator.onRendererReady(undefined)\n  }, [iframeCommunicator, rendererType])\n\n  useEffect(() => {\n    if (rendererReady) {\n      iframeCommunicator.sendSetDarkmode(darkMode)\n    }\n  }, [darkMode, iframeCommunicator, rendererReady])\n\n  const oldScrollState = useRef<ScrollState | undefined>(undefined)\n  useEffect(() => {\n    if (rendererReady && !equal(scrollState, oldScrollState.current)) {\n      oldScrollState.current = scrollState\n      iframeCommunicator.sendScrollState(scrollState)\n    }\n  }, [iframeCommunicator, rendererReady, scrollState])\n\n  useEffect(() => {\n    if (rendererReady) {\n      iframeCommunicator.sendSetMarkdownContent(markdownContent)\n    }\n  }, [iframeCommunicator, markdownContent, rendererReady])\n\n  return (\n    <Fragment>\n      <ShowOnPropChangeImageLightbox details={lightboxDetails} />\n      <iframe\n        style={{ height: `${frameHeight}px` }}\n        data-cy={'documentIframe'}\n        onLoad={onIframeLoad}\n        title='render'\n        src={renderPageUrl}\n        {...(isTestMode() ? {} : { sandbox: 'allow-downloads allow-same-origin allow-scripts allow-popups' })}\n        ref={frameReference}\n        className={`border-0 ${frameClasses ?? ''}`}\n        data-content-ready={rendererReady}\n      />\n    </Fragment>\n  )\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { RefObject, useCallback, useRef } from 'react'\nimport { IframeEditorToRendererCommunicator } from '../../../render-page/iframe-editor-to-renderer-communicator'\n\nexport const useOnIframeLoad = (\n  frameReference: RefObject<HTMLIFrameElement>,\n  iframeCommunicator: IframeEditorToRendererCommunicator,\n  rendererOrigin: string,\n  renderPageUrl: string,\n  onNavigateAway: () => void\n): (() => void) => {\n  const sendToRenderPage = useRef<boolean>(true)\n\n  return useCallback(() => {\n    const frame = frameReference.current\n    if (!frame || !frame.contentWindow) {\n      iframeCommunicator.unsetMessageTarget()\n      return\n    }\n\n    if (sendToRenderPage.current) {\n      iframeCommunicator.setMessageTarget(frame.contentWindow, rendererOrigin)\n      sendToRenderPage.current = false\n      return\n    } else {\n      onNavigateAway()\n      console.error('Navigated away from unknown URL')\n      frame.src = renderPageUrl\n      sendToRenderPage.current = true\n    }\n  }, [frameReference, iframeCommunicator, onNavigateAway, renderPageUrl, rendererOrigin])\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { NoteDto } from './types'\nimport { NoteDetails } from '../../redux/note-details/types'\nimport { DateTime } from 'luxon'\nimport { initialState } from '../../redux/note-details/reducers'\n\nexport const noteDtoToNoteDetails = (note: NoteDto): NoteDetails => {\n  return {\n    markdownContent: note.content,\n    frontmatter: initialState.frontmatter,\n    id: note.metadata.id,\n    noteTitle: initialState.noteTitle,\n    createTime: DateTime.fromISO(note.metadata.createTime),\n    lastChange: {\n      userName: note.metadata.updateUser.userName,\n      timestamp: DateTime.fromISO(note.metadata.updateTime)\n    },\n    firstHeading: initialState.firstHeading,\n    viewCount: note.metadata.viewCount,\n    alias: note.metadata.alias,\n    authorship: note.metadata.editedBy\n  }\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { DateTime } from 'luxon'\nimport { Reducer } from 'redux'\nimport {\n  NoteFrontmatter,\n  NoteTextDirection,\n  NoteType\n} from '../../components/editor-page/note-frontmatter/note-frontmatter'\nimport {\n  NoteDetails,\n  NoteDetailsAction,\n  NoteDetailsActionType,\n  SetCheckboxInMarkdownContentAction,\n  SetNoteDetailsAction,\n  SetNoteDetailsFromServerAction,\n  SetNoteFrontmatterFromRenderingAction,\n  UpdateNoteTitleByFirstHeadingAction\n} from './types'\nimport { noteDtoToNoteDetails } from '../../api/notes/dto-methods'\n\nexport const initialState: NoteDetails = {\n  markdownContent: '',\n  id: '',\n  createTime: DateTime.fromSeconds(0),\n  lastChange: {\n    timestamp: DateTime.fromSeconds(0),\n    userName: ''\n  },\n  alias: '',\n  viewCount: 0,\n  authorship: [],\n  noteTitle: '',\n  firstHeading: '',\n  frontmatter: {\n    title: '',\n    description: '',\n    tags: [],\n    deprecatedTagsSyntax: false,\n    robots: '',\n    lang: 'en',\n    dir: NoteTextDirection.LTR,\n    breaks: true,\n    GA: '',\n    disqus: '',\n    type: NoteType.DOCUMENT,\n    opengraph: new Map<string, string>()\n  }\n}\n\nexport const NoteDetailsReducer: Reducer<NoteDetails, NoteDetailsAction> = (\n  state: NoteDetails = initialState,\n  action: NoteDetailsAction\n) => {\n  switch (action.type) {\n    case NoteDetailsActionType.SET_DOCUMENT_CONTENT:\n      return {\n        ...state,\n        markdownContent: (action as SetNoteDetailsAction).content\n      }\n    case NoteDetailsActionType.UPDATE_NOTE_TITLE_BY_FIRST_HEADING:\n      return {\n        ...state,\n        firstHeading: (action as UpdateNoteTitleByFirstHeadingAction).firstHeading,\n        noteTitle: generateNoteTitle(state.frontmatter, (action as UpdateNoteTitleByFirstHeadingAction).firstHeading)\n      }\n    case NoteDetailsActionType.SET_NOTE_DATA_FROM_SERVER:\n      return noteDtoToNoteDetails((action as SetNoteDetailsFromServerAction).note)\n    case NoteDetailsActionType.SET_NOTE_FRONTMATTER:\n      return {\n        ...state,\n        frontmatter: (action as SetNoteFrontmatterFromRenderingAction).frontmatter,\n        noteTitle: generateNoteTitle((action as SetNoteFrontmatterFromRenderingAction).frontmatter, state.firstHeading)\n      }\n    case NoteDetailsActionType.SET_CHECKBOX_IN_MARKDOWN_CONTENT:\n      return {\n        ...state,\n        markdownContent: setCheckboxInMarkdownContent(\n          state.markdownContent,\n          (action as SetCheckboxInMarkdownContentAction).lineInMarkdown,\n          (action as SetCheckboxInMarkdownContentAction).checked\n        )\n      }\n    default:\n      return state\n  }\n}\n\nconst TASK_REGEX = /(\\s*(?:[-*+]|\\d+[.)]) )(\\[[ xX]])( .*)/\nconst setCheckboxInMarkdownContent = (markdownContent: string, lineInMarkdown: number, checked: boolean): string => {\n  const lines = markdownContent.split('\\n')\n  const results = TASK_REGEX.exec(lines[lineInMarkdown])\n  if (results) {\n    const before = results[1]\n    const after = results[3]\n    lines[lineInMarkdown] = `${before}[${checked ? 'x' : ' '}]${after}`\n    return lines.join('\\n')\n  }\n  return markdownContent\n}\n\nconst generateNoteTitle = (frontmatter: NoteFrontmatter, firstHeading?: string) => {\n  if (frontmatter?.title && frontmatter?.title !== '') {\n    return frontmatter.title.trim()\n  } else if (\n    frontmatter?.opengraph &&\n    frontmatter?.opengraph.get('title') &&\n    frontmatter?.opengraph.get('title') !== ''\n  ) {\n    return (frontmatter?.opengraph.get('title') ?? firstHeading ?? '').trim()\n  } else {\n    return (firstHeading ?? firstHeading ?? '').trim()\n  }\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { useEffect } from 'react'\nimport { useApplicationState } from './use-application-state'\n\nexport const useDocumentTitle = (title?: string): void => {\n  const brandingName = useApplicationState((state) => state.config.branding.name)\n\n  useEffect(() => {\n    document.title = `${title ? title + ' - ' : ''}HedgeDoc ${brandingName ? ` @ ${brandingName}` : ''}`\n  }, [brandingName, title])\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { useTranslation } from 'react-i18next'\nimport { InternalLink } from './internal-link'\nimport { TranslatedLinkProps } from './types'\n\nexport const TranslatedInternalLink: React.FC<TranslatedLinkProps> = ({ i18nKey, i18nOption, ...props }) => {\n  const { t } = useTranslation()\n  return <InternalLink text={t(i18nKey, i18nOption)} {...props} />\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { Dropdown } from 'react-bootstrap'\nimport { Trans, useTranslation } from 'react-i18next'\nimport { LinkContainer } from 'react-router-bootstrap'\nimport { clearUser } from '../../../redux/user/methods'\nimport { ForkAwesomeIcon } from '../../common/fork-awesome/fork-awesome-icon'\nimport { UserAvatar } from '../../common/user-avatar/user-avatar'\nimport { useApplicationState } from '../../../hooks/common/use-application-state'\n\nexport const UserDropdown: React.FC = () => {\n  useTranslation()\n  const user = useApplicationState((state) => state.user)\n\n  if (!user) {\n    return null\n  }\n\n  return (\n    <Dropdown alignRight>\n      <Dropdown.Toggle size='sm' variant='dark' id='dropdown-user' className={'d-flex align-items-center'}>\n        <UserAvatar name={user.name} photo={user.photo} />\n      </Dropdown.Toggle>\n\n      <Dropdown.Menu className='text-start'>\n        <LinkContainer to={'/n/features'}>\n          <Dropdown.Item dir='auto'>\n            <ForkAwesomeIcon icon='bolt' fixedWidth={true} className='mx-2' />\n            <Trans i18nKey='editor.help.documents.features' />\n          </Dropdown.Item>\n        </LinkContainer>\n        <LinkContainer to={'/profile'}>\n          <Dropdown.Item dir='auto'>\n            <ForkAwesomeIcon icon='user' fixedWidth={true} className='mx-2' />\n            <Trans i18nKey='profile.userProfile' />\n          </Dropdown.Item>\n        </LinkContainer>\n        <Dropdown.Item\n          dir='auto'\n          onClick={() => {\n            clearUser()\n          }}>\n          <ForkAwesomeIcon icon='sign-out' fixedWidth={true} className='mx-2' />\n          <Trans i18nKey='login.signOut' />\n        </Dropdown.Item>\n      </Dropdown.Menu>\n    </Dropdown>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { useMemo } from 'react'\nimport { ShowIf } from '../show-if/show-if'\nimport './branding.scss'\nimport { useApplicationState } from '../../../hooks/common/use-application-state'\n\nexport interface BrandingProps {\n  inline?: boolean\n  delimiter?: boolean\n}\n\nexport const Branding: React.FC<BrandingProps> = ({ inline = false, delimiter = true }) => {\n  const branding = useApplicationState((state) => state.config.branding)\n  const showBranding = !!branding.name || !!branding.logo\n\n  const brandingDom = useMemo(() => {\n    if (branding.logo) {\n      return (\n        <img\n          src={branding.logo}\n          alt={branding.name}\n          title={branding.name}\n          className={inline ? 'inline-size' : 'regular-size'}\n        />\n      )\n    } else {\n      return branding.name\n    }\n  }, [branding.logo, branding.name, inline])\n\n  return (\n    <ShowIf condition={showBranding}>\n      <ShowIf condition={delimiter}>\n        <strong className={`mx-1 ${inline ? 'inline-size' : 'regular-size'}`}>@</strong>\n      </ShowIf>\n      {brandingDom}\n    </ShowIf>\n  )\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\n/**\n * Error that will be thrown if a message couldn't be sent.\n */\nexport class IframeCommunicatorSendingError extends Error {}\n\n/**\n * Base class for communication between renderer and editor.\n */\nexport abstract class IframeCommunicator<SEND, RECEIVE> {\n  private messageTarget?: Window\n  private targetOrigin?: string\n  private communicationEnabled: boolean\n\n  constructor() {\n    window.addEventListener('message', this.handleEvent.bind(this))\n    this.communicationEnabled = false\n  }\n\n  public unregisterEventListener(): void {\n    window.removeEventListener('message', this.handleEvent.bind(this))\n  }\n\n  /**\n   * Sets the target for message sending.\n   * Messages can be sent as soon as the communication is enabled.\n   *\n   * @see enableCommunication\n   * @param otherSide The target {@link Window} that should receive the messages.\n   * @param otherOrigin The origin from the URL of the target. If this isn't correct then the message sending will produce CORS errors.\n   */\n  public setMessageTarget(otherSide: Window, otherOrigin: string): void {\n    this.messageTarget = otherSide\n    this.targetOrigin = otherOrigin\n    this.communicationEnabled = false\n  }\n\n  /**\n   * Unsets the message target. Should be used if the old target isn't available anymore.\n   */\n  public unsetMessageTarget(): void {\n    this.messageTarget = undefined\n    this.targetOrigin = undefined\n    this.communicationEnabled = false\n  }\n\n  /**\n   * Enables the message communication.\n   * Should be called as soon as the other sides is ready to receive messages.\n   */\n  protected enableCommunication(): void {\n    this.communicationEnabled = true\n  }\n\n  /**\n   * Sends a message to the message target.\n   *\n   * @param message The message to send.\n   */\n  protected sendMessageToOtherSide(message: SEND): void {\n    if (this.messageTarget === undefined || this.targetOrigin === undefined) {\n      throw new IframeCommunicatorSendingError(`Other side is not set.\\nMessage was: ${JSON.stringify(message)}`)\n    }\n    if (!this.communicationEnabled) {\n      throw new IframeCommunicatorSendingError(\n        `Communication isn't enabled. Maybe the other side is not ready?\\nMessage was: ${JSON.stringify(message)}`\n      )\n    }\n    this.messageTarget.postMessage(message, this.targetOrigin)\n  }\n\n  protected abstract handleEvent(event: MessageEvent<RECEIVE>): void\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { ImageProxyResponse } from '../../components/markdown-renderer/replace-components/image/types'\nimport { isMockMode } from '../../utils/test-modes'\nimport { defaultFetchConfig, expectResponseCode, getApiUrl } from '../utils'\n\nexport const getProxiedUrl = async (imageUrl: string): Promise<ImageProxyResponse> => {\n  const response = await fetch(getApiUrl() + 'media/proxy', {\n    ...defaultFetchConfig,\n    method: 'POST',\n    body: JSON.stringify({\n      src: imageUrl\n    })\n  })\n  expectResponseCode(response)\n  return (await response.json()) as Promise<ImageProxyResponse>\n}\n\nexport interface UploadedMedia {\n  link: string\n}\n\nexport const uploadFile = async (noteId: string, media: Blob): Promise<UploadedMedia> => {\n  const response = await fetch(`${getApiUrl()}media/upload${isMockMode() ? '-post' : ''}`, {\n    ...defaultFetchConfig,\n    headers: {\n      'Content-Type': media.type,\n      'HedgeDoc-Note': noteId\n    },\n    method: isMockMode() ? 'GET' : 'POST',\n    body: isMockMode() ? undefined : media\n  })\n  expectResponseCode(response, isMockMode() ? 200 : 201)\n  return (await response.json()) as Promise<UploadedMedia>\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { ForkAwesomeIcon } from '../fork-awesome/fork-awesome-icon'\n\nexport const WaitSpinner: React.FC = () => {\n  return (\n    <div className={'m-3 d-flex align-items-center justify-content-center'}>\n      <ForkAwesomeIcon icon={'spinner'} className={'fa-spin'} />\n    </div>\n  )\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { Fragment, useCallback, useEffect, useLayoutEffect, useMemo, useRef, useState } from 'react'\nimport { Button, ProgressBar, Toast } from 'react-bootstrap'\nimport { UiNotification } from '../../redux/ui-notifications/types'\nimport { ForkAwesomeIcon } from '../common/fork-awesome/fork-awesome-icon'\nimport { ShowIf } from '../common/show-if/show-if'\nimport { IconName } from '../common/fork-awesome/types'\nimport { dismissUiNotification } from '../../redux/ui-notifications/methods'\n\nconst STEPS_PER_SECOND = 10\n\nexport interface UiNotificationProps extends UiNotification {\n  notificationId: number\n}\n\nexport const UiNotificationToast: React.FC<UiNotificationProps> = ({\n  title,\n  content,\n  date,\n  icon,\n  dismissed,\n  notificationId,\n  durationInSecond,\n  buttons\n}) => {\n  const [eta, setEta] = useState<number>()\n  const interval = useRef<NodeJS.Timeout | undefined>(undefined)\n\n  const deleteInterval = useCallback(() => {\n    if (interval.current) {\n      clearInterval(interval.current)\n    }\n  }, [])\n\n  const dismissThisNotification = useCallback(() => {\n    console.debug(`[Notifications] Dismissed notification ${notificationId}`)\n    dismissUiNotification(notificationId)\n  }, [notificationId])\n\n  useLayoutEffect(() => {\n    if (dismissed || !!interval.current) {\n      return\n    }\n    console.debug(`[Notifications] Show notification ${notificationId}`)\n    setEta(durationInSecond * STEPS_PER_SECOND)\n    interval.current = setInterval(\n      () =>\n        setEta((lastETA) => {\n          if (lastETA === undefined) {\n            return\n          } else if (lastETA <= 0) {\n            return 0\n          } else {\n            return lastETA - 1\n          }\n        }),\n      1000 / STEPS_PER_SECOND\n    )\n    return () => {\n      deleteInterval()\n    }\n  }, [deleteInterval, dismissThisNotification, dismissed, durationInSecond, notificationId])\n\n  useEffect(() => {\n    if (eta === 0) {\n      dismissThisNotification()\n    }\n  }, [dismissThisNotification, eta])\n\n  const buttonsDom = useMemo(\n    () =>\n      buttons?.map((button, buttonIndex) => {\n        const buttonClick = () => {\n          button.onClick()\n          dismissThisNotification()\n        }\n        return (\n          <Button key={buttonIndex} size={'sm'} onClick={buttonClick} variant={'link'}>\n            {button.label}\n          </Button>\n        )\n      }),\n    [buttons, dismissThisNotification]\n  )\n\n  const contentDom = useMemo(() => {\n    return content.split('\\n').map((value, lineNumber) => {\n      return (\n        <Fragment key={lineNumber}>\n          {value}\n          <br />\n        </Fragment>\n      )\n    })\n  }, [content])\n\n  return (\n    <Toast show={!dismissed && eta !== undefined} onClose={dismissThisNotification}>\n      <Toast.Header>\n        <strong className='mr-auto'>\n          <ShowIf condition={!!icon}>\n            <ForkAwesomeIcon icon={icon as IconName} fixedWidth={true} className={'mr-1'} />\n          </ShowIf>\n          {title}\n        </strong>\n        <small>{date.toRelative({ style: 'short' })}</small>\n      </Toast.Header>\n      <Toast.Body>{contentDom}</Toast.Body>\n      <ProgressBar variant={'info'} now={eta} max={durationInSecond * STEPS_PER_SECOND} min={0} />\n      <div>{buttonsDom}</div>\n    </Toast>\n  )\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { UiNotificationToast } from './ui-notification-toast'\nimport './notifications.scss'\nimport { useApplicationState } from '../../hooks/common/use-application-state'\n\nexport const UiNotifications: React.FC = () => {\n  const notifications = useApplicationState((state) => state.uiNotifications)\n\n  return (\n    <div className={'notifications-area'} aria-live='polite' aria-atomic='true'>\n      {notifications.map((notification, notificationIndex) => (\n        <UiNotificationToast key={notificationIndex} notificationId={notificationIndex} {...notification} />\n      ))}\n    </div>\n  )\n}\n","var _linearGradient, _g, _path, _g2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLogoColor(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    clipRule: \"evenodd\",\n    fillRule: \"evenodd\",\n    height: 1486,\n    strokeLinejoin: \"round\",\n    strokeMiterlimit: 2,\n    viewBox: \"0 0 1486 1486\",\n    width: 1486,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _linearGradient || (_linearGradient = /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"a\",\n    gradientTransform: \"matrix(200 -420 420 200 660 1340)\",\n    gradientUnits: \"userSpaceOnUse\",\n    x1: 0,\n    x2: 1,\n    y1: 0,\n    y2: 0\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0,\n    stopColor: \"#fcca8c\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#dca055\"\n  }))), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    fillRule: \"nonzero\",\n    transform: \"translate(-142.756 -142.754)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m1553.66 961.083 75.25-75.258-75.25-75.246 56.61-90.096-90.1-56.616 35.15-100.446-100.44-35.142 11.91-105.746-105.74-11.912-11.92-105.75-105.74 11.912-35.15-100.445-100.43 35.145-56.63-90.1-90.107 56.617-75.242-75.246-75.242 75.25-90.104-56.612-56.612 90.096-100.442-35.15-35.142 100.441-105.75-11.916-11.912 105.741-105.742 11.913 11.917 105.741-100.454 35.15 35.145 100.438-90.1 56.612 56.621 90.117-75.258 75.25 75.25 75.258-56.613 90.107 90.1 56.61-35.145 100.44 100.45 35.15-11.913 105.73 105.742 11.92 11.912 105.74 105.75-11.91 35.142 100.43 100.437-35.13 56.617 90.1 90.096-56.62 75.25 74.55 75.25-74.53 90.099 56.61 56.61-90.11 100.45 35.15 35.14-100.44 105.75 11.91 11.91-105.75 105.75-11.91-11.92-105.74 100.45-35.15-35.15-100.45 90.1-56.61z\",\n    fill: \"#b51f08\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m1401.3 1004.78c0-145.437-117.9-263.341-263.34-263.341-72.24 0-137.68 29.112-185.252 76.225l-.033-.034-67.096 67.1-54.862-54.862c-48.267-55.067-119.071-89.879-198.042-89.879-145.442 0-263.342 117.904-263.342 263.341 0 76 32.23 144.43 83.721 192.49l432.779 432.55 423.217-423.49c52.88-49.77 92.25-120 92.25-200.1\",\n    fill: \"#fcca8c\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m885.579 884.73-54.862-54.862c-48.267-55.067-119.071-89.879-198.042-89.879-145.442 0-263.342 117.904-263.342 263.341 0 76 32.23 144.43 83.721 192.49l432.779 432.55\",\n    fill: \"url(#a)\"\n  }))), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m743.077 1485.616-.254-743.64\",\n    fill: \"none\"\n  })), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", {\n    fillRule: \"nonzero\",\n    transform: \"translate(-142.756 -142.754)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m961.011 1553.59c-19.279-19.35-45.917-31.31-75.325-31.31-29.417 0-56.046 11.96-75.329 31.31.308 41.34 33.908 74.76 75.325 74.76 41.416 0 75.02-33.43 75.329-74.76\",\n    fill: \"#010007\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m797.707 1098.22c0 31.8-25.767 57.57-57.571 57.57-31.787 0-57.558-25.77-57.558-57.57s25.771-57.57 57.558-57.57c31.804 0 57.571 25.77 57.571 57.57\",\n    fill: \"#010007\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m777.962 1089.59c0 8.82-7.146 15.94-15.95 15.94-8.808 0-15.958-7.12-15.958-15.94 0-8.81 7.15-15.96 15.958-15.96 8.804 0 15.95 7.15 15.95 15.96\",\n    fill: \"#fffffa\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m1089.65 1098.22c0 31.8-25.77 57.57-57.57 57.57-31.79 0-57.567-25.77-57.567-57.57s25.777-57.57 57.567-57.57c31.8 0 57.57 25.77 57.57 57.57\",\n    fill: \"#010007\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m1069.9 1089.59c0 8.82-7.15 15.94-15.95 15.94-8.81 0-15.96-7.12-15.96-15.94 0-8.81 7.15-15.96 15.96-15.96 8.8 0 15.95 7.15 15.95 15.96\",\n    fill: \"#fffffa\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLogoColor);\nexport default __webpack_public_path__ + \"static/media/logo_color.3fb320fe.svg\";\nexport { ForwardRef as ReactComponent };","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport i18n from 'i18next'\nimport LanguageDetector from 'i18next-browser-languagedetector'\nimport Backend from 'i18next-http-backend'\nimport { Settings } from 'luxon'\nimport { initReactI18next } from 'react-i18next'\n\nexport const setUpI18n = async (frontendAssetsUrl: string): Promise<void> => {\n  await i18n\n    .use(Backend)\n    .use(LanguageDetector)\n    .use(initReactI18next)\n    .init({\n      fallbackLng: 'en',\n      debug: process.env.NODE_ENV !== 'production',\n      backend: {\n        loadPath: `${frontendAssetsUrl}locales/{{lng}}.json`\n      },\n\n      interpolation: {\n        escapeValue: false\n      }\n    })\n\n  Settings.defaultLocale = i18n.language\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { defaultFetchConfig, expectResponseCode, getApiUrl } from '../utils'\nimport { Config } from './types'\n\nexport const getConfig = async (): Promise<Config> => {\n  const response = await fetch(getApiUrl() + 'config', {\n    ...defaultFetchConfig\n  })\n  expectResponseCode(response)\n  return (await response.json()) as Promise<Config>\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { store } from '..'\nimport { Config } from '../../api/config/types'\nimport { ConfigActionType, SetConfigAction } from './types'\n\nexport const setConfig = (state: Config): void => {\n  const action: SetConfigAction = {\n    type: ConfigActionType.SET_CONFIG,\n    state: state\n  }\n  store.dispatch(action)\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { getConfig } from '../../../api/config'\nimport { setConfig } from '../../../redux/config/methods'\n\nexport const fetchFrontendConfig = async (): Promise<void> => {\n  const config = await getConfig()\n  if (!config) {\n    return Promise.reject(new Error('Config empty!'))\n  }\n  setConfig(config)\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { setUpI18n } from './i18n'\nimport { refreshHistoryState } from '../../../redux/history/methods'\nimport { fetchAndSetBanner } from './fetch-and-set-banner'\nimport { setApiUrl } from '../../../redux/api-url/methods'\nimport { fetchAndSetUser } from '../../login-page/auth/utils'\nimport { fetchFrontendConfig } from './fetch-frontend-config'\n\nconst customDelay: () => Promise<void> = async () => {\n  if (window.localStorage.getItem('customDelay')) {\n    return new Promise((resolve) => setTimeout(resolve, 5000))\n  } else {\n    return Promise.resolve()\n  }\n}\n\nexport interface InitTask {\n  name: string\n  task: Promise<void>\n}\n\nexport const createSetUpTaskList = (\n  frontendAssetsUrl: string,\n  customizeAssetsUrl: string,\n  backendBaseUrl: string\n): InitTask[] => {\n  setApiUrl({\n    apiUrl: `${backendBaseUrl}api/private/`\n  })\n\n  return [\n    {\n      name: 'Load Translations',\n      task: setUpI18n(frontendAssetsUrl)\n    },\n    {\n      name: 'Load config',\n      task: fetchFrontendConfig()\n    },\n    {\n      name: 'Fetch user information',\n      task: fetchAndSetUser()\n    },\n    {\n      name: 'Banner',\n      task: fetchAndSetBanner(customizeAssetsUrl)\n    },\n    {\n      name: 'Load history state',\n      task: refreshHistoryState()\n    },\n    {\n      name: 'Add Delay',\n      task: customDelay()\n    }\n  ]\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { store } from '..'\nimport { ApiUrlActionType, ApiUrlObject, SetApiUrlAction } from './types'\n\nexport const setApiUrl = (state: ApiUrlObject): void => {\n  const action: SetApiUrlAction = {\n    type: ApiUrlActionType.SET_API_URL,\n    state\n  }\n  store.dispatch(action)\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { ReactComponent as LogoColor } from './logo_color.svg'\n\nexport enum HedgeDocLogoSize {\n  SMALL = 32,\n  MEDIUM = 64,\n  BIG = 256\n}\n\nexport interface HedgeDocLogoProps {\n  size?: HedgeDocLogoSize | number\n}\n\nexport const HedgeDocLogo: React.FC<HedgeDocLogoProps> = ({ size = HedgeDocLogoSize.MEDIUM }) => {\n  return <LogoColor className={'w-auto'} title={'HedgeDoc logo with text'} style={{ height: size }} />\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { ButtonProps } from 'react-bootstrap'\nimport { IconName } from '../../common/fork-awesome/types'\nimport { IconButton } from '../../common/icon-button/icon-button'\n\nexport enum SortModeEnum {\n  up = 1,\n  down = -1,\n  no = 0\n}\n\nconst getIcon = (direction: SortModeEnum): IconName => {\n  switch (direction) {\n    case SortModeEnum.no:\n      return 'sort'\n    case SortModeEnum.up:\n      return 'sort-asc'\n    case SortModeEnum.down:\n      return 'sort-desc'\n    default:\n      return 'sort'\n  }\n}\n\nexport interface SortButtonProps extends ButtonProps {\n  onDirectionChange: (direction: SortModeEnum) => void\n  direction: SortModeEnum\n}\n\nconst toggleDirection = (direction: SortModeEnum) => {\n  switch (direction) {\n    case SortModeEnum.no:\n      return SortModeEnum.up\n    case SortModeEnum.up:\n      return SortModeEnum.down\n    case SortModeEnum.down:\n    default:\n      return SortModeEnum.no\n  }\n}\n\nexport const SortButton: React.FC<SortButtonProps> = ({ children, variant, onDirectionChange, direction }) => {\n  const toggleSort = () => {\n    onDirectionChange(toggleDirection(direction))\n  }\n\n  return (\n    <IconButton onClick={toggleSort} variant={variant} icon={getIcon(direction)} border={true}>\n      {children}\n    </IconButton>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { Alert } from 'react-bootstrap'\nimport { HedgeDocLogo, HedgeDocLogoSize } from '../common/hedge-doc-logo/hedge-doc-logo'\nimport { ShowIf } from '../common/show-if/show-if'\n\nexport interface LoadingScreenProps {\n  failedTitle?: string\n}\n\nexport const LoadingScreen: React.FC<LoadingScreenProps> = ({ failedTitle }) => {\n  return (\n    <div className='loader middle text-light overflow-hidden'>\n      <div className='mb-3 text-light'>\n        <span className={`d-block ${failedTitle ? 'animation-shake' : 'animation-jump'}`}>\n          <HedgeDocLogo size={HedgeDocLogoSize.BIG} />\n        </span>\n      </div>\n      <ShowIf condition={!!failedTitle}>\n        <Alert variant={'danger'}>\n          The task '{failedTitle}' failed.\n          <br />\n          For further information look into the browser console.\n        </Alert>\n      </ShowIf>\n    </div>\n  )\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { Suspense, useCallback, useEffect, useState } from 'react'\nimport { useBackendBaseUrl } from '../../hooks/common/use-backend-base-url'\nimport './application-loader.scss'\nimport { createSetUpTaskList, InitTask } from './initializers'\nimport { LoadingScreen } from './loading-screen'\nimport { useCustomizeAssetsUrl } from '../../hooks/common/use-customize-assets-url'\nimport { useFrontendAssetsUrl } from '../../hooks/common/use-frontend-assets-url'\n\nexport const ApplicationLoader: React.FC = ({ children }) => {\n  const frontendAssetsUrl = useFrontendAssetsUrl()\n  const backendBaseUrl = useBackendBaseUrl()\n  const customizeAssetsUrl = useCustomizeAssetsUrl()\n\n  const setUpTasks = useCallback(\n    () => createSetUpTaskList(frontendAssetsUrl, customizeAssetsUrl, backendBaseUrl),\n    [backendBaseUrl, customizeAssetsUrl, frontendAssetsUrl]\n  )\n\n  const [failedTitle, setFailedTitle] = useState<string>('')\n  const [doneTasks, setDoneTasks] = useState<number>(0)\n  const [initTasks] = useState<InitTask[]>(setUpTasks)\n\n  const runTask = useCallback(async (task: Promise<void>): Promise<void> => {\n    await task\n    setDoneTasks((prevDoneTasks) => {\n      return prevDoneTasks + 1\n    })\n  }, [])\n\n  useEffect(() => {\n    for (const task of initTasks) {\n      runTask(task.task).catch((reason: Error) => {\n        console.error(reason)\n        setFailedTitle(task.name)\n      })\n    }\n  }, [initTasks, runTask])\n\n  const tasksAreRunning = doneTasks < initTasks.length || initTasks.length === 0\n\n  if (tasksAreRunning) {\n    return <LoadingScreen failedTitle={failedTitle} />\n  } else {\n    return <Suspense fallback={<LoadingScreen />}>{children}</Suspense>\n  }\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { useFrontendBaseUrl } from './use-frontend-base-url'\n\nexport const useFrontendAssetsUrl = (): string => {\n  const frontendBaseUrl = useFrontendBaseUrl()\n  return process.env.REACT_APP_FRONTEND_ASSETS_URL || frontendBaseUrl\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { Settings } from 'luxon'\nimport React, { useCallback, useMemo } from 'react'\nimport { Form } from 'react-bootstrap'\nimport { useTranslation } from 'react-i18next'\n\nconst languages = {\n  en: 'English',\n  'zh-CN': '简体中文',\n  'zh-TW': '繁體中文',\n  fr: 'Français',\n  de: 'Deutsch',\n  ja: '日本語',\n  es: 'Español',\n  ca: 'Català',\n  el: 'Ελληνικά',\n  pt: 'Português',\n  it: 'Italiano',\n  tr: 'Türkçe',\n  ru: 'Русский',\n  nl: 'Nederlands',\n  hr: 'Hrvatski',\n  pl: 'Polski',\n  uk: 'Українська',\n  hi: 'हिन्दी',\n  sv: 'Svenska',\n  eo: 'Esperanto',\n  da: 'Dansk',\n  ko: '한국어',\n  id: 'Bahasa Indonesia',\n  sr: 'Cрпски',\n  vi: 'Tiếng Việt',\n  ar: 'العربية',\n  cs: 'Česky',\n  sk: 'Slovensky'\n}\n\n/**\n * This function checks if the wanted language code is supported by our translations.\n * The language code that is provided by the browser can (but don't need to) contain the region.\n * Some of our translations are region dependent (e.g. chinese-traditional and chinese-simplified).\n * Therefore we first need to check if the complete wanted language code is supported by our translations.\n * If not, then we look if we at least have a region independent translation.\n *\n * @param wantedLanguage an ISO 639-1 standard language code\n */\nconst findLanguageCode = (wantedLanguage: string): string =>\n  Object.keys(languages).find((supportedLanguage) => wantedLanguage === supportedLanguage) ??\n  Object.keys(languages).find((supportedLanguage) => wantedLanguage.substr(0, 2) === supportedLanguage) ??\n  ''\n\nexport const LanguagePicker: React.FC = () => {\n  const { i18n } = useTranslation()\n\n  const onChangeLang = useCallback(\n    (event: React.ChangeEvent<HTMLSelectElement>) => {\n      const language = event.currentTarget.value\n      Settings.defaultLocale = language\n      i18n.changeLanguage(language).catch((error) => console.error('Error while switching language', error))\n    },\n    [i18n]\n  )\n\n  const languageCode = useMemo(() => findLanguageCode(i18n.language), [i18n.language])\n\n  const languageOptions = useMemo(\n    () =>\n      Object.entries(languages).map(([language, languageName]) => (\n        <option key={language} value={language}>\n          {languageName}\n        </option>\n      )),\n    []\n  )\n\n  return (\n    <Form.Control as='select' size='sm' className='mb-2 mx-auto w-auto' value={languageCode} onChange={onChangeLang}>\n      {languageOptions}\n    </Form.Control>\n  )\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport Col from 'react-bootstrap/esm/Col'\nimport { CopyableField } from '../../../common/copyable/copyable-field/copyable-field'\nimport { TranslatedExternalLink } from '../../../common/links/translated-external-link'\nimport { ShowIf } from '../../../common/show-if/show-if'\nimport { Trans, useTranslation } from 'react-i18next'\n\nexport interface VersionInfoModalColumnProps {\n  titleI18nKey: string\n  version: string\n  sourceCodeLink: string\n  issueTrackerLink: string\n}\n\nexport const VersionInfoModalColumn: React.FC<VersionInfoModalColumnProps> = ({\n  titleI18nKey,\n  issueTrackerLink,\n  sourceCodeLink,\n  version\n}) => {\n  useTranslation()\n\n  return (\n    <Col md={6} className={'flex-column'}>\n      <h5>\n        <Trans i18nKey={titleI18nKey} />\n      </h5>\n      <CopyableField content={version} />\n      <ShowIf condition={!!sourceCodeLink}>\n        <TranslatedExternalLink\n          i18nKey={'landing.versionInfo.sourceCode'}\n          className={'btn btn-sm btn-primary d-block mb-2'}\n          href={sourceCodeLink}\n        />\n      </ShowIf>\n      <ShowIf condition={!!issueTrackerLink}>\n        <TranslatedExternalLink\n          i18nKey={'landing.versionInfo.issueTracker'}\n          className={'btn btn-sm btn-primary d-block mb-2'}\n          href={issueTrackerLink}\n        />\n      </ShowIf>\n    </Col>\n  )\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { useMemo } from 'react'\nimport { CommonModal, CommonModalProps } from '../../../common/modals/common-modal'\nimport { Modal, Row } from 'react-bootstrap'\nimport { VersionInfoModalColumn } from './version-info-modal-column'\nimport frontendVersion from '../../../../version.json'\nimport links from '../../../../links.json'\nimport { BackendVersion } from '../../../../api/config/types'\nimport { useApplicationState } from '../../../../hooks/common/use-application-state'\n\nexport const VersionInfoModal: React.FC<CommonModalProps> = ({ onHide, show }) => {\n  const serverVersion: BackendVersion = useApplicationState((state) => state.config.version)\n  const backendVersion = useMemo(() => {\n    const version = `${serverVersion.major}.${serverVersion.minor}.${serverVersion.patch}`\n\n    if (serverVersion.preRelease) {\n      return `${version}-${serverVersion.preRelease}`\n    }\n\n    if (serverVersion.commit) {\n      return serverVersion.commit\n    }\n    return version\n  }, [serverVersion])\n\n  return (\n    <CommonModal\n      data-cy={'version-modal'}\n      show={show}\n      onHide={onHide}\n      closeButton={true}\n      titleI18nKey={'landing.versionInfo.title'}>\n      <Modal.Body>\n        <Row>\n          <VersionInfoModalColumn\n            titleI18nKey={'landing.versionInfo.serverVersion'}\n            version={backendVersion}\n            issueTrackerLink={links.backendIssues}\n            sourceCodeLink={links.backendSourceCode}\n          />\n          <VersionInfoModalColumn\n            titleI18nKey={'landing.versionInfo.clientVersion'}\n            version={frontendVersion.version}\n            issueTrackerLink={frontendVersion.issueTrackerUrl}\n            sourceCodeLink={frontendVersion.sourceCodeUrl}\n          />\n        </Row>\n      </Modal.Body>\n    </CommonModal>\n  )\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { Fragment, useCallback, useState } from 'react'\nimport { Trans } from 'react-i18next'\nimport { Link } from 'react-router-dom'\nimport { VersionInfoModal } from './version-info-modal'\n\nexport const VersionInfoLink: React.FC = () => {\n  const [show, setShow] = useState(false)\n  const closeModal = useCallback(() => setShow(false), [])\n  const showModal = useCallback(() => setShow(true), [])\n\n  return (\n    <Fragment>\n      <Link data-cy={'show-version-modal'} to={'#'} className={'text-light'} onClick={showModal}>\n        <Trans i18nKey={'landing.versionInfo.versionInfo'} />\n      </Link>\n      <VersionInfoModal onHide={closeModal} show={show} />\n    </Fragment>\n  )\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { Fragment } from 'react'\nimport { Trans, useTranslation } from 'react-i18next'\nimport links from '../../../links.json'\nimport { ExternalLink } from '../../common/links/external-link'\nimport { TranslatedExternalLink } from '../../common/links/translated-external-link'\nimport { TranslatedInternalLink } from '../../common/links/translated-internal-link'\nimport { VersionInfoLink } from './version-info/version-info-link'\nimport { useApplicationState } from '../../../hooks/common/use-application-state'\n\nexport const PoweredByLinks: React.FC = () => {\n  useTranslation()\n\n  const specialUrls: [string, string][] = useApplicationState((state) =>\n    Object.entries(state.config.specialUrls).map(([i18nkey, url]) => [i18nkey, String(url)])\n  )\n\n  return (\n    <p>\n      <Trans i18nKey='landing.footer.poweredBy'>\n        <ExternalLink href={links.webpage} text='HedgeDoc' />\n      </Trans>\n      &nbsp;|&nbsp;\n      <TranslatedInternalLink href='/n/release-notes' i18nKey='landing.footer.releases' />\n      {specialUrls.map(([i18nKey, href]) => (\n        <Fragment key={i18nKey}>\n          &nbsp;|&nbsp;\n          <TranslatedExternalLink href={href} i18nKey={'landing.footer.' + i18nKey} />\n        </Fragment>\n      ))}\n      &nbsp;|&nbsp;\n      <VersionInfoLink />\n    </p>\n  )\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { Trans, useTranslation } from 'react-i18next'\nimport links from '../../../links.json'\nimport { ExternalLink } from '../../common/links/external-link'\n\nexport const SocialLink: React.FC = () => {\n  useTranslation()\n  return (\n    <p>\n      <Trans\n        i18nKey='landing.footer.followUs'\n        components={[\n          <ExternalLink href={links.githubOrg} icon='github' text='GitHub' />,\n          <ExternalLink href={links.community} icon='users' text='Discourse' />,\n          <ExternalLink href={links.chat} icon='comment' text='Matrix' />,\n          <ExternalLink href={links.mastodon} icon='mastodon' text='Mastodon' />,\n          <ExternalLink href={links.translate} icon='globe' text='POEditor' />\n        ]}\n      />\n    </p>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { LanguagePicker } from './language-picker'\nimport { PoweredByLinks } from './powered-by-links'\nimport { SocialLink } from './social-links'\n\nexport const Footer: React.FC = () => {\n  return (\n    <footer className='text-light-50 small'>\n      <LanguagePicker />\n      <PoweredByLinks />\n      <SocialLink />\n    </footer>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { Nav } from 'react-bootstrap'\nimport { LinkContainer } from 'react-router-bootstrap'\n\nexport interface HeaderNavLinkProps {\n  to: string\n  id: string\n}\n\nexport const HeaderNavLink: React.FC<HeaderNavLinkProps> = ({ to, id, children }) => {\n  return (\n    <Nav.Item>\n      <LinkContainer to={to}>\n        <Nav.Link id={id} className='text-light' href={to}>\n          {children}\n        </Nav.Link>\n      </LinkContainer>\n    </Nav.Item>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { Button } from 'react-bootstrap'\nimport { Trans, useTranslation } from 'react-i18next'\nimport { LinkContainer } from 'react-router-bootstrap'\nimport { ForkAwesomeIcon } from '../../common/fork-awesome/fork-awesome-icon'\n\nexport const NewGuestNoteButton: React.FC = () => {\n  const { t } = useTranslation()\n  return (\n    <LinkContainer to={'/new'} title={t('landing.navigation.newGuestNote')}>\n      <Button variant='primary' size='sm' className='d-inline-flex align-items-center'>\n        <ForkAwesomeIcon icon='plus' className='mx-1' />\n        <span>\n          <Trans i18nKey='landing.navigation.newGuestNote' />\n        </span>\n      </Button>\n    </LinkContainer>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { Button } from 'react-bootstrap'\nimport { Trans, useTranslation } from 'react-i18next'\nimport { LinkContainer } from 'react-router-bootstrap'\nimport { ForkAwesomeIcon } from '../../common/fork-awesome/fork-awesome-icon'\n\nexport const NewUserNoteButton: React.FC = () => {\n  const { t } = useTranslation()\n  return (\n    <LinkContainer to={'/new'} title={t('landing.navigation.newNote')}>\n      <Button variant='primary' size='sm' className='d-inline-flex align-items-center'>\n        <ForkAwesomeIcon icon='plus' className='mx-1' />\n        <span>\n          <Trans i18nKey='landing.navigation.newNote' />\n        </span>\n      </Button>\n    </LinkContainer>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { Fragment } from 'react'\nimport { Navbar } from 'react-bootstrap'\nimport { Trans, useTranslation } from 'react-i18next'\nimport { useApplicationState } from '../../../../hooks/common/use-application-state'\nimport { HeaderNavLink } from '../header-nav-link'\nimport { NewGuestNoteButton } from '../new-guest-note-button'\nimport { NewUserNoteButton } from '../new-user-note-button'\nimport { SignInButton } from '../sign-in-button'\nimport { UserDropdown } from '../user-dropdown'\nimport './header-bar.scss'\n\nconst HeaderBar: React.FC = () => {\n  useTranslation()\n  const userExists = useApplicationState((state) => !!state.user)\n\n  return (\n    <Navbar className='justify-content-between'>\n      <div className='nav header-nav'>\n        <HeaderNavLink to='/intro' id='navLinkIntro'>\n          <Trans i18nKey='landing.navigation.intro' />\n        </HeaderNavLink>\n        <HeaderNavLink to='/history' id='navLinkHistory'>\n          <Trans i18nKey='landing.navigation.history' />\n        </HeaderNavLink>\n      </div>\n      <div className='d-inline-flex'>\n        {!userExists ? (\n          <Fragment>\n            <span className={'mx-1 d-flex'}>\n              <NewGuestNoteButton />\n            </span>\n            <SignInButton size='sm' />\n          </Fragment>\n        ) : (\n          <Fragment>\n            <span className={'mx-1 d-flex'}>\n              <NewUserNoteButton />\n            </span>\n            <UserDropdown />\n          </Fragment>\n        )}\n      </div>\n    </Navbar>\n  )\n}\n\nexport { HeaderBar }\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { Fragment } from 'react'\nimport { Container } from 'react-bootstrap'\nimport { useDocumentTitle } from '../../hooks/common/use-document-title'\nimport { MotdBanner } from '../common/motd-banner/motd-banner'\nimport { Footer } from './footer/footer'\nimport { HeaderBar } from './navigation/header-bar/header-bar'\nimport { UiNotifications } from '../notifications/ui-notifications'\n\nexport const LandingLayout: React.FC = ({ children }) => {\n  useDocumentTitle()\n\n  return (\n    <Fragment>\n      <UiNotifications />\n      <Container className='text-light d-flex flex-column mvh-100'>\n        <MotdBanner />\n        <HeaderBar />\n        <div className={'d-flex flex-column justify-content-between flex-fill text-center'}>\n          <main>{children}</main>\n          <Footer />\n        </div>\n      </Container>\n    </Fragment>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { LandingLayout } from '../../landing-layout/landing-layout'\n\nexport const NotFoundErrorScreen: React.FC = () => {\n  return (\n    <LandingLayout>\n      <div className='text-light d-flex align-items-center justify-content-center my-5'>\n        <h1>\n          404 Not Found <small>oops.</small>\n        </h1>\n      </div>\n    </LandingLayout>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { useEffect, useState } from 'react'\nimport { Redirect } from 'react-router'\nimport { useParams } from 'react-router-dom'\nimport { getNote } from '../../../api/notes'\nimport { NotFoundErrorScreen } from './not-found-error-screen'\nimport { NoteDto } from '../../../api/notes/types'\n\ninterface RouteParameters {\n  id: string\n}\n\nexport const Redirector: React.FC = () => {\n  const { id } = useParams<RouteParameters>()\n  const [error, setError] = useState<boolean | null>(null)\n\n  useEffect(() => {\n    getNote(id)\n      .then((noteFromAPI: NoteDto) => setError(noteFromAPI.metadata.version !== 1))\n      .catch(() => setError(true))\n  }, [id])\n\n  if (error) {\n    return <NotFoundErrorScreen />\n  } else if (!error && error != null) {\n    return <Redirect to={`/n/${id}`} />\n  } else {\n    return <span>Loading</span>\n  }\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { Component, ErrorInfo, ReactElement, ReactNodeArray } from 'react'\nimport { Button, Container } from 'react-bootstrap'\nimport links from '../../links.json'\nimport frontendVersion from '../../version.json'\nimport { ForkAwesomeIcon } from '../common/fork-awesome/fork-awesome-icon'\nimport { ExternalLink } from '../common/links/external-link'\n\nexport class ErrorBoundary extends Component {\n  state: {\n    hasError: boolean\n  }\n\n  constructor(props: Readonly<unknown>) {\n    super(props)\n    this.state = { hasError: false }\n  }\n\n  static getDerivedStateFromError(_error: Error): { hasError: boolean } {\n    // Update state so the next render will show the fallback UI.\n    return { hasError: true }\n  }\n\n  componentDidCatch(error: Error, errorInfo: ErrorInfo): void {\n    console.error('error caught', error)\n    console.error('additional information', errorInfo)\n  }\n\n  refreshPage(): void {\n    window.location.reload()\n  }\n\n  render(): ReactElement | undefined | null | string | number | boolean | Record<string, unknown> | ReactNodeArray {\n    if (this.state.hasError) {\n      return (\n        <Container className='text-light d-flex flex-column mvh-100'>\n          <div className='text-light d-flex flex-column align-items-center justify-content-center my-5'>\n            <h1>An unknown error occurred</h1>\n            <p>\n              Don't worry, this happens sometimes. If this is the first time you see this page then try reloading the\n              app.\n            </p>\n            If you can reproduce this error, then we would be glad if you&#32;\n            <ExternalLink\n              text={'open an issue on github'}\n              href={frontendVersion.issueTrackerUrl}\n              className={'text-primary'}\n            />\n            &#32; or <ExternalLink text={'contact us on matrix.'} href={links.chat} className={'text-primary'} />\n            <Button onClick={() => this.refreshPage()} title={'Reload App'} className={'mt-4'}>\n              <ForkAwesomeIcon icon={'refresh'} />\n              &nbsp;Reload App\n            </Button>\n          </div>\n        </Container>\n      )\n    }\n    return this.props.children\n  }\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\n\nexport interface PageItemProps {\n  onClick: (index: number) => void\n  index: number\n}\n\nexport const PagerItem: React.FC<PageItemProps> = ({ index, onClick }) => {\n  return (\n    <li className='page-item'>\n      <span className='page-link' role='button' onClick={() => onClick(index)}>\n        {index + 1}\n      </span>\n    </li>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { useEffect, useState } from 'react'\nimport { Pagination } from 'react-bootstrap'\nimport { ShowIf } from '../show-if/show-if'\nimport { PagerItem } from './pager-item'\n\nexport interface PaginationProps {\n  numberOfPageButtonsToShowAfterAndBeforeCurrent: number\n  onPageChange: (pageIndex: number) => void\n  lastPageIndex: number\n}\n\nexport const PagerPagination: React.FC<PaginationProps> = ({\n  numberOfPageButtonsToShowAfterAndBeforeCurrent,\n  onPageChange,\n  lastPageIndex\n}) => {\n  if (numberOfPageButtonsToShowAfterAndBeforeCurrent % 2 !== 0) {\n    throw new Error('number of pages to show must be even!')\n  }\n\n  const [pageIndex, setPageIndex] = useState(0)\n  const correctedPageIndex = Math.min(pageIndex, lastPageIndex)\n  const wantedUpperPageIndex = correctedPageIndex + numberOfPageButtonsToShowAfterAndBeforeCurrent\n  const wantedLowerPageIndex = correctedPageIndex - numberOfPageButtonsToShowAfterAndBeforeCurrent\n\n  useEffect(() => {\n    onPageChange(pageIndex)\n  }, [onPageChange, pageIndex])\n\n  const correctedLowerPageIndex = Math.min(\n    Math.max(Math.min(wantedLowerPageIndex, wantedLowerPageIndex + lastPageIndex - wantedUpperPageIndex), 0),\n    lastPageIndex\n  )\n\n  const correctedUpperPageIndex = Math.max(\n    Math.min(Math.max(wantedUpperPageIndex, wantedUpperPageIndex - wantedLowerPageIndex), lastPageIndex),\n    0\n  )\n\n  const paginationItemsBefore = Array.from(new Array(correctedPageIndex - correctedLowerPageIndex)).map((k, index) => {\n    const itemIndex = correctedLowerPageIndex + index\n    return <PagerItem key={itemIndex} index={itemIndex} onClick={setPageIndex} />\n  })\n\n  const paginationItemsAfter = Array.from(new Array(correctedUpperPageIndex - correctedPageIndex)).map((k, index) => {\n    const itemIndex = correctedPageIndex + index + 1\n    return <PagerItem key={itemIndex} index={itemIndex} onClick={setPageIndex} />\n  })\n\n  return (\n    <Pagination dir='ltr'>\n      <ShowIf condition={correctedLowerPageIndex > 0}>\n        <PagerItem key={0} index={0} onClick={setPageIndex} />\n        <Pagination.Ellipsis disabled />\n      </ShowIf>\n      {paginationItemsBefore}\n      <Pagination.Item active>{correctedPageIndex + 1}</Pagination.Item>\n      {paginationItemsAfter}\n      <ShowIf condition={correctedUpperPageIndex < lastPageIndex}>\n        <Pagination.Ellipsis disabled />\n        <PagerItem key={lastPageIndex} index={lastPageIndex} onClick={setPageIndex} />\n      </ShowIf>\n    </Pagination>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { Fragment, useEffect } from 'react'\n\nexport interface PagerPageProps {\n  pageIndex: number\n  numberOfElementsPerPage: number\n  onLastPageIndexChange: (lastPageIndex: number) => void\n}\n\nexport const Pager: React.FC<PagerPageProps> = ({\n  children,\n  numberOfElementsPerPage,\n  pageIndex,\n  onLastPageIndexChange\n}) => {\n  const maxPageIndex = Math.ceil(React.Children.count(children) / numberOfElementsPerPage) - 1\n  const correctedPageIndex = Math.min(maxPageIndex, Math.max(0, pageIndex))\n\n  useEffect(() => {\n    onLastPageIndexChange(maxPageIndex)\n  }, [children, maxPageIndex, numberOfElementsPerPage, onLastPageIndexChange])\n\n  return (\n    <Fragment>\n      {React.Children.toArray(children).filter((value, index) => {\n        const pageOfElement = Math.floor(index / numberOfElementsPerPage)\n        return pageOfElement === correctedPageIndex\n      })}\n    </Fragment>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { Fragment, useState } from 'react'\nimport { Dropdown } from 'react-bootstrap'\nimport { Trans, useTranslation } from 'react-i18next'\nimport { ForkAwesomeIcon } from '../../common/fork-awesome/fork-awesome-icon'\nimport { IconName } from '../../common/fork-awesome/types'\nimport { DeletionModal } from '../../common/modals/deletion-modal'\n\nexport interface DropdownItemWithDeletionModalProps {\n  onConfirm: () => void\n  itemI18nKey: string\n  modalButtonI18nKey: string\n  modalIcon: IconName\n  modalTitleI18nKey: string\n  modalQuestionI18nKey: string\n  modalWarningI18nKey: string\n  noteTitle: string\n  className?: string\n}\n\nexport const DropdownItemWithDeletionModal: React.FC<DropdownItemWithDeletionModalProps> = ({\n  onConfirm,\n  noteTitle,\n  modalTitleI18nKey,\n  modalButtonI18nKey,\n  itemI18nKey,\n  modalIcon,\n  modalQuestionI18nKey,\n  modalWarningI18nKey,\n  className\n}) => {\n  useTranslation()\n  const [showDialog, setShowDialog] = useState(false)\n\n  return (\n    <Fragment>\n      <Dropdown.Item onClick={() => setShowDialog(true)} className={className}>\n        <ForkAwesomeIcon icon={modalIcon} fixedWidth={true} className='mx-2' />\n        <Trans i18nKey={itemI18nKey} />\n      </Dropdown.Item>\n      <DeletionModal\n        onConfirm={() => {\n          setShowDialog(false)\n          onConfirm()\n        }}\n        deletionButtonI18nKey={modalButtonI18nKey}\n        show={showDialog}\n        onHide={() => setShowDialog(false)}\n        titleI18nKey={modalTitleI18nKey}>\n        <h5>\n          <Trans i18nKey={modalQuestionI18nKey} />\n        </h5>\n        <ul>\n          <li>{noteTitle}</li>\n        </ul>\n        <h6>\n          <Trans i18nKey={modalWarningI18nKey} />\n        </h6>\n      </DeletionModal>\n    </Fragment>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { DropdownItemWithDeletionModal } from './dropdown-item-with-deletion-modal'\n\nexport interface DeleteNoteItemProps {\n  onConfirm: () => void\n  noteTitle: string\n}\n\nexport const DeleteNoteItem: React.FC<DeleteNoteItemProps> = ({ noteTitle, onConfirm }) => {\n  return (\n    <DropdownItemWithDeletionModal\n      onConfirm={onConfirm}\n      itemI18nKey={'landing.history.menu.deleteNote'}\n      modalButtonI18nKey={'editor.modal.deleteNote.button'}\n      modalIcon={'trash'}\n      modalTitleI18nKey={'editor.modal.deleteNote.title'}\n      modalQuestionI18nKey={'editor.modal.deleteNote.question'}\n      modalWarningI18nKey={'editor.modal.deleteNote.warning'}\n      noteTitle={noteTitle}\n    />\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { DropdownItemWithDeletionModal } from './dropdown-item-with-deletion-modal'\n\nexport interface RemoveNoteEntryItemProps {\n  onConfirm: () => void\n  noteTitle: string\n}\n\nexport const RemoveNoteEntryItem: React.FC<RemoveNoteEntryItemProps> = ({ noteTitle, onConfirm }) => {\n  return (\n    <DropdownItemWithDeletionModal\n      onConfirm={onConfirm}\n      itemI18nKey={'landing.history.menu.removeEntry'}\n      modalButtonI18nKey={'landing.history.modal.removeNote.button'}\n      modalIcon={'archive'}\n      modalTitleI18nKey={'landing.history.modal.removeNote.title'}\n      modalQuestionI18nKey={'landing.history.modal.removeNote.question'}\n      modalWarningI18nKey={'landing.history.modal.removeNote.warning'}\n      noteTitle={noteTitle}\n    />\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { Dropdown } from 'react-bootstrap'\nimport { Trans, useTranslation } from 'react-i18next'\nimport { ForkAwesomeIcon } from '../../common/fork-awesome/fork-awesome-icon'\nimport { ShowIf } from '../../common/show-if/show-if'\nimport { DeleteNoteItem } from './delete-note-item'\nimport './entry-menu.scss'\nimport { RemoveNoteEntryItem } from './remove-note-entry-item'\nimport { HistoryEntryOrigin } from '../../../redux/history/types'\nimport { useApplicationState } from '../../../hooks/common/use-application-state'\n\nexport interface EntryMenuProps {\n  id: string\n  title: string\n  origin: HistoryEntryOrigin\n  isDark: boolean\n  onRemove: () => void\n  onDelete: () => void\n  className?: string\n}\n\nexport const EntryMenu: React.FC<EntryMenuProps> = ({ id, title, origin, isDark, onRemove, onDelete, className }) => {\n  useTranslation()\n\n  const userExists = useApplicationState((state) => !!state.user)\n\n  return (\n    <Dropdown className={`d-inline-flex ${className || ''}`}>\n      <Dropdown.Toggle\n        variant={isDark ? 'secondary' : 'light'}\n        id={`dropdown-card-${id}`}\n        className='no-arrow history-menu d-inline-flex align-items-center'>\n        <ForkAwesomeIcon icon='ellipsis-v' fixedWidth={true} />\n      </Dropdown.Toggle>\n\n      <Dropdown.Menu>\n        <Dropdown.Header>\n          <Trans i18nKey='landing.history.menu.recentNotes' />\n        </Dropdown.Header>\n\n        <ShowIf condition={origin === HistoryEntryOrigin.LOCAL}>\n          <Dropdown.Item disabled>\n            <ForkAwesomeIcon icon='laptop' fixedWidth={true} className='mx-2' />\n            <Trans i18nKey='landing.history.menu.entryLocal' />\n          </Dropdown.Item>\n        </ShowIf>\n        <ShowIf condition={origin === HistoryEntryOrigin.REMOTE}>\n          <Dropdown.Item disabled>\n            <ForkAwesomeIcon icon='cloud' fixedWidth={true} className='mx-2' />\n            <Trans i18nKey='landing.history.menu.entryRemote' />\n          </Dropdown.Item>\n        </ShowIf>\n        <RemoveNoteEntryItem onConfirm={onRemove} noteTitle={title} />\n\n        <ShowIf condition={userExists}>\n          <Dropdown.Divider />\n          <DeleteNoteItem onConfirm={onDelete} noteTitle={title} />\n        </ShowIf>\n      </Dropdown.Menu>\n    </Dropdown>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { Button } from 'react-bootstrap'\nimport { ForkAwesomeIcon } from '../../common/fork-awesome/fork-awesome-icon'\nimport './pin-button.scss'\n\nexport interface PinButtonProps {\n  isPinned: boolean\n  onPinClick: () => void\n  isDark: boolean\n  className?: string\n}\n\nexport const PinButton: React.FC<PinButtonProps> = ({ isPinned, onPinClick, isDark, className }) => {\n  return (\n    <Button\n      variant={isDark ? 'secondary' : 'light'}\n      className={`history-pin ${className || ''} ${isPinned ? 'pinned' : ''}`}\n      onClick={onPinClick}>\n      <ForkAwesomeIcon icon='thumb-tack' />\n    </Button>\n  )\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { Button, ButtonProps } from 'react-bootstrap'\nimport { ForkAwesomeIcon } from '../fork-awesome/fork-awesome-icon'\nimport { IconName } from '../fork-awesome/types'\nimport { ShowIf } from '../show-if/show-if'\nimport './icon-button.scss'\n\nexport interface IconButtonProps extends ButtonProps {\n  icon: IconName\n  onClick?: () => void\n  border?: boolean\n  iconFixedWidth?: boolean\n}\n\nexport const IconButton: React.FC<IconButtonProps> = ({\n  icon,\n  children,\n  iconFixedWidth = false,\n  border = false,\n  className,\n  ...props\n}) => {\n  return (\n    <Button\n      {...props}\n      className={`btn-icon p-0 d-inline-flex align-items-stretch ${border ? 'with-border' : ''} ${className ?? ''}`}>\n      <span className='icon-part d-flex align-items-center'>\n        <ForkAwesomeIcon icon={icon} fixedWidth={iconFixedWidth} className={'icon'} />\n      </span>\n      <ShowIf condition={!!children}>\n        <span className='text-part d-flex align-items-center'>{children}</span>\n      </ShowIf>\n    </Button>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport equal from 'fast-deep-equal'\nimport React, { ChangeEvent, useCallback, useEffect, useMemo, useRef, useState } from 'react'\nimport { Button, Form, FormControl, InputGroup, ToggleButton, ToggleButtonGroup } from 'react-bootstrap'\nimport { Typeahead } from 'react-bootstrap-typeahead'\nimport { Trans, useTranslation } from 'react-i18next'\nimport { useQueryState } from 'react-router-use-location-state'\nimport { ForkAwesomeIcon } from '../../common/fork-awesome/fork-awesome-icon'\nimport { ShowIf } from '../../common/show-if/show-if'\nimport { SortButton, SortModeEnum } from '../sort-button/sort-button'\nimport { ClearHistoryButton } from './clear-history-button'\nimport { ExportHistoryButton } from './export-history-button'\nimport { ImportHistoryButton } from './import-history-button'\nimport './typeahead-hacks.scss'\nimport { HistoryEntryOrigin } from '../../../redux/history/types'\nimport { importHistoryEntries, refreshHistoryState, setHistoryEntries } from '../../../redux/history/methods'\nimport { showErrorNotification } from '../../../redux/ui-notifications/methods'\nimport { useApplicationState } from '../../../hooks/common/use-application-state'\n\nexport type HistoryToolbarChange = (newState: HistoryToolbarState) => void\n\ninterface ToolbarSortState {\n  titleSortDirection: SortModeEnum\n  lastVisitedSortDirection: SortModeEnum\n}\n\ninterface ToolbarFilterState {\n  viewState: ViewStateEnum\n  keywordSearch: string\n  selectedTags: string[]\n}\n\nexport type HistoryToolbarState = ToolbarSortState & ToolbarFilterState\n\nexport enum ViewStateEnum {\n  CARD,\n  TABLE\n}\n\nexport interface HistoryToolbarProps {\n  onSettingsChange: HistoryToolbarChange\n}\n\nconst initSortState: ToolbarSortState = {\n  titleSortDirection: SortModeEnum.no,\n  lastVisitedSortDirection: SortModeEnum.down\n}\n\nexport const initToolbarState: HistoryToolbarState = {\n  ...initSortState,\n  viewState: ViewStateEnum.CARD,\n  keywordSearch: '',\n  selectedTags: []\n}\n\nexport const HistoryToolbar: React.FC<HistoryToolbarProps> = ({ onSettingsChange }) => {\n  const { t } = useTranslation()\n  const historyEntries = useApplicationState((state) => state.history)\n  const userExists = useApplicationState((state) => !!state.user)\n\n  const tags = useMemo<string[]>(() => {\n    const allTags = historyEntries.map((entry) => entry.tags).flat()\n    return [...new Set(allTags)]\n  }, [historyEntries])\n\n  const previousState = useRef(initToolbarState)\n  const [searchState, setSearchState] = useQueryState('search', initToolbarState.keywordSearch)\n  const [tagsState, setTagsState] = useQueryState('tags', initToolbarState.selectedTags)\n  const [viewState, setViewState] = useState(initToolbarState.viewState)\n  const [sortState, setSortState] = useState<ToolbarSortState>(initSortState)\n\n  const titleSortChanged = useCallback(\n    (direction: SortModeEnum) => {\n      setSortState({\n        lastVisitedSortDirection: SortModeEnum.no,\n        titleSortDirection: direction\n      })\n    },\n    [setSortState]\n  )\n\n  const lastVisitedSortChanged = useCallback(\n    (direction: SortModeEnum) => {\n      setSortState({\n        lastVisitedSortDirection: direction,\n        titleSortDirection: SortModeEnum.no\n      })\n    },\n    [setSortState]\n  )\n\n  const keywordSearchChanged = useCallback(\n    (event: ChangeEvent<HTMLInputElement>) => {\n      setSearchState(event.currentTarget.value ?? '')\n    },\n    [setSearchState]\n  )\n\n  const toggleViewChanged = useCallback(\n    (newViewState: ViewStateEnum) => {\n      setViewState(newViewState)\n    },\n    [setViewState]\n  )\n\n  const selectedTagsChanged = useCallback(\n    (selected: string[]) => {\n      setTagsState(selected)\n    },\n    [setTagsState]\n  )\n\n  const refreshHistory = useCallback(() => {\n    refreshHistoryState().catch(showErrorNotification(t('landing.history.error.getHistory.text')))\n  }, [t])\n\n  const onUploadAllToRemote = useCallback(() => {\n    if (!userExists) {\n      return\n    }\n    const localEntries = historyEntries\n      .filter((entry) => entry.origin === HistoryEntryOrigin.LOCAL)\n      .map((entry) => entry.identifier)\n    historyEntries.forEach((entry) => (entry.origin = HistoryEntryOrigin.REMOTE))\n    importHistoryEntries(historyEntries).catch((error) => {\n      showErrorNotification(t('landing.history.error.setHistory.text'))(error)\n      historyEntries.forEach((entry) => {\n        if (localEntries.includes(entry.identifier)) {\n          entry.origin = HistoryEntryOrigin.LOCAL\n        }\n      })\n      setHistoryEntries(historyEntries)\n      refreshHistory()\n    })\n  }, [userExists, historyEntries, t, refreshHistory])\n\n  useEffect(() => {\n    const newState: HistoryToolbarState = {\n      selectedTags: tagsState,\n      keywordSearch: searchState,\n      viewState: viewState,\n      ...sortState\n    }\n    // This is needed because the onSettingsChange triggers a state update in history-page which re-renders the toolbar.\n    // The re-rendering causes this effect to run again resulting in an infinite state update loop.\n    if (equal(previousState.current, newState)) {\n      return\n    }\n    onSettingsChange(newState)\n    previousState.current = newState\n  }, [onSettingsChange, tagsState, searchState, viewState, sortState])\n\n  return (\n    <Form inline={true}>\n      <InputGroup className={'mr-1 mb-1'}>\n        <Typeahead\n          id={'tagsSelection'}\n          options={tags}\n          multiple={true}\n          placeholder={t('landing.history.toolbar.selectTags')}\n          onChange={selectedTagsChanged}\n          selected={tagsState}\n        />\n      </InputGroup>\n      <InputGroup className={'mr-1 mb-1'}>\n        <FormControl\n          placeholder={t('landing.history.toolbar.searchKeywords')}\n          aria-label={t('landing.history.toolbar.searchKeywords')}\n          onChange={keywordSearchChanged}\n          value={searchState}\n        />\n      </InputGroup>\n      <InputGroup className={'mr-1 mb-1'}>\n        <SortButton onDirectionChange={titleSortChanged} direction={sortState.titleSortDirection} variant={'light'}>\n          <Trans i18nKey={'landing.history.toolbar.sortByTitle'} />\n        </SortButton>\n      </InputGroup>\n      <InputGroup className={'mr-1 mb-1'}>\n        <SortButton\n          onDirectionChange={lastVisitedSortChanged}\n          direction={sortState.lastVisitedSortDirection}\n          variant={'light'}>\n          <Trans i18nKey={'landing.history.toolbar.sortByLastVisited'} />\n        </SortButton>\n      </InputGroup>\n      <InputGroup className={'mr-1 mb-1'}>\n        <ExportHistoryButton />\n      </InputGroup>\n      <InputGroup className={'mr-1 mb-1'}>\n        <ImportHistoryButton />\n      </InputGroup>\n      <InputGroup className={'mr-1 mb-1'}>\n        <ClearHistoryButton />\n      </InputGroup>\n      <InputGroup className={'mr-1 mb-1'}>\n        <Button variant={'light'} title={t('landing.history.toolbar.refresh')} onClick={refreshHistory}>\n          <ForkAwesomeIcon icon='refresh' />\n        </Button>\n      </InputGroup>\n      <ShowIf condition={userExists}>\n        <InputGroup className={'mr-1 mb-1'}>\n          <Button variant={'light'} title={t('landing.history.toolbar.uploadAll')} onClick={onUploadAllToRemote}>\n            <ForkAwesomeIcon icon='cloud-upload' />\n          </Button>\n        </InputGroup>\n      </ShowIf>\n      <InputGroup className={'mr-1 mb-1'}>\n        <ToggleButtonGroup\n          type='radio'\n          name='options'\n          dir='ltr'\n          value={viewState}\n          className={'button-height'}\n          onChange={(newViewState: ViewStateEnum) => {\n            toggleViewChanged(newViewState)\n          }}>\n          <ToggleButton className={'btn-light'} value={ViewStateEnum.CARD} title={t('landing.history.toolbar.cards')}>\n            <ForkAwesomeIcon icon={'sticky-note'} className={'fa-fix-line-height'} />\n          </ToggleButton>\n          <ToggleButton className={'btn-light'} value={ViewStateEnum.TABLE} title={t('landing.history.toolbar.table')}>\n            <ForkAwesomeIcon icon={'table'} className={'fa-fix-line-height'} />\n          </ToggleButton>\n        </ToggleButtonGroup>\n      </InputGroup>\n    </Form>\n  )\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { DateTime } from 'luxon'\nimport { SortModeEnum } from './sort-button/sort-button'\nimport { HistoryToolbarState } from './history-toolbar/history-toolbar'\nimport { HistoryEntry } from '../../redux/history/types'\n\nexport const formatHistoryDate = (date: string): string => DateTime.fromISO(date).toFormat('DDDD T')\n\nexport const sortAndFilterEntries = (entries: HistoryEntry[], toolbarState: HistoryToolbarState): HistoryEntry[] => {\n  const filteredBySelectedTagsEntries = filterBySelectedTags(entries, toolbarState.selectedTags)\n  const filteredByKeywordSearchEntries = filterByKeywordSearch(\n    filteredBySelectedTagsEntries,\n    toolbarState.keywordSearch\n  )\n  return sortEntries(filteredByKeywordSearchEntries, toolbarState)\n}\n\nconst filterBySelectedTags = (entries: HistoryEntry[], selectedTags: string[]): HistoryEntry[] => {\n  return entries.filter((entry) => {\n    return selectedTags.length === 0 || arrayCommonCheck(entry.tags, selectedTags)\n  })\n}\n\nconst arrayCommonCheck = <T>(array1: T[], array2: T[]): boolean => {\n  const foundElement = array1.find((element1) => array2.find((element2) => element2 === element1))\n  return !!foundElement\n}\n\nconst filterByKeywordSearch = (entries: HistoryEntry[], keywords: string): HistoryEntry[] => {\n  const searchTerm = keywords.toLowerCase()\n  return entries.filter((entry) => entry.title.toLowerCase().includes(searchTerm))\n}\n\nconst sortEntries = (entries: HistoryEntry[], viewState: HistoryToolbarState): HistoryEntry[] => {\n  return entries.sort((firstEntry, secondEntry) => {\n    if (firstEntry.pinStatus && !secondEntry.pinStatus) {\n      return -1\n    }\n    if (!firstEntry.pinStatus && secondEntry.pinStatus) {\n      return 1\n    }\n\n    if (viewState.titleSortDirection !== SortModeEnum.no) {\n      return firstEntry.title.localeCompare(secondEntry.title) * viewState.titleSortDirection\n    }\n\n    if (viewState.lastVisitedSortDirection !== SortModeEnum.no) {\n      if (firstEntry.lastVisited > secondEntry.lastVisited) {\n        return 1 * viewState.lastVisitedSortDirection\n      }\n      if (firstEntry.lastVisited < secondEntry.lastVisited) {\n        return -1 * viewState.lastVisitedSortDirection\n      }\n    }\n\n    return 0\n  })\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { DateTime } from 'luxon'\nimport React, { useCallback } from 'react'\nimport { Badge, Card } from 'react-bootstrap'\nimport { Link } from 'react-router-dom'\nimport { ForkAwesomeIcon } from '../../common/fork-awesome/fork-awesome-icon'\nimport { EntryMenu } from '../entry-menu/entry-menu'\nimport { HistoryEntryProps, HistoryEventHandlers } from '../history-content/history-content'\nimport { PinButton } from '../pin-button/pin-button'\nimport { formatHistoryDate } from '../utils'\nimport './history-card.scss'\n\nexport const HistoryCard: React.FC<HistoryEntryProps & HistoryEventHandlers> = ({\n  entry,\n  onPinClick,\n  onRemoveClick,\n  onDeleteClick\n}) => {\n  const onRemove = useCallback(() => {\n    onRemoveClick(entry.identifier)\n  }, [onRemoveClick, entry.identifier])\n\n  const onDelete = useCallback(() => {\n    onDeleteClick(entry.identifier)\n  }, [onDeleteClick, entry.identifier])\n\n  return (\n    <div className='p-2 col-xs-12 col-sm-6 col-md-6 col-lg-4'>\n      <Card className='card-min-height' text={'dark'} bg={'light'}>\n        <Card.Body className='p-2 d-flex flex-row justify-content-between'>\n          <div className={'d-flex flex-column'}>\n            <PinButton isDark={false} isPinned={entry.pinStatus} onPinClick={() => onPinClick(entry.identifier)} />\n          </div>\n          <Link to={`/n/${entry.identifier}`} className='text-decoration-none flex-fill text-dark'>\n            <div className={'d-flex flex-column justify-content-between'}>\n              <Card.Title className='m-0 mt-1dot5'>{entry.title}</Card.Title>\n              <div>\n                <div className='text-black-50 mt-2'>\n                  <ForkAwesomeIcon icon='clock-o' /> {DateTime.fromISO(entry.lastVisited).toRelative()}\n                  <br />\n                  {formatHistoryDate(entry.lastVisited)}\n                </div>\n                <div className={'card-footer-min-height p-0'}>\n                  {entry.tags.map((tag) => (\n                    <Badge variant={'dark'} className={'mr-1 mb-1'} key={tag}>\n                      {tag}\n                    </Badge>\n                  ))}\n                </div>\n              </div>\n            </div>\n          </Link>\n          <div className={'d-flex flex-column'}>\n            <EntryMenu\n              id={entry.identifier}\n              title={entry.title}\n              origin={entry.origin}\n              isDark={false}\n              onRemove={onRemove}\n              onDelete={onDelete}\n            />\n          </div>\n        </Card.Body>\n      </Card>\n    </div>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { Row } from 'react-bootstrap'\nimport { Pager } from '../../common/pagination/pager'\nimport { HistoryEntriesProps, HistoryEventHandlers } from '../history-content/history-content'\nimport { HistoryCard } from './history-card'\n\nexport const HistoryCardList: React.FC<HistoryEntriesProps & HistoryEventHandlers> = ({\n  entries,\n  onPinClick,\n  onRemoveClick,\n  onDeleteClick,\n  pageIndex,\n  onLastPageIndexChange\n}) => {\n  return (\n    <Row className='justify-content-start'>\n      <Pager numberOfElementsPerPage={9} pageIndex={pageIndex} onLastPageIndexChange={onLastPageIndexChange}>\n        {entries.map((entry) => (\n          <HistoryCard\n            key={entry.identifier}\n            entry={entry}\n            onPinClick={onPinClick}\n            onRemoveClick={onRemoveClick}\n            onDeleteClick={onDeleteClick}\n          />\n        ))}\n      </Pager>\n    </Row>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { Badge } from 'react-bootstrap'\nimport { Link } from 'react-router-dom'\nimport { EntryMenu } from '../entry-menu/entry-menu'\nimport { HistoryEntryProps, HistoryEventHandlers } from '../history-content/history-content'\nimport { PinButton } from '../pin-button/pin-button'\nimport { formatHistoryDate } from '../utils'\n\nexport const HistoryTableRow: React.FC<HistoryEntryProps & HistoryEventHandlers> = ({\n  entry,\n  onPinClick,\n  onRemoveClick,\n  onDeleteClick\n}) => {\n  return (\n    <tr>\n      <td>\n        <Link to={`/n/${entry.identifier}`} className='text-light'>\n          {entry.title}\n        </Link>\n      </td>\n      <td>{formatHistoryDate(entry.lastVisited)}</td>\n      <td>\n        {entry.tags.map((tag) => (\n          <Badge variant={'light'} className={'mr-1 mb-1'} key={tag}>\n            {tag}\n          </Badge>\n        ))}\n      </td>\n      <td>\n        <PinButton\n          isDark={true}\n          isPinned={entry.pinStatus}\n          onPinClick={() => onPinClick(entry.identifier)}\n          className={'mb-1 mr-1'}\n        />\n        <EntryMenu\n          id={entry.identifier}\n          title={entry.title}\n          origin={entry.origin}\n          isDark={true}\n          onRemove={() => onRemoveClick(entry.identifier)}\n          onDelete={() => onDeleteClick(entry.identifier)}\n        />\n      </td>\n    </tr>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { Table } from 'react-bootstrap'\nimport { Trans, useTranslation } from 'react-i18next'\nimport { Pager } from '../../common/pagination/pager'\nimport { HistoryEntriesProps, HistoryEventHandlers } from '../history-content/history-content'\nimport { HistoryTableRow } from './history-table-row'\nimport './history-table.scss'\n\nexport const HistoryTable: React.FC<HistoryEntriesProps & HistoryEventHandlers> = ({\n  entries,\n  onPinClick,\n  onRemoveClick,\n  onDeleteClick,\n  pageIndex,\n  onLastPageIndexChange\n}) => {\n  useTranslation()\n  return (\n    <Table striped bordered hover size='sm' variant='dark' className={'history-table'}>\n      <thead>\n        <tr>\n          <th>\n            <Trans i18nKey={'landing.history.tableHeader.title'} />\n          </th>\n          <th>\n            <Trans i18nKey={'landing.history.tableHeader.lastVisit'} />\n          </th>\n          <th>\n            <Trans i18nKey={'landing.history.tableHeader.tags'} />\n          </th>\n          <th>\n            <Trans i18nKey={'landing.history.tableHeader.actions'} />\n          </th>\n        </tr>\n      </thead>\n      <tbody>\n        <Pager numberOfElementsPerPage={12} pageIndex={pageIndex} onLastPageIndexChange={onLastPageIndexChange}>\n          {entries.map((entry) => (\n            <HistoryTableRow\n              key={entry.identifier}\n              entry={entry}\n              onPinClick={onPinClick}\n              onRemoveClick={onRemoveClick}\n              onDeleteClick={onDeleteClick}\n            />\n          ))}\n        </Pager>\n      </tbody>\n    </Table>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { Fragment, useCallback, useState } from 'react'\nimport { Button } from 'react-bootstrap'\nimport { Trans, useTranslation } from 'react-i18next'\nimport { ForkAwesomeIcon } from '../../common/fork-awesome/fork-awesome-icon'\nimport { DeletionModal } from '../../common/modals/deletion-modal'\nimport { deleteAllHistoryEntries, refreshHistoryState } from '../../../redux/history/methods'\nimport { showErrorNotification } from '../../../redux/ui-notifications/methods'\n\nexport const ClearHistoryButton: React.FC = () => {\n  const { t } = useTranslation()\n  const [show, setShow] = useState(false)\n\n  const handleShow = () => setShow(true)\n  const handleClose = () => setShow(false)\n\n  const onConfirm = useCallback(() => {\n    deleteAllHistoryEntries().catch((error) => {\n      showErrorNotification(t('landing.history.error.deleteEntry.text'))(error)\n      refreshHistoryState().catch(showErrorNotification(t('landing.history.error.getHistory.text')))\n    })\n    handleClose()\n  }, [t])\n\n  return (\n    <Fragment>\n      <Button variant={'light'} title={t('landing.history.toolbar.clear')} onClick={handleShow}>\n        <ForkAwesomeIcon icon={'trash'} />\n      </Button>\n      <DeletionModal\n        onConfirm={onConfirm}\n        deletionButtonI18nKey={'landing.history.toolbar.clear'}\n        show={show}\n        onHide={handleClose}\n        titleI18nKey={'landing.history.modal.clearHistory.title'}>\n        <h5>\n          <Trans i18nKey={'landing.history.modal.clearHistory.question'} />\n        </h5>\n        <h6>\n          <Trans i18nKey={'landing.history.modal.clearHistory.disclaimer'} />\n        </h6>\n      </DeletionModal>\n    </Fragment>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { Button } from 'react-bootstrap'\nimport { useTranslation } from 'react-i18next'\nimport { ForkAwesomeIcon } from '../../common/fork-awesome/fork-awesome-icon'\nimport { downloadHistory } from '../../../redux/history/methods'\n\nexport const ExportHistoryButton: React.FC = () => {\n  const { t } = useTranslation()\n\n  return (\n    <Button variant={'light'} title={t('landing.history.toolbar.export')} onClick={downloadHistory}>\n      <ForkAwesomeIcon icon='download' />\n    </Button>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { Modal } from 'react-bootstrap'\nimport { CommonModal, CommonModalProps } from './common-modal'\n\nexport const ErrorModal: React.FC<CommonModalProps> = ({ show, onHide, titleI18nKey, icon, children }) => {\n  return (\n    <CommonModal show={show} onHide={onHide} titleI18nKey={titleI18nKey} icon={icon} closeButton={true}>\n      <Modal.Body className='text-dark text-center'>{children}</Modal.Body>\n    </CommonModal>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { useCallback, useRef, useState } from 'react'\nimport { Button } from 'react-bootstrap'\nimport { Trans, useTranslation } from 'react-i18next'\nimport { ForkAwesomeIcon } from '../../common/fork-awesome/fork-awesome-icon'\nimport { ErrorModal } from '../../common/modals/error-modal'\nimport { HistoryEntry, HistoryEntryOrigin, HistoryExportJson, V1HistoryEntry } from '../../../redux/history/types'\nimport {\n  convertV1History,\n  importHistoryEntries,\n  mergeHistoryEntries,\n  refreshHistoryState\n} from '../../../redux/history/methods'\nimport { showErrorNotification } from '../../../redux/ui-notifications/methods'\nimport { useApplicationState } from '../../../hooks/common/use-application-state'\n\nexport const ImportHistoryButton: React.FC = () => {\n  const { t } = useTranslation()\n  const userExists = useApplicationState((state) => !!state.user)\n  const historyState = useApplicationState((state) => state.history)\n  const uploadInput = useRef<HTMLInputElement>(null)\n  const [show, setShow] = useState(false)\n  const [fileName, setFilename] = useState('')\n  const [i18nKey, setI18nKey] = useState('')\n\n  const handleShow = useCallback((key: string) => {\n    setI18nKey(key)\n    setShow(true)\n  }, [])\n\n  const handleClose = useCallback(() => {\n    setI18nKey('')\n    setShow(false)\n  }, [])\n\n  const onImportHistory = useCallback(\n    (entries: HistoryEntry[]): void => {\n      entries.forEach((entry) => (entry.origin = userExists ? HistoryEntryOrigin.REMOTE : HistoryEntryOrigin.LOCAL))\n      importHistoryEntries(mergeHistoryEntries(historyState, entries)).catch((error) => {\n        showErrorNotification(t('landing.history.error.setHistory.text'))(error)\n        refreshHistoryState().catch(showErrorNotification(t('landing.history.error.getHistory.text')))\n      })\n    },\n    [historyState, userExists, t]\n  )\n\n  const handleUpload = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const { validity, files } = event.target\n    if (files && files[0] && validity.valid) {\n      const file = files[0]\n      setFilename(file.name)\n      if (file.type !== 'application/json' && file.type !== '') {\n        handleShow('landing.history.modal.importHistoryError.textWithFile')\n        return\n      }\n      const fileReader = new FileReader()\n      fileReader.onload = (event) => {\n        if (event.target && event.target.result) {\n          try {\n            const result = event.target.result as string\n            const data = JSON.parse(result) as HistoryExportJson\n            if (data) {\n              if (data.version) {\n                if (data.version === 2) {\n                  onImportHistory(data.entries)\n                } else {\n                  // probably a newer version we can't support\n                  handleShow('landing.history.modal.importHistoryError.tooNewVersion')\n                }\n              } else {\n                const oldEntries = JSON.parse(result) as V1HistoryEntry[]\n                onImportHistory(convertV1History(oldEntries))\n              }\n            }\n          } catch {\n            handleShow('landing.history.modal.importHistoryError.textWithFile')\n          }\n        }\n      }\n      fileReader.readAsText(file)\n    } else {\n      handleShow('landing.history.modal.importHistoryError.textWithOutFile')\n    }\n  }\n\n  return (\n    <div>\n      <input type='file' className='d-none' accept='.json' onChange={handleUpload} ref={uploadInput} />\n      <Button\n        variant={'light'}\n        title={t('landing.history.toolbar.import')}\n        onClick={() => uploadInput.current?.click()}>\n        <ForkAwesomeIcon icon='upload' />\n      </Button>\n      <ErrorModal\n        show={show}\n        onHide={handleClose}\n        titleI18nKey='landing.history.modal.importHistoryError.title'\n        icon='exclamation-circle'>\n        <h5>\n          <Trans i18nKey={i18nKey} values={fileName !== '' ? { fileName: fileName } : {}} />\n        </h5>\n      </ErrorModal>\n    </div>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { useApplicationState } from '../../../hooks/common/use-application-state'\nimport { IconName } from '../../common/fork-awesome/types'\nimport { SocialLinkButton } from './social-link-button/social-link-button'\n\nexport enum OneClickType {\n  'DROPBOX' = 'dropbox',\n  'FACEBOOK' = 'facebook',\n  'GITHUB' = 'github',\n  'GITLAB' = 'gitlab',\n  'GOOGLE' = 'google',\n  'OAUTH2' = 'oauth2',\n  'SAML' = 'saml',\n  'TWITTER' = 'twitter'\n}\n\ninterface OneClickMetadata {\n  name: string\n  icon: IconName\n  className: string\n  url: string\n}\n\nconst buildBackendAuthUrl = (backendUrl: string, backendName: string): string => {\n  return `${backendUrl}/auth/${backendName}`\n}\n\nconst getMetadata = (backendUrl: string, oneClickType: OneClickType): OneClickMetadata => {\n  const buildBackendAuthUrlWithFirstParameterSet = (backendName: string): string =>\n    buildBackendAuthUrl(backendUrl, backendName)\n  switch (oneClickType) {\n    case OneClickType.DROPBOX:\n      return {\n        name: 'Dropbox',\n        icon: 'dropbox',\n        className: 'btn-social-dropbox',\n        url: buildBackendAuthUrlWithFirstParameterSet('dropbox')\n      }\n    case OneClickType.FACEBOOK:\n      return {\n        name: 'Facebook',\n        icon: 'facebook',\n        className: 'btn-social-facebook',\n        url: buildBackendAuthUrlWithFirstParameterSet('facebook')\n      }\n    case OneClickType.GITHUB:\n      return {\n        name: 'GitHub',\n        icon: 'github',\n        className: 'btn-social-github',\n        url: buildBackendAuthUrlWithFirstParameterSet('github')\n      }\n    case OneClickType.GITLAB:\n      return {\n        name: 'GitLab',\n        icon: 'gitlab',\n        className: 'btn-social-gitlab',\n        url: buildBackendAuthUrlWithFirstParameterSet('gitlab')\n      }\n    case OneClickType.GOOGLE:\n      return {\n        name: 'Google',\n        icon: 'google',\n        className: 'btn-social-google',\n        url: buildBackendAuthUrlWithFirstParameterSet('google')\n      }\n    case OneClickType.OAUTH2:\n      return {\n        name: 'OAuth2',\n        icon: 'address-card',\n        className: 'btn-primary',\n        url: buildBackendAuthUrlWithFirstParameterSet('oauth2')\n      }\n    case OneClickType.SAML:\n      return {\n        name: 'SAML',\n        icon: 'users',\n        className: 'btn-success',\n        url: buildBackendAuthUrlWithFirstParameterSet('saml')\n      }\n    case OneClickType.TWITTER:\n      return {\n        name: 'Twitter',\n        icon: 'twitter',\n        className: 'btn-social-twitter',\n        url: buildBackendAuthUrlWithFirstParameterSet('twitter')\n      }\n    default:\n      return {\n        name: '',\n        icon: 'exclamation',\n        className: '',\n        url: '#'\n      }\n  }\n}\n\nexport interface ViaOneClickProps {\n  oneClickType: OneClickType\n  optionalName?: string\n}\n\nexport const ViaOneClick: React.FC<ViaOneClickProps> = ({ oneClickType, optionalName }) => {\n  const backendUrl = useApplicationState((state) => state.apiUrl.apiUrl)\n  const { name, icon, className, url } = getMetadata(backendUrl, oneClickType)\n  const text = optionalName || name\n\n  return (\n    <SocialLinkButton backgroundClass={className} icon={icon} href={url} title={text}>\n      {text}\n    </SocialLinkButton>\n  )\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { Fragment, useCallback, useState } from 'react'\nimport { Alert, Row } from 'react-bootstrap'\nimport { Trans, useTranslation } from 'react-i18next'\nimport { PagerPagination } from '../../common/pagination/pager-pagination'\nimport { HistoryCardList } from '../history-card/history-card-list'\nimport { HistoryTable } from '../history-table/history-table'\nimport { ViewStateEnum } from '../history-toolbar/history-toolbar'\nimport { HistoryEntry } from '../../../redux/history/types'\nimport { removeHistoryEntry, toggleHistoryEntryPinning } from '../../../redux/history/methods'\nimport { deleteNote } from '../../../api/notes'\nimport { showErrorNotification } from '../../../redux/ui-notifications/methods'\n\ntype OnEntryClick = (entryId: string) => void\n\nexport interface HistoryEventHandlers {\n  onPinClick: OnEntryClick\n  onRemoveClick: OnEntryClick\n  onDeleteClick: OnEntryClick\n}\n\nexport interface HistoryContentProps {\n  viewState: ViewStateEnum\n  entries: HistoryEntry[]\n}\n\nexport interface HistoryEntryProps {\n  entry: HistoryEntry\n}\n\nexport interface HistoryEntriesProps {\n  entries: HistoryEntry[]\n  pageIndex: number\n  onLastPageIndexChange: (lastPageIndex: number) => void\n}\n\nexport const HistoryContent: React.FC<HistoryContentProps> = ({ viewState, entries }) => {\n  const { t } = useTranslation()\n\n  const [pageIndex, setPageIndex] = useState(0)\n  const [lastPageIndex, setLastPageIndex] = useState(0)\n\n  const onPinClick = useCallback(\n    (noteId: string) => {\n      toggleHistoryEntryPinning(noteId).catch(showErrorNotification(t('landing.history.error.updateEntry.text')))\n    },\n    [t]\n  )\n\n  const onDeleteClick = useCallback(\n    (noteId: string) => {\n      deleteNote(noteId)\n        .then(() => removeHistoryEntry(noteId))\n        .catch(showErrorNotification(t('landing.history.error.deleteNote.text')))\n    },\n    [t]\n  )\n\n  const onRemoveClick = useCallback(\n    (noteId: string) => {\n      removeHistoryEntry(noteId).catch(showErrorNotification(t('landing.history.error.deleteEntry.text')))\n    },\n    [t]\n  )\n\n  if (entries.length === 0) {\n    return (\n      <Row className={'justify-content-center'}>\n        <Alert variant={'secondary'}>\n          <Trans i18nKey={'landing.history.noHistory'} />\n        </Alert>\n      </Row>\n    )\n  }\n\n  const mapViewStateToComponent = (viewState: ViewStateEnum) => {\n    switch (viewState) {\n      case ViewStateEnum.TABLE:\n        return (\n          <HistoryTable\n            entries={entries}\n            onPinClick={onPinClick}\n            onRemoveClick={onRemoveClick}\n            onDeleteClick={onDeleteClick}\n            pageIndex={pageIndex}\n            onLastPageIndexChange={setLastPageIndex}\n          />\n        )\n      case ViewStateEnum.CARD:\n      default:\n        return (\n          <HistoryCardList\n            entries={entries}\n            onPinClick={onPinClick}\n            onRemoveClick={onRemoveClick}\n            onDeleteClick={onDeleteClick}\n            pageIndex={pageIndex}\n            onLastPageIndexChange={setLastPageIndex}\n          />\n        )\n    }\n  }\n\n  return (\n    <Fragment>\n      {mapViewStateToComponent(viewState)}\n      <Row className='justify-content-center'>\n        <PagerPagination\n          numberOfPageButtonsToShowAfterAndBeforeCurrent={2}\n          lastPageIndex={lastPageIndex}\n          onPageChange={setPageIndex}\n        />\n      </Row>\n    </Fragment>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { Fragment, useEffect, useMemo, useState } from 'react'\nimport { Row } from 'react-bootstrap'\nimport { Trans, useTranslation } from 'react-i18next'\nimport { HistoryContent } from './history-content/history-content'\nimport { HistoryToolbar, HistoryToolbarState, initToolbarState } from './history-toolbar/history-toolbar'\nimport { sortAndFilterEntries } from './utils'\nimport { refreshHistoryState } from '../../redux/history/methods'\nimport { HistoryEntry } from '../../redux/history/types'\nimport { showErrorNotification } from '../../redux/ui-notifications/methods'\nimport { useApplicationState } from '../../hooks/common/use-application-state'\n\nexport const HistoryPage: React.FC = () => {\n  const { t } = useTranslation()\n\n  const allEntries = useApplicationState((state) => state.history)\n  const [toolbarState, setToolbarState] = useState<HistoryToolbarState>(initToolbarState)\n\n  const entriesToShow = useMemo<HistoryEntry[]>(\n    () => sortAndFilterEntries(allEntries, toolbarState),\n    [allEntries, toolbarState]\n  )\n\n  useEffect(() => {\n    refreshHistoryState().catch(showErrorNotification(t('landing.history.error.getHistory.text')))\n  }, [t])\n\n  return (\n    <Fragment>\n      <h1 className='mb-4'>\n        <Trans i18nKey='landing.navigation.history' />\n      </h1>\n      <Row className={'justify-content-center mt-5 mb-3'}>\n        <HistoryToolbar onSettingsChange={setToolbarState} />\n      </Row>\n      <HistoryContent viewState={toolbarState.viewState} entries={entriesToShow} />\n    </Fragment>\n  )\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { Button } from 'react-bootstrap'\nimport { Trans, useTranslation } from 'react-i18next'\nimport { Link } from 'react-router-dom'\nimport { useApplicationState } from '../../../hooks/common/use-application-state'\nimport { ShowIf } from '../../common/show-if/show-if'\nimport { SignInButton } from '../../landing-layout/navigation/sign-in-button'\nimport './cover-buttons.scss'\n\nexport const CoverButtons: React.FC = () => {\n  useTranslation()\n  const userExists = useApplicationState((state) => !!state.user)\n  const anyAuthProviderActivated = useApplicationState((state) =>\n    Object.values(state.config.authProviders).includes(true)\n  )\n\n  if (userExists) {\n    return null\n  }\n\n  return (\n    <div className='mb-5'>\n      <SignInButton className='cover-button' variant='success' size='lg' />\n      <ShowIf condition={anyAuthProviderActivated}>\n        <span className='m-2'>\n          <Trans i18nKey='common.or' />\n        </span>\n      </ShowIf>\n      <Link to='/n/features'>\n        <Button data-cy={'features-button'} className='cover-button' variant='primary' size='lg'>\n          <Trans i18nKey='landing.intro.exploreFeatures' />\n        </Button>\n      </Link>\n    </div>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { Col, Row } from 'react-bootstrap'\nimport { Trans, useTranslation } from 'react-i18next'\nimport { Link } from 'react-router-dom'\nimport { ForkAwesomeIcon } from '../common/fork-awesome/fork-awesome-icon'\n\nexport const FeatureLinks: React.FC = () => {\n  useTranslation()\n  return (\n    <Row className='mb-5 d-flex flex-row justify-content-center'>\n      <Col md={3}>\n        <Link to={'/n/features#Share-Notes'} className='text-light'>\n          <ForkAwesomeIcon icon='bolt' size='2x' />\n          <h6>\n            <Trans i18nKey='landing.intro.features.collaboration' />\n          </h6>\n        </Link>\n      </Col>\n      <Col md={3}>\n        <Link to={'/n/features#MathJax'} className='text-light'>\n          <ForkAwesomeIcon icon='bar-chart' size='2x' />\n          <h6>\n            <Trans i18nKey='landing.intro.features.katex' />\n          </h6>\n        </Link>\n      </Col>\n      <Col md={3}>\n        <Link to={'/n/features#Slide-Mode'} className='text-light'>\n          <ForkAwesomeIcon icon='television' size='2x' />\n          <h6>\n            <Trans i18nKey='landing.intro.features.slides' />\n          </h6>\n        </Link>\n      </Col>\n    </Row>\n  )\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { defaultFetchConfig, expectResponseCode } from '../../api/utils'\n\nexport const fetchFrontPageContent = async (customizeAssetsUrl: string): Promise<string> => {\n  const response = await fetch(customizeAssetsUrl + 'intro.md', {\n    ...defaultFetchConfig,\n    method: 'GET'\n  })\n  expectResponseCode(response)\n\n  return await response.text()\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { Trans } from 'react-i18next'\nimport { Branding } from '../common/branding/branding'\nimport {\n  HedgeDocLogoSize,\n  HedgeDocLogoType,\n  HedgeDocLogoWithText\n} from '../common/hedge-doc-logo/hedge-doc-logo-with-text'\nimport { RenderIframe } from '../editor-page/renderer-pane/render-iframe'\nimport { CoverButtons } from './cover-buttons/cover-buttons'\nimport { FeatureLinks } from './feature-links'\nimport { useIntroPageContent } from './hooks/use-intro-page-content'\nimport { ShowIf } from '../common/show-if/show-if'\nimport { RendererType } from '../render-page/rendering-message'\nimport { WaitSpinner } from '../common/wait-spinner/wait-spinner'\nimport { IframeEditorToRendererCommunicatorContextProvider } from '../editor-page/render-context/iframe-editor-to-renderer-communicator-context-provider'\nimport { useApplicationState } from '../../hooks/common/use-application-state'\n\nexport const IntroPage: React.FC = () => {\n  const introPageContent = useIntroPageContent()\n  const rendererReady = useApplicationState((state) => state.rendererStatus.rendererReady)\n\n  return (\n    <IframeEditorToRendererCommunicatorContextProvider>\n      <div className={'flex-fill mt-3'}>\n        <h1 dir='auto' className={'align-items-center d-flex justify-content-center flex-column'}>\n          <HedgeDocLogoWithText logoType={HedgeDocLogoType.COLOR_VERTICAL} size={HedgeDocLogoSize.BIG} />\n        </h1>\n        <p className='lead'>\n          <Trans i18nKey='app.slogan' />\n        </p>\n        <div className={'mb-5'}>\n          <Branding delimiter={false} />\n        </div>\n        <CoverButtons />\n        <ShowIf condition={!rendererReady && introPageContent !== undefined}>\n          <WaitSpinner />\n        </ShowIf>\n        <ShowIf condition={!!introPageContent}>\n          <RenderIframe\n            frameClasses={'w-100 overflow-y-hidden'}\n            markdownContent={introPageContent as string}\n            rendererType={RendererType.INTRO}\n            forcedDarkMode={true}\n          />\n        </ShowIf>\n        <hr className={'mb-5'} />\n      </div>\n      <FeatureLinks />\n    </IframeEditorToRendererCommunicatorContextProvider>\n  )\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { useEffect, useState } from 'react'\nimport { useTranslation } from 'react-i18next'\nimport { fetchFrontPageContent } from '../requests'\nimport { useCustomizeAssetsUrl } from '../../../hooks/common/use-customize-assets-url'\n\nexport const useIntroPageContent = (): string | undefined => {\n  const { t } = useTranslation()\n  const [content, setContent] = useState<string | undefined>(undefined)\n  const customizeAssetsUrl = useCustomizeAssetsUrl()\n\n  useEffect(() => {\n    fetchFrontPageContent(customizeAssetsUrl)\n      .then((content) => setContent(content))\n      .catch(() => setContent(undefined))\n  }, [customizeAssetsUrl, t])\n\n  return content\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { FormEvent, useCallback, useState } from 'react'\nimport { Alert, Button, Card, Form } from 'react-bootstrap'\nimport { Trans, useTranslation } from 'react-i18next'\nimport { Link } from 'react-router-dom'\nimport { doInternalLogin } from '../../../api/auth'\nimport { ShowIf } from '../../common/show-if/show-if'\nimport { fetchAndSetUser } from './utils'\nimport { useApplicationState } from '../../../hooks/common/use-application-state'\n\nexport const ViaInternal: React.FC = () => {\n  const { t } = useTranslation()\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [error, setError] = useState(false)\n  const allowRegister = useApplicationState((state) => state.config.allowRegister)\n\n  const onLoginSubmit = useCallback(\n    (event: FormEvent) => {\n      doInternalLogin(username, password)\n        .then(() => fetchAndSetUser())\n        .catch(() => setError(true))\n      event.preventDefault()\n    },\n    [username, password]\n  )\n\n  return (\n    <Card className='bg-dark mb-4'>\n      <Card.Body>\n        <Card.Title>\n          <Trans i18nKey='login.signInVia' values={{ service: t('login.auth.username') }} />\n        </Card.Title>\n        <Form onSubmit={onLoginSubmit}>\n          <Form.Group controlId='internal-username'>\n            <Form.Control\n              isInvalid={error}\n              type='text'\n              size='sm'\n              placeholder={t('login.auth.username')}\n              onChange={(event) => setUsername(event.currentTarget.value)}\n              className='bg-dark text-light'\n              autoComplete='username'\n            />\n          </Form.Group>\n\n          <Form.Group controlId='internal-password'>\n            <Form.Control\n              isInvalid={error}\n              type='password'\n              size='sm'\n              placeholder={t('login.auth.password')}\n              onChange={(event) => setPassword(event.currentTarget.value)}\n              className='bg-dark text-light'\n              autoComplete='current-password'\n            />\n          </Form.Group>\n\n          <Alert className='small' show={error} variant='danger'>\n            <Trans i18nKey='login.auth.error.usernamePassword' />\n          </Alert>\n\n          <div className='flex flex-row' dir='auto'>\n            <Button type='submit' variant='primary' className='mx-2'>\n              <Trans i18nKey='login.signIn' />\n            </Button>\n            <ShowIf condition={allowRegister}>\n              <Link to={'/register'}>\n                <Button type='button' variant='secondary' className='mx-2'>\n                  <Trans i18nKey='login.register.title' />\n                </Button>\n              </Link>\n            </ShowIf>\n          </div>\n        </Form>\n      </Card.Body>\n    </Card>\n  )\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { FormEvent, useCallback, useState } from 'react'\nimport { Alert, Button, Card, Form } from 'react-bootstrap'\n\nimport { Trans, useTranslation } from 'react-i18next'\nimport { doLdapLogin } from '../../../api/auth'\nimport { fetchAndSetUser } from './utils'\nimport { useApplicationState } from '../../../hooks/common/use-application-state'\n\nexport const ViaLdap: React.FC = () => {\n  const { t } = useTranslation()\n  const ldapCustomName = useApplicationState((state) => state.config.customAuthNames.ldap)\n\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [error, setError] = useState(false)\n\n  const name = ldapCustomName ? `${ldapCustomName} (LDAP)` : 'LDAP'\n\n  const onLoginSubmit = useCallback(\n    (event: FormEvent) => {\n      doLdapLogin(username, password)\n        .then(() => fetchAndSetUser())\n        .catch(() => setError(true))\n      event.preventDefault()\n    },\n    [username, password]\n  )\n\n  return (\n    <Card className='bg-dark mb-4'>\n      <Card.Body>\n        <Card.Title>\n          <Trans i18nKey='login.signInVia' values={{ service: name }} />\n        </Card.Title>\n        <Form onSubmit={onLoginSubmit}>\n          <Form.Group controlId='ldap-username'>\n            <Form.Control\n              isInvalid={error}\n              type='text'\n              size='sm'\n              placeholder={t('login.auth.username')}\n              onChange={(event) => setUsername(event.currentTarget.value)}\n              className='bg-dark text-light'\n              autoComplete='username'\n            />\n          </Form.Group>\n\n          <Form.Group controlId='ldap-password'>\n            <Form.Control\n              isInvalid={error}\n              type='password'\n              size='sm'\n              placeholder={t('login.auth.password')}\n              onChange={(event) => setPassword(event.currentTarget.value)}\n              className='bg-dark text-light'\n              autoComplete='current-password'\n            />\n          </Form.Group>\n\n          <Alert className='small' show={error} variant='danger'>\n            <Trans i18nKey='login.auth.error.usernamePassword' />\n          </Alert>\n\n          <Button type='submit' variant='primary'>\n            <Trans i18nKey='login.signIn' />\n          </Button>\n        </Form>\n      </Card.Body>\n    </Card>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport { ForkAwesomeIcon } from '../../../common/fork-awesome/fork-awesome-icon'\nimport { IconName } from '../../../common/fork-awesome/types'\nimport './social-link-button.scss'\n\nexport interface SocialButtonProps {\n  backgroundClass: string\n  href: string\n  icon: IconName\n  title?: string\n}\n\nexport const SocialLinkButton: React.FC<SocialButtonProps> = ({ title, backgroundClass, href, icon, children }) => {\n  return (\n    <a\n      href={href}\n      title={title}\n      className={'btn social-link-button p-0 d-inline-flex align-items-stretch ' + backgroundClass}>\n      <span className='icon-part d-flex align-items-center'>\n        <ForkAwesomeIcon icon={icon} className={'social-icon'} fixedWidth={true} />\n      </span>\n      <span className='text-part d-flex align-items-center mx-auto'>{children}</span>\n    </a>\n  )\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { FormEvent, useState } from 'react'\nimport { Alert, Button, Card, Form } from 'react-bootstrap'\nimport { Trans, useTranslation } from 'react-i18next'\nimport { doOpenIdLogin } from '../../../api/auth'\nimport { fetchAndSetUser } from './utils'\n\nexport const ViaOpenId: React.FC = () => {\n  useTranslation()\n  const [openId, setOpenId] = useState('')\n  const [error, setError] = useState(false)\n  const doAsyncLogin: () => Promise<void> = async () => {\n    await doOpenIdLogin(openId)\n    await fetchAndSetUser()\n  }\n\n  const onFormSubmit = (event: FormEvent) => {\n    doAsyncLogin().catch(() => setError(true))\n    event.preventDefault()\n  }\n\n  return (\n    <Card className='bg-dark mb-4'>\n      <Card.Body>\n        <Card.Title>\n          <Trans i18nKey='login.signInVia' values={{ service: 'OpenID' }} />\n        </Card.Title>\n\n        <Form onSubmit={onFormSubmit}>\n          <Form.Group controlId='openid'>\n            <Form.Control\n              isInvalid={error}\n              type='text'\n              size='sm'\n              placeholder={'OpenID'}\n              onChange={(event) => setOpenId(event.currentTarget.value)}\n              className='bg-dark text-light'\n            />\n          </Form.Group>\n\n          <Alert className='small' show={error} variant='danger'>\n            <Trans i18nKey='login.auth.error.openIdLogin' />\n          </Alert>\n\n          <Button type='submit' variant='primary'>\n            <Trans i18nKey='login.signIn' />\n          </Button>\n        </Form>\n      </Card.Body>\n    </Card>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { Fragment } from 'react'\nimport { Card, Col, Row } from 'react-bootstrap'\nimport { Trans, useTranslation } from 'react-i18next'\nimport { Redirect } from 'react-router'\nimport { ShowIf } from '../common/show-if/show-if'\nimport { ViaInternal } from './auth/via-internal'\nimport { ViaLdap } from './auth/via-ldap'\nimport { OneClickType, ViaOneClick } from './auth/via-one-click'\nimport { ViaOpenId } from './auth/via-openid'\nimport { useApplicationState } from '../../hooks/common/use-application-state'\n\nexport const LoginPage: React.FC = () => {\n  useTranslation()\n  const authProviders = useApplicationState((state) => state.config.authProviders)\n  const customSamlAuthName = useApplicationState((state) => state.config.customAuthNames.saml)\n  const customOauthAuthName = useApplicationState((state) => state.config.customAuthNames.oauth2)\n  const userLoggedIn = useApplicationState((state) => !!state.user)\n\n  const oneClickProviders = [\n    authProviders.dropbox,\n    authProviders.facebook,\n    authProviders.github,\n    authProviders.gitlab,\n    authProviders.google,\n    authProviders.oauth2,\n    authProviders.saml,\n    authProviders.twitter\n  ]\n\n  const oneClickCustomName: (type: OneClickType) => string | undefined = (type) => {\n    switch (type) {\n      case OneClickType.SAML:\n        return customSamlAuthName\n      case OneClickType.OAUTH2:\n        return customOauthAuthName\n      default:\n        return undefined\n    }\n  }\n\n  if (userLoggedIn) {\n    // TODO Redirect to previous page?\n    return <Redirect to='/history' />\n  }\n\n  return (\n    <Fragment>\n      <div className='my-3'>\n        <Row className='h-100 flex justify-content-center'>\n          <ShowIf condition={authProviders.internal || authProviders.ldap || authProviders.openid}>\n            <Col xs={12} sm={10} lg={4}>\n              <ShowIf condition={authProviders.internal}>\n                <ViaInternal />\n              </ShowIf>\n              <ShowIf condition={authProviders.ldap}>\n                <ViaLdap />\n              </ShowIf>\n              <ShowIf condition={authProviders.openid}>\n                <ViaOpenId />\n              </ShowIf>\n            </Col>\n          </ShowIf>\n          <ShowIf condition={oneClickProviders.includes(true)}>\n            <Col xs={12} sm={10} lg={4}>\n              <Card className='bg-dark mb-4'>\n                <Card.Body>\n                  <Card.Title>\n                    <Trans i18nKey='login.signInVia' values={{ service: '' }} />\n                  </Card.Title>\n                  {Object.values(OneClickType)\n                    .filter((value) => authProviders[value])\n                    .map((value) => (\n                      <div className='p-2 d-flex flex-column social-button-container' key={value}>\n                        <ViaOneClick oneClickType={value} optionalName={oneClickCustomName(value)} />\n                      </div>\n                    ))}\n                </Card.Body>\n              </Card>\n            </Col>\n          </ShowIf>\n        </Row>\n      </div>\n    </Fragment>\n  )\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { defaultFetchConfig, expectResponseCode, getApiUrl } from '../utils'\nimport { AccessToken, AccessTokenSecret } from './types'\n\nexport const getAccessTokenList = async (): Promise<AccessToken[]> => {\n  const response = await fetch(`${getApiUrl()}tokens`, {\n    ...defaultFetchConfig\n  })\n  expectResponseCode(response)\n  return (await response.json()) as AccessToken[]\n}\n\nexport const postNewAccessToken = async (label: string): Promise<AccessToken & AccessTokenSecret> => {\n  const response = await fetch(`${getApiUrl()}tokens`, {\n    ...defaultFetchConfig,\n    method: 'POST',\n    body: label\n  })\n  expectResponseCode(response)\n  return (await response.json()) as AccessToken & AccessTokenSecret\n}\n\nexport const deleteAccessToken = async (timestamp: number): Promise<void> => {\n  const response = await fetch(`${getApiUrl()}tokens/${timestamp}`, {\n    ...defaultFetchConfig,\n    method: 'DELETE'\n  })\n  expectResponseCode(response)\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { DateTime } from 'luxon'\nimport React, { ChangeEvent, FormEvent, Fragment, useCallback, useEffect, useMemo, useState } from 'react'\nimport { Button, Card, Col, Form, ListGroup, Modal, Row } from 'react-bootstrap'\nimport { Trans, useTranslation } from 'react-i18next'\nimport { deleteAccessToken, getAccessTokenList, postNewAccessToken } from '../../../api/tokens'\nimport { AccessToken } from '../../../api/tokens/types'\nimport { CopyableField } from '../../common/copyable/copyable-field/copyable-field'\nimport { IconButton } from '../../common/icon-button/icon-button'\nimport { CommonModal } from '../../common/modals/common-modal'\nimport { DeletionModal } from '../../common/modals/deletion-modal'\nimport { ShowIf } from '../../common/show-if/show-if'\n\nexport const ProfileAccessTokens: React.FC = () => {\n  const { t } = useTranslation()\n\n  const [error, setError] = useState(false)\n  const [showAddedModal, setShowAddedModal] = useState(false)\n  const [showDeleteModal, setShowDeleteModal] = useState(false)\n  const [accessTokens, setAccessTokens] = useState<AccessToken[]>([])\n  const [newTokenLabel, setNewTokenLabel] = useState('')\n  const [newTokenSecret, setNewTokenSecret] = useState('')\n  const [selectedForDeletion, setSelectedForDeletion] = useState(0)\n\n  const addToken = useCallback(\n    (event: FormEvent) => {\n      event.preventDefault()\n      postNewAccessToken(newTokenLabel)\n        .then((token) => {\n          setNewTokenSecret(token.secret)\n          setShowAddedModal(true)\n          setNewTokenLabel('')\n        })\n        .catch((error) => {\n          console.error(error)\n          setError(true)\n        })\n    },\n    [newTokenLabel]\n  )\n\n  const deleteToken = useCallback(() => {\n    deleteAccessToken(selectedForDeletion)\n      .then(() => {\n        setSelectedForDeletion(0)\n      })\n      .catch((error) => {\n        console.error(error)\n        setError(true)\n      })\n      .finally(() => {\n        setShowDeleteModal(false)\n      })\n  }, [selectedForDeletion, setError])\n\n  const selectForDeletion = useCallback((timestamp: number) => {\n    setSelectedForDeletion(timestamp)\n    setShowDeleteModal(true)\n  }, [])\n\n  const newTokenSubmittable = useMemo(() => {\n    return newTokenLabel.trim().length > 0\n  }, [newTokenLabel])\n\n  useEffect(() => {\n    getAccessTokenList()\n      .then((tokens) => {\n        setError(false)\n        setAccessTokens(tokens)\n      })\n      .catch((err) => {\n        console.error(err)\n        setError(true)\n      })\n  }, [showAddedModal])\n\n  return (\n    <Fragment>\n      <Card className='bg-dark mb-4 access-tokens'>\n        <Card.Body>\n          <Card.Title>\n            <Trans i18nKey='profile.accessTokens.title' />\n          </Card.Title>\n          <p className='text-start'>\n            <Trans i18nKey='profile.accessTokens.info' />\n          </p>\n          <p className='text-start small'>\n            <Trans i18nKey='profile.accessTokens.infoDev' />\n          </p>\n          <hr />\n          <ShowIf condition={accessTokens.length === 0 && !error}>\n            <Trans i18nKey='profile.accessTokens.noTokens' />\n          </ShowIf>\n          <ShowIf condition={error}>\n            <Trans i18nKey='common.errorOccurred' />\n          </ShowIf>\n          <ListGroup>\n            {accessTokens.map((token) => {\n              return (\n                <ListGroup.Item className='bg-dark' key={token.created}>\n                  <Row>\n                    <Col className='text-start'>{token.label}</Col>\n                    <Col className='text-start text-white-50'>\n                      <Trans\n                        i18nKey='profile.accessTokens.created'\n                        values={{\n                          time: DateTime.fromSeconds(token.created).toRelative({\n                            style: 'short'\n                          })\n                        }}\n                      />\n                    </Col>\n                    <Col xs='auto'>\n                      <IconButton icon='trash-o' variant='danger' onClick={() => selectForDeletion(token.created)} />\n                    </Col>\n                  </Row>\n                </ListGroup.Item>\n              )\n            })}\n          </ListGroup>\n          <hr />\n          <Form onSubmit={addToken} className='text-left'>\n            <Form.Row>\n              <Col>\n                <Form.Control\n                  type='text'\n                  size='sm'\n                  placeholder={t('profile.accessTokens.label')}\n                  value={newTokenLabel}\n                  className='bg-dark text-light'\n                  onChange={(event: ChangeEvent<HTMLInputElement>) => setNewTokenLabel(event.target.value)}\n                  isValid={newTokenSubmittable}\n                  required\n                />\n              </Col>\n              <Col xs={'auto'}>\n                <Button type='submit' variant='primary' size='sm' disabled={!newTokenSubmittable}>\n                  <Trans i18nKey='profile.accessTokens.createToken' />\n                </Button>\n              </Col>\n            </Form.Row>\n          </Form>\n        </Card.Body>\n      </Card>\n\n      <CommonModal\n        show={showAddedModal}\n        onHide={() => setShowAddedModal(false)}\n        titleI18nKey='profile.modal.addedAccessToken.title'>\n        <Modal.Body>\n          <Trans i18nKey='profile.modal.addedAccessToken.message' />\n          <br />\n          <CopyableField content={newTokenSecret} />\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant='primary' onClick={() => setShowAddedModal(false)}>\n            <Trans i18nKey='common.close' />\n          </Button>\n        </Modal.Footer>\n      </CommonModal>\n\n      <DeletionModal\n        onConfirm={deleteToken}\n        deletionButtonI18nKey={'common.delete'}\n        show={showDeleteModal}\n        onHide={() => setShowDeleteModal(false)}\n        titleI18nKey={'profile.modal.deleteAccessToken.title'}>\n        <Trans i18nKey='profile.modal.deleteAccessToken.message' />\n      </DeletionModal>\n    </Fragment>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { Fragment, useEffect, useRef, useState } from 'react'\nimport { Button, Card, Modal } from 'react-bootstrap'\nimport { Trans, useTranslation } from 'react-i18next'\nimport { deleteUser } from '../../../api/me'\nimport { getApiUrl } from '../../../api/utils'\nimport { clearUser } from '../../../redux/user/methods'\nimport { ForkAwesomeIcon } from '../../common/fork-awesome/fork-awesome-icon'\n\nexport const ProfileAccountManagement: React.FC = () => {\n  useTranslation()\n  const [showDeleteModal, setShowDeleteModal] = useState(false)\n  const [deletionButtonActive, setDeletionButtonActive] = useState(false)\n  const [countdown, setCountdown] = useState(0)\n  const interval = useRef<NodeJS.Timeout>()\n\n  const stopCountdown = (): void => {\n    if (interval.current) {\n      clearTimeout(interval.current)\n    }\n  }\n\n  const startCountdown = (): void => {\n    interval.current = setInterval(() => {\n      setCountdown((oldValue) => oldValue - 1)\n    }, 1000)\n  }\n\n  const handleModalClose = () => {\n    setShowDeleteModal(false)\n    stopCountdown()\n  }\n\n  useEffect(() => {\n    if (!showDeleteModal) {\n      return\n    }\n    if (countdown === 0) {\n      setDeletionButtonActive(true)\n      stopCountdown()\n    }\n  }, [countdown, showDeleteModal])\n\n  const handleModalOpen = () => {\n    setShowDeleteModal(true)\n    setDeletionButtonActive(false)\n    setCountdown(10)\n    startCountdown()\n  }\n\n  const deleteUserAccount = async () => {\n    await deleteUser()\n    clearUser()\n  }\n\n  return (\n    <Fragment>\n      <Card className='bg-dark mb-4'>\n        <Card.Body>\n          <Card.Title>\n            <Trans i18nKey='profile.accountManagement' />\n          </Card.Title>\n          <Button variant='secondary' block href={getApiUrl() + 'me/export'} className='mb-2'>\n            <ForkAwesomeIcon icon='cloud-download' fixedWidth={true} className='mx-2' />\n            <Trans i18nKey='profile.exportUserData' />\n          </Button>\n          <Button variant='danger' block onClick={handleModalOpen}>\n            <ForkAwesomeIcon icon='trash' fixedWidth={true} className='mx-2' />\n            <Trans i18nKey='profile.deleteUser' />\n          </Button>\n        </Card.Body>\n      </Card>\n\n      <Modal show={showDeleteModal} onHide={handleModalClose} animation={true}>\n        <Modal.Body className='text-dark'>\n          <h3 dir='auto'>\n            <Trans i18nKey='profile.modal.deleteUser.message' />\n          </h3>\n          <Trans i18nKey='profile.modal.deleteUser.subMessage' />\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant='secondary' onClick={handleModalClose}>\n            <Trans i18nKey='common.close' />\n          </Button>\n          <Button variant='danger' onClick={deleteUserAccount} disabled={!deletionButtonActive}>\n            {deletionButtonActive ? <Trans i18nKey={'profile.modal.deleteUser.title'} /> : countdown}\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    </Fragment>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { ChangeEvent, FormEvent, useState } from 'react'\nimport { Button, Card, Form } from 'react-bootstrap'\nimport { Trans, useTranslation } from 'react-i18next'\nimport { changePassword } from '../../../api/me'\n\nexport const ProfileChangePassword: React.FC = () => {\n  useTranslation()\n  const [oldPassword, setOldPassword] = useState('')\n  const [newPassword, setNewPassword] = useState('')\n  const [newPasswordAgain, setNewPasswordAgain] = useState('')\n  const [newPasswordValid, setNewPasswordValid] = useState(false)\n  const [newPasswordAgainValid, setNewPasswordAgainValid] = useState(false)\n\n  const regexPassword = /^[^\\s].{5,}$/\n\n  const onChangeNewPassword = (event: ChangeEvent<HTMLInputElement>) => {\n    setNewPassword(event.target.value)\n    setNewPasswordValid(regexPassword.test(event.target.value))\n    setNewPasswordAgainValid(event.target.value === newPasswordAgain)\n  }\n\n  const onChangeNewPasswordAgain = (event: ChangeEvent<HTMLInputElement>) => {\n    setNewPasswordAgain(event.target.value)\n    setNewPasswordAgainValid(event.target.value === newPassword)\n  }\n\n  const updatePasswordSubmit = async (event: FormEvent) => {\n    await changePassword(oldPassword, newPassword)\n    event.preventDefault()\n  }\n\n  return (\n    <Card className='bg-dark mb-4'>\n      <Card.Body>\n        <Card.Title>\n          <Trans i18nKey='profile.changePassword.title' />\n        </Card.Title>\n        <Form onSubmit={updatePasswordSubmit} className='text-left'>\n          <Form.Group controlId='oldPassword'>\n            <Form.Label>\n              <Trans i18nKey='profile.changePassword.old' />\n            </Form.Label>\n            <Form.Control\n              type='password'\n              size='sm'\n              className='bg-dark text-light'\n              required\n              onChange={(event) => setOldPassword(event.target.value)}\n            />\n          </Form.Group>\n          <Form.Group controlId='newPassword'>\n            <Form.Label>\n              <Trans i18nKey='profile.changePassword.new' />\n            </Form.Label>\n            <Form.Control\n              type='password'\n              size='sm'\n              className='bg-dark text-light'\n              required\n              onChange={onChangeNewPassword}\n              isValid={newPasswordValid}\n            />\n            <Form.Text>\n              <Trans i18nKey='profile.changePassword.info' />\n            </Form.Text>\n          </Form.Group>\n          <Form.Group controlId='newPasswordAgain'>\n            <Form.Label>\n              <Trans i18nKey='profile.changePassword.newAgain' />\n            </Form.Label>\n            <Form.Control\n              type='password'\n              size='sm'\n              className='bg-dark text-light'\n              required\n              onChange={onChangeNewPasswordAgain}\n              isValid={newPasswordAgainValid}\n              isInvalid={newPasswordAgain !== '' && !newPasswordAgainValid}\n            />\n          </Form.Group>\n\n          <Button type='submit' variant='primary' disabled={!newPasswordValid || !newPasswordAgainValid}>\n            <Trans i18nKey='common.save' />\n          </Button>\n        </Form>\n      </Card.Body>\n    </Card>\n  )\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { ChangeEvent, FormEvent, useEffect, useState } from 'react'\nimport { Alert, Button, Card, Form } from 'react-bootstrap'\nimport { Trans, useTranslation } from 'react-i18next'\nimport { updateDisplayName } from '../../../api/me'\nimport { fetchAndSetUser } from '../../login-page/auth/utils'\nimport { useApplicationState } from '../../../hooks/common/use-application-state'\n\nexport const ProfileDisplayName: React.FC = () => {\n  const regexInvalidDisplayName = /^\\s*$/\n  const { t } = useTranslation()\n  const userName = useApplicationState((state) => state.user?.name)\n  const [submittable, setSubmittable] = useState(false)\n  const [error, setError] = useState(false)\n  const [displayName, setDisplayName] = useState('')\n\n  useEffect(() => {\n    if (userName !== undefined) {\n      setDisplayName(userName)\n    }\n  }, [userName])\n\n  if (!userName) {\n    return <Alert variant={'danger'}>User not logged in</Alert>\n  }\n\n  const changeNameField = (event: ChangeEvent<HTMLInputElement>) => {\n    setSubmittable(!regexInvalidDisplayName.test(event.target.value))\n    setDisplayName(event.target.value)\n  }\n\n  const doAsyncChange = async () => {\n    await updateDisplayName(displayName)\n    await fetchAndSetUser()\n  }\n\n  const changeNameSubmit = (event: FormEvent) => {\n    doAsyncChange().catch(() => setError(true))\n    event.preventDefault()\n  }\n\n  return (\n    <Card className='bg-dark mb-4'>\n      <Card.Body>\n        <Card.Title>\n          <Trans i18nKey='profile.userProfile' />\n        </Card.Title>\n        <Form onSubmit={changeNameSubmit} className='text-left'>\n          <Form.Group controlId='displayName'>\n            <Form.Label>\n              <Trans i18nKey='profile.displayName' />\n            </Form.Label>\n            <Form.Control\n              type='text'\n              size='sm'\n              placeholder={t('profile.displayName')}\n              value={displayName}\n              className='bg-dark text-light'\n              onChange={changeNameField}\n              isValid={submittable}\n              isInvalid={error}\n              required\n            />\n            <Form.Text>\n              <Trans i18nKey='profile.displayNameInfo' />\n            </Form.Text>\n          </Form.Group>\n\n          <Button type='submit' variant='primary' disabled={!submittable}>\n            <Trans i18nKey='common.save' />\n          </Button>\n        </Form>\n      </Card.Body>\n    </Card>\n  )\n}\n","/*\n SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n\n SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { Fragment } from 'react'\nimport { Col, Row } from 'react-bootstrap'\nimport { Redirect } from 'react-router'\nimport { useApplicationState } from '../../hooks/common/use-application-state'\nimport { LoginProvider } from '../../redux/user/types'\nimport { ShowIf } from '../common/show-if/show-if'\nimport { ProfileAccessTokens } from './access-tokens/profile-access-tokens'\nimport { ProfileAccountManagement } from './settings/profile-account-management'\nimport { ProfileChangePassword } from './settings/profile-change-password'\nimport { ProfileDisplayName } from './settings/profile-display-name'\n\nexport const ProfilePage: React.FC = () => {\n  const userProvider = useApplicationState((state) => state.user?.provider)\n\n  if (!userProvider) {\n    return <Redirect to={'/login'} />\n  }\n\n  return (\n    <Fragment>\n      <div className='my-3'>\n        <Row className='h-100 flex justify-content-center'>\n          <Col lg={6}>\n            <ProfileDisplayName />\n            <ShowIf condition={userProvider === LoginProvider.INTERNAL}>\n              <ProfileChangePassword />\n            </ShowIf>\n            <ProfileAccessTokens />\n            <ProfileAccountManagement />\n          </Col>\n        </Row>\n      </div>\n    </Fragment>\n  )\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\n// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst localhostRegex = /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    localhostRegex.exec(window.location.hostname)\n)\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void\n  onUpdate?: (registration: ServiceWorkerRegistration) => void\n}\n\nexport function register(config?: Config): void {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready\n          .then(() => {\n            console.log(\n              'This web app is being served cache-first by a service ' +\n                'worker. To learn more, visit https://cra.link/PWA'\n            )\n          })\n          .catch((error: Error) => console.error(error))\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker == null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              )\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type')\n      if (response.status === 404 || (contentType != null && contentType.indexOf('javascript') === -1)) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready\n          .then((registration) => {\n            registration\n              .unregister()\n              .then(() => {\n                window.location.reload()\n              })\n              .catch((error: Error) => console.error(error))\n          })\n          .catch((error: Error) => console.error(error))\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.')\n    })\n}\n\nexport function unregister(): void {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister().catch((error: Error) => console.error(error))\n      })\n      .catch((error: Error) => {\n        console.error(error.message)\n      })\n  }\n}\n","/*\n * SPDX-FileCopyrightText: 2021 The HedgeDoc developers (see AUTHORS file)\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\nimport { BrowserRouter as Router, Redirect, Route, Switch } from 'react-router-dom'\nimport { ApplicationLoader } from './components/application-loader/application-loader'\nimport { NotFoundErrorScreen } from './components/common/routing/not-found-error-screen'\nimport { Redirector } from './components/common/routing/redirector'\nimport { ErrorBoundary } from './components/error-boundary/error-boundary'\nimport { HistoryPage } from './components/history-page/history-page'\nimport { IntroPage } from './components/intro-page/intro-page'\nimport { LandingLayout } from './components/landing-layout/landing-layout'\nimport { LoginPage } from './components/login-page/login-page'\nimport { ProfilePage } from './components/profile-page/profile-page'\nimport { RegisterPage } from './components/register-page/register-page'\nimport { store } from './redux'\nimport * as serviceWorkerRegistration from './service-worker-registration'\nimport './style/dark.scss'\nimport './style/index.scss'\nimport { isTestMode } from './utils/test-modes'\n\nconst EditorPage = React.lazy(\n  () => import(/* webpackPrefetch: true */ /* webpackChunkName: \"editor\" */ './components/editor-page/editor-page')\n)\nconst RenderPage = React.lazy(\n  () => import(/* webpackPrefetch: true */ /* webpackChunkName: \"renderPage\" */ './components/render-page/render-page')\n)\nconst DocumentReadOnlyPage = React.lazy(\n  () =>\n    import(\n      /* webpackPrefetch: true */ /* webpackChunkName: \"documentReadOnly\" */ './components/document-read-only-page/document-read-only-page'\n    )\n)\nconst baseUrl = new URL(document.head.baseURI).pathname\n\nReactDOM.render(\n  <Provider store={store}>\n    <Router basename={baseUrl}>\n      <ApplicationLoader>\n        <ErrorBoundary>\n          <Switch>\n            <Route path='/history'>\n              <LandingLayout>\n                <HistoryPage />\n              </LandingLayout>\n            </Route>\n            <Route path='/intro'>\n              <LandingLayout>\n                <IntroPage />\n              </LandingLayout>\n            </Route>\n            <Route path='/login'>\n              <LandingLayout>\n                <LoginPage />\n              </LandingLayout>\n            </Route>\n            <Route path='/register'>\n              <LandingLayout>\n                <RegisterPage />\n              </LandingLayout>\n            </Route>\n            <Route path='/profile'>\n              <LandingLayout>\n                <ProfilePage />\n              </LandingLayout>\n            </Route>\n            <Route path='/render'>\n              <RenderPage />\n            </Route>\n            <Route path='/n/:id'>\n              <EditorPage />\n            </Route>\n            <Route path='/s/:id'>\n              <DocumentReadOnlyPage />\n            </Route>\n            <Route path='/:id'>\n              <Redirector />\n            </Route>\n            <Route path='/'>\n              <Redirect to='/intro' />\n            </Route>\n            <Route>\n              <NotFoundErrorScreen />\n            </Route>\n          </Switch>\n        </ErrorBoundary>\n      </ApplicationLoader>\n    </Router>\n  </Provider>,\n  document.getElementById('root')\n)\n\nif (isTestMode()) {\n  console.log('This build runs in test mode. This means:\\n - no sandboxed iframe')\n}\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorkerRegistration.unregister()\n"],"sourceRoot":""}