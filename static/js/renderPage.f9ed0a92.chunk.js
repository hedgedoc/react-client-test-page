(this.webpackJsonpreact_client=this.webpackJsonpreact_client||[]).push([[15],{1036:function(e,t,n){},1037:function(e,t,n){},1038:function(e,t,n){},1631:function(e,t,n){"use strict";n.r(t),n.d(t,"RenderPage",(function(){return F}));var r=n(0),a=n(389),o=n(9),i=n(39),c=n(101),s=n(333),l=n(615),u=n(210),d=n(61),f=n(33),b=n(44),O=n(72),h=n(17),j=n(16),v=n(1),S=function(){Object(d.a)();var e=Object(j.a)((function(e){return e.noteDetails.frontmatter.deprecatedTagsSyntax}));return Object(v.jsx)(h.a,{condition:e,children:Object(v.jsxs)(u.a,{"data-cy":"yamlArrayDeprecationAlert",className:"text-wrap",variant:"warning",dir:"auto",children:[Object(v.jsx)("span",{className:"text-wrap",children:Object(v.jsx)("span",{className:"text-wrap",children:Object(v.jsx)(f.a,{i18nKey:"editor.deprecatedTags"})})}),Object(v.jsx)("br",{}),Object(v.jsx)(O.a,{i18nKey:"common.readForMoreInfo",href:b.faq,className:"text-primary"})]})})},g=function(e,t,n,a,i){var c=Object(r.useState)(),s=Object(o.a)(c,2),l=s[0],u=s[1],d=Object(r.useCallback)((function(n){var r,a;if(e.current&&t.current){var o=null!==(r=e.current.offsetTop)&&void 0!==r?r:0,i=(null!==(a=t.current.offsetTop)&&void 0!==a?a:0)-o,c=n.map((function(e){return{line:e.line,position:e.position+i}}));u(c)}}),[e,t]),f=function(e,t,n){return Object(r.useCallback)((function(){if(t.current&&e&&0!==e.length&&n){var r=t.current.scrollTop,a=e.filter((function(e){return e.position<=r}));if(0!==a.length){var o=e.filter((function(e){return e.position>r}));if(0!==o.length){var i=a.reduce((function(e,t){return e.line>=t.line?e:t})),c=o.reduce((function(e,t){return e.line<t.line?e:t})),s=c.position-i.position,l=r-i.position,u=l/s,d=c.line-i.line,f=Math.floor(d*u+i.line),b=s/d,O=Math.floor(l%b/b*100);n({firstLineInView:f,scrolledPercentage:O})}}}}),[e,n,t])}(l,e,i);return function(e,t,n,a){var o=Object(r.useRef)(),i=Object(r.useCallback)((function(e){a.current&&e!==o.current&&(o.current=e,a.current.scrollTo({top:e}))}),[a]);Object(r.useEffect)((function(){if(a.current&&t&&0!==t.length&&e)if(e.firstLineInView<t[0].line)i(0);else if(e.firstLineInView>t[t.length-1].line)i(a.current.offsetHeight);else{var r=function(e,t){for(var n,r,a=0;a<e.length;a++){var o=e[a];if(o&&(o.line<=t&&(n=o),o.line>t&&(r=o),r&&n))break}return{lastMarkBefore:n,firstMarkAfter:r}}(t,e.firstLineInView),o=r.lastMarkBefore,c=r.firstMarkAfter,s=o?o.position:t[0].position,l=c?c.position:a.current.offsetHeight,u=o?o.line:1,d=(l-s)/((c?c.line:n)-u),f=s+(e.firstLineInView-u)*d+e.scrolledPercentage/100*d,b=Math.floor(f);i(b)}}),[n,t,a,e,i])}(a,l,n,e),[d,f]},C=n(1602),k=(n(1036),n(614)),T=n(637),m=function e(t,n,a,o,i){var c;if(n<0)return null;var s=t.n.trim(),l=(null!==(c=a.get(s))&&void 0!==c?c:-1)+1,u="#".concat(Object(T.a)(s)).concat(l>0?"-".concat(l):""),d=new URL(u,i).toString();a.set(s,l);var f=Object(v.jsxs)(r.Fragment,{children:[Object(v.jsx)(h.a,{condition:t.l>0,children:Object(v.jsx)("a",{href:d,title:s,onClick:Object(k.b)(u.substr(1)),children:s})}),Object(v.jsx)(h.a,{condition:t.c.length>0,children:Object(v.jsx)("ul",{children:t.c.map((function(t){return e(t,n-1,a,!0,i)}))})})]});return o?Object(v.jsx)("li",{children:f},d):f},p=(n(1037),function(e){var t=e.ast,n=e.maxDepth,a=void 0===n?3:n,o=e.className,i=e.baseUrl;Object(d.a)();var c=Object(r.useMemo)((function(){return m(t,a,new Map,!1,i)}),[t,a,i]);return Object(v.jsxs)("div",{className:"markdown-toc ".concat(null!==o&&void 0!==o?o:""),children:[Object(v.jsx)(h.a,{condition:0===t.c.length,children:Object(v.jsx)(f.a,{i18nKey:"editor.infoToc"})}),c]})}),E=n(98),w=n(15),x=(n(1038),function(e){var t=e.tocAst,n=e.baseUrl;return Object(v.jsx)("div",{className:"markdown-toc-sidebar-button",children:Object(v.jsxs)(E.a,{drop:"up",children:[Object(v.jsx)(E.a.Toggle,{id:"toc-overlay-button",variant:"secondary",className:"no-arrow",children:Object(v.jsx)(w.a,{icon:"list-ol"})}),Object(v.jsx)(E.a.Menu,{children:Object(v.jsx)("div",{className:"p-2",children:Object(v.jsx)(p,{ast:t,baseUrl:n})})})]})})}),y=function(e){var t=e.tocAst,n=e.width,r=e.baseUrl;return n>=1100?Object(v.jsx)(p,{ast:t,className:"sticky",baseUrl:r}):Object(v.jsx)(x,{tocAst:t,baseUrl:r})},M=function(e){var t,n=e.additionalOuterContainerClasses,a=e.additionalRendererClasses,i=e.onFirstHeadingChange,c=e.onFrontmatterChange,s=e.onMakeScrollSource,u=e.onTaskCheckedChange,d=e.baseUrl,f=e.markdownContent,b=e.onImageClick,O=e.onScroll,k=e.scrollState,T=e.onHeightChange,m=e.disableToc,p=Object(r.useRef)(null),E=Object(l.a)({ref:p.current}),w=Object(r.useRef)(null),x=null!==(t=Object(l.a)({ref:w.current}).width)&&void 0!==t?t:0,M=Object(r.useState)(),N=Object(o.a)(M,2),_=N[0],R=N[1],H=Object(j.a)((function(e){return e.noteDetails.frontmatter.breaks}));Object(r.useEffect)((function(){T&&T(E.height?E.height+1:0)}),[E.height,T]);var A=Object(r.useMemo)((function(){return f.split("\n").length}),[f]),I=g(w,p,A,k,O),D=Object(o.a)(I,2),U=D[0],L=D[1];return Object(v.jsxs)("div",{className:"markdown-document ".concat(null!==n&&void 0!==n?n:""),ref:w,onScroll:L,onMouseEnter:s,children:[Object(v.jsx)("div",{className:"markdown-document-side"}),Object(v.jsxs)("div",{className:"markdown-document-content",children:[Object(v.jsx)(S,{}),Object(v.jsx)(C.BasicMarkdownRenderer,{outerContainerRef:p,className:"mb-3 ".concat(null!==a&&void 0!==a?a:""),content:f,onFirstHeadingChange:i,onLineMarkerPositionChanged:U,onFrontmatterChange:c,onTaskCheckedChange:u,onTocChange:R,baseUrl:d,onImageClick:b,useAlternativeBreaks:H})]}),Object(v.jsx)("div",{className:"markdown-document-side pt-4",children:Object(v.jsx)(h.a,{condition:!!_&&!m,children:Object(v.jsx)(y,{tocAst:_,baseUrl:d,width:x})})})]})},N=n(70),_=n(82),R=n(112),H=n(113),A=function(e){Object(R.a)(n,e);var t=Object(H.a)(n);function n(){var e;Object(N.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).onSetMarkdownContentHandler=void 0,e.onSetDarkModeHandler=void 0,e.onSetScrollStateHandler=void 0,e.onSetBaseConfigurationHandler=void 0,e}return Object(_.a)(n,[{key:"onSetBaseConfiguration",value:function(e){this.onSetBaseConfigurationHandler=e}},{key:"onSetMarkdownContent",value:function(e){this.onSetMarkdownContentHandler=e}},{key:"onSetDarkMode",value:function(e){this.onSetDarkModeHandler=e}},{key:"onSetScrollState",value:function(e){this.onSetScrollStateHandler=e}},{key:"sendRendererReady",value:function(){this.sendMessageToOtherSide({type:i.a.RENDERER_READY})}},{key:"sendTaskCheckBoxChange",value:function(e,t){this.sendMessageToOtherSide({type:i.a.ON_TASK_CHECKBOX_CHANGE,checked:t,lineInMarkdown:e})}},{key:"sendFirstHeadingChanged",value:function(e){this.sendMessageToOtherSide({type:i.a.ON_FIRST_HEADING_CHANGE,firstHeading:e})}},{key:"sendSetScrollSourceToRenderer",value:function(){this.sendMessageToOtherSide({type:i.a.SET_SCROLL_SOURCE_TO_RENDERER})}},{key:"sendSetFrontmatter",value:function(e){this.sendMessageToOtherSide({type:i.a.ON_SET_FRONTMATTER,frontmatter:e})}},{key:"sendSetScrollState",value:function(e){this.sendMessageToOtherSide({type:i.a.SET_SCROLL_STATE,scrollState:e})}},{key:"sendClickedImageUrl",value:function(e){this.sendMessageToOtherSide({type:i.a.IMAGE_CLICKED,details:e})}},{key:"sendHeightChange",value:function(e){this.sendMessageToOtherSide({type:i.a.ON_HEIGHT_CHANGE,height:e})}},{key:"handleEvent",value:function(e){var t,n,r,a,o=e.data;switch(o.type){case i.a.SET_MARKDOWN_CONTENT:return null===(t=this.onSetMarkdownContentHandler)||void 0===t||t.call(this,o.content),!1;case i.a.SET_DARKMODE:return null===(n=this.onSetDarkModeHandler)||void 0===n||n.call(this,o.activated),!1;case i.a.SET_SCROLL_STATE:return null===(r=this.onSetScrollStateHandler)||void 0===r||r.call(this,o.scrollState),!1;case i.a.SET_BASE_CONFIGURATION:return null===(a=this.onSetBaseConfigurationHandler)||void 0===a||a.call(this,o.baseConfiguration),!1}}}]),n}(n(194).a),I=n(120),D=Object(r.createContext)(void 0),U=function(e){var t=e.children,n=Object(I.b)((function(e){return e.config.iframeCommunication.editorOrigin})),a=Object(r.useMemo)((function(){var e=new A;return e.setOtherSide(window.parent,n),e}),[n]);return Object(r.useEffect)((function(){var e=a;return null===e||void 0===e||e.sendRendererReady(),function(){return null===e||void 0===e?void 0:e.unregisterEventListener()}}),[a]),Object(v.jsx)(D.Provider,{value:a,children:t})},L=function(){var e=Object(r.useState)(""),t=Object(o.a)(e,2),n=t[0],a=t[1],l=Object(r.useState)({firstLineInView:1,scrolledPercentage:0}),u=Object(o.a)(l,2),d=u[0],f=u[1],b=Object(r.useState)(void 0),O=Object(o.a)(b,2),h=O[0],j=O[1],S=Object(r.useContext)(D);Object(r.useEffect)((function(){return null===S||void 0===S?void 0:S.onSetBaseConfiguration(j)}),[S]),Object(r.useEffect)((function(){return null===S||void 0===S?void 0:S.onSetMarkdownContent(a)}),[S]),Object(r.useEffect)((function(){return null===S||void 0===S?void 0:S.onSetDarkMode(c.d)}),[S]),Object(r.useEffect)((function(){return null===S||void 0===S?void 0:S.onSetScrollState(f)}),[S,d]);var g=Object(r.useCallback)((function(e,t){null===S||void 0===S||S.sendTaskCheckBoxChange(e,t)}),[S]),C=Object(r.useCallback)((function(e){null===S||void 0===S||S.sendFirstHeadingChanged(e)}),[S]),k=Object(r.useCallback)((function(){null===S||void 0===S||S.sendSetScrollSourceToRenderer()}),[S]),T=Object(r.useCallback)((function(e){Object(s.c)(e),null===S||void 0===S||S.sendSetFrontmatter(e)}),[S]),m=Object(r.useCallback)((function(e){null===S||void 0===S||S.sendSetScrollState(e)}),[S]),p=function(e){return Object(r.useCallback)((function(t){var n=t.target;""!==n.src&&(null===e||void 0===e||e.sendClickedImageUrl({src:n.src,alt:n.alt,title:n.title}))}),[e])}(S),E=Object(r.useCallback)((function(e){null===S||void 0===S||S.sendHeightChange(e)}),[S]);if(!h)return null;switch(h.rendererType){case i.b.DOCUMENT:return Object(v.jsx)(M,{additionalOuterContainerClasses:"vh-100 bg-light",markdownContent:n,onTaskCheckedChange:g,onFirstHeadingChange:C,onMakeScrollSource:k,onFrontmatterChange:T,scrollState:d,onScroll:m,baseUrl:h.baseUrl,onImageClick:p});case i.b.INTRO:return Object(v.jsx)(M,{additionalOuterContainerClasses:"vh-100 bg-light overflow-y-hidden",markdownContent:n,baseUrl:h.baseUrl,onImageClick:p,disableToc:!0,onHeightChange:E});default:return null}},F=function(){return Object(a.a)(),Object(v.jsx)(U,{children:Object(v.jsx)(L,{})})};t.default=F},333:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return u}));var r=n(21),a=n(175),o=n(87),i=function(e){r.a.dispatch({type:o.a.SET_DOCUMENT_CONTENT,content:e})},c=function(e){r.a.dispatch({type:o.a.SET_NOTE_DATA_FROM_SERVER,note:e})},s=function(e){r.a.dispatch({type:o.a.UPDATE_NOTE_TITLE_BY_FIRST_HEADING,firstHeading:e})},l=function(e){e||(e=a.b.frontmatter),r.a.dispatch({type:o.a.SET_NOTE_FRONTMATTER,frontmatter:e})},u=function(e,t){r.a.dispatch({type:o.a.SET_CHECKBOX_IN_MARKDOWN_CONTENT,checked:t,lineInMarkdown:e})}},389:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),a=n(162),o=function(){var e=Object(a.a)();Object(r.useEffect)((function(){return e?window.document.body.classList.add("dark"):window.document.body.classList.remove("dark"),function(){window.document.body.classList.remove("dark")}}),[e])}}}]);
//# sourceMappingURL=renderPage.f9ed0a92.chunk.js.map